(self["webpackChunkc_tool"]=self["webpackChunkc_tool"]||[]).push([[8144],{2398:function(t,e,r){"use strict";r.d(e,{Z:function(){return h}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Input",{staticClass:"auto-height-textarea",style:t.style,attrs:{type:"textarea",placeholder:t.placeholder},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})},a=[],i=(r(9653),r(92222),r(69600),r(96486)),o=r.n(i),u={name:"autoHeightTextarea",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},height:{type:[String,Number],default:""}},data:function(){return{textarea:""}},computed:{style:function(){var t=[];return this.height&&t.push("height:".concat(this.height).concat(o().isNumber(this.height)?"px":"")),t.join(";")}},watch:{textarea:function(t){t!==this.value&&this.$emit("input",t)},value:function(t){t!==this.textarea&&(this.textarea=t)}},created:function(){this.textarea=this.value}},s=u,l=r(1001),c=(0,l.Z)(s,n,a,!1,null,null,null),h=c.exports},46976:function(t,e,r){"use strict";r.d(e,{Z:function(){return f}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{style:"height:"+t.height},[t._t("default")],2)},a=[],i=r(62032),o=(r(9653),r(92222),r(57327),r(41539),r(26699),r(32023),r(34809));function u(t){var e=document.querySelector(t);if(null===e)return 0;var r=window.getComputedStyle(e),n=parseFloat(r["marginTop"])+parseFloat(r["marginBottom"]);return Math.ceil(e.offsetHeight+n)}var s={name:"heightResize",props:{append:{type:Array,default:function(){return[]}},reduce:{type:Number,default:0},remove:{type:Array,default:function(){return[]}},ignore:{type:Boolean,default:!1}},data:function(){return{height:"auto"}},methods:{reportWindowSize:function(){var t=this;setTimeout((function(){return t.resize()}),2)},resize:function(){var t,e=this,r=window.innerHeight,n=[".tool-select-block",".tool-category-menu-block",".ctool-bottom"],a=n.filter((function(t){return!e.remove.includes(t)})).concat(this.append),o=(0,i.Z)(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;r-=u(s)}}catch(l){o.e(l)}finally{o.f()}this.reduce>0&&(r-=this.reduce),r>100&&(r-=5),this.ignore||(this.height=r+"px"),this.$emit("resize",r)}},destroyed:function(){window.removeEventListener(o.KU,this.reportWindowSize)},mounted:function(){window.addEventListener(o.KU,this.reportWindowSize),this.resize()}},l=s,c=r(1001),h=(0,c.Z)(l,n,a,!1,null,null,null),f=h.exports},8144:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return f}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("heightResize",{attrs:{reduce:5},on:{resize:t.resize}},[r("Row",{attrs:{gutter:10}},[r("Col",{attrs:{span:"12"}},[r("autoHeightTextarea",{attrs:{height:t.inputHeight,placeholder:"SQL:SELECT * FROM T WHERE id=? AND name = ?"},model:{value:t.current.sqlStr,callback:function(e){t.$set(t.current,"sqlStr",e)},expression:"current.sqlStr"}}),r("autoHeightTextarea",{staticStyle:{"margin-top":"10px"},attrs:{height:t.inputHeight,placeholder:t.$t("sqlFillParameter_parameter")+":1(Integer),zhangshan(String)"},model:{value:t.current.paramStr,callback:function(e){t.$set(t.current,"paramStr",e)},expression:"current.paramStr"}})],1),r("Col",{attrs:{span:"12"}},[r("input-block",{attrs:{text:""+(t.outStr?t.$t("sqlFillParameter_copy"):"")},on:{"on-default-right-bottom-click":function(){return t.$copy(t.outStr)}}},[r("autoHeightTextarea",{attrs:{height:t.outputHeight,placeholder:t.$t("sqlFillParameter_out")+":SELECT * FROM T WHERE id=1 AND name='zhangshan'"},model:{value:t.outStr,callback:function(e){t.outStr=e},expression:"outStr"}})],1)],1)],1)],1)},a=[],i=(r(21703),r(74916),r(23123),r(21249),r(46976)),o=r(2398),u=["String","Integer","Long","Timestamp"],s={components:{heightResize:i.Z,autoHeightTextarea:o.Z},data:function(){return{inputHeight:100,outputHeight:100,current:{sqlStr:"",paramStr:""}}},created:function(){this.$initToolData()},computed:{outStr:function(){try{if(!this.current.sqlStr||!this.current.paramStr)return"";for(var t=this.convertParameter(),e=this.current.sqlStr,r="",n=0,a="",i=0;i<e.length;i++){var o=e.charAt(i);if("?"===o){if(t.length<=n)throw new Error(this.$t("sqlFillParameter_parameter_too_little"));var s=t[n];switch(s.type){case u[0]:a="'"+s.value+"'";break;case u[1]:case u[2]:a=s.value;break;case u[3]:a="timestamp"+s.value;break;default:a=s.value}r+=a,n++}else r+=o}return this.$saveToolData(this.current),r}catch(l){return l.message}}},methods:{resize:function(t){this.outputHeight=t,this.inputHeight=Math.floor((t-10)/2)},clear:function(){this.current.sqlStr="",this.current.paramStr="",this.current.outStr=""},fill:function(){},convertParameter:function(){var t=this;if(this.current.paramStr){var e=this.current.paramStr.split(",",-1);return e.map((function(e){var r=e.lastIndexOf("(");if(r<0)throw new Error(t.$t("sqlFillParameter_invalid_param")+e);var n=e.substring(0,r),a=e.length,i=e.substring(r+1,a-1);return{value:n,type:i}}))}return[]}}},l=s,c=r(1001),h=(0,c.Z)(l,n,a,!1,null,null,null),f=h.exports},50863:function(t,e,r){var n=r(1702);t.exports=n(1..valueOf)},92222:function(t,e,r){"use strict";var n=r(82109),a=r(17854),i=r(47293),o=r(43157),u=r(70111),s=r(47908),l=r(26244),c=r(86135),h=r(65417),f=r(81194),p=r(5112),d=r(7392),m=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",S=a.TypeError,y=d>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),x=f("concat"),b=function(t){if(!u(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},E=!y||!x;n({target:"Array",proto:!0,forced:E},{concat:function(t){var e,r,n,a,i,o=s(this),u=h(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?o:arguments[e],b(i)){if(a=l(i),f+a>g)throw S(v);for(r=0;r<a;r++,f++)r in i&&c(u,f,i[r])}else{if(f>=g)throw S(v);c(u,f++,i)}return u.length=f,u}})},9653:function(t,e,r){"use strict";var n=r(19781),a=r(17854),i=r(1702),o=r(54705),u=r(31320),s=r(92597),l=r(79587),c=r(47976),h=r(52190),f=r(57593),p=r(47293),d=r(8006).f,m=r(31236).f,g=r(3070).f,v=r(50863),S=r(53111).trim,y="Number",x=a[y],b=x.prototype,E=a.TypeError,w=i("".slice),N=i("".charCodeAt),_=function(t){var e=f(t,"number");return"bigint"==typeof e?e:I(e)},I=function(t){var e,r,n,a,i,o,u,s,l=f(t,"number");if(h(l))throw E("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=S(l),e=N(l,0),43===e||45===e){if(r=N(l,2),88===r||120===r)return NaN}else if(48===e){switch(N(l,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(i=w(l,2),o=i.length,u=0;u<o;u++)if(s=N(i,u),s<48||s>a)return NaN;return parseInt(i,n)}return+l};if(o(y,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var T,k=function(t){var e=arguments.length<1?0:x(_(t)),r=this;return c(b,r)&&p((function(){v(r)}))?l(Object(e),r,k):e},H=n?d(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),z=0;H.length>z;z++)s(x,T=H[z])&&!s(k,T)&&g(k,T,m(x,T));k.prototype=b,b.constructor=k,u(a,y,k)}}}]);