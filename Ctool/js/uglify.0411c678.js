"use strict";(self["webpackChunkc_tool"]=self["webpackChunkc_tool"]||[]).push([[5153],{96912:function(e,n,t){var i=t(9726),r=(t(74916),t(23123),t(21703),t(68309),t(40561),t(15306),t(41539),t(54747),t(92222),t(69600),t(77601),t(47042),t(38862),t(33948),t(24603),t(28450),t(88386),t(39714),t(30489),t(21249),t(2707),t(57327),t(29253),t(47941),t(56977),t(9653),t(92087),t(4723),t(36210),t(75505),t(87714),t(82801),t(1174),t(27479),t(23085)["Buffer"]),o={};!function(e){function n(e){return e.split("")}function t(e,n){return 0<=n.indexOf(e)}function o(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function a(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function s(e,n){this.message=e,this.defs=n}function f(e,n,t){if(t)for(var i in e)if(x(e,i)&&!x(n,i))throw new s("`"+i+"` is not a supported option",n);for(var i in e)x(e,i)&&(n[i]=e[i]);return n}function c(e,n){var t,i=0;for(t in n)x(n,t)&&(e[t]=n[t],i++);return i}function u(){}function l(){return!1}function p(){return!0}function d(){return this}function h(){return null}((s.prototype=Object.create(Error.prototype)).constructor=s).prototype.name="DefaultsError",a(s);var v=function(){function e(e,i){for(var r=[],o=0;o<e.length;o++){var a=i(e[o],o);a!==n&&(a instanceof t?r.push.apply(r,a.v):r.push(a))}return r}e.is_op=function(e){return e===n||e instanceof t},e.splice=function(e){return new t(e)};var n=e.skip={};function t(e){this.v=e}return e}();function m(e,n){if(e.indexOf(n)<0)return e.push(n)}function _(e,n){return e.replace(/\{([^{}]+)\}/g,(function(e,t){return t=n[t],t instanceof T?t.print_to_string():t}))}function g(e,n){n=e.indexOf(n),0<=n&&e.splice(n,1)}function b(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach((function(e){n[e]=!0})),n}function y(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function w(){this._values=Object.create(null),this._size=0}function x(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function k(e,n,t){for(var i,r=e.parent(-1),o=0;i=e.parent(o++);r=i){if(ie(i))return n&&i.value===r;if(i instanceof ln){if(i.left===r)continue}else if("Call"==i.TYPE){if(i.expression===r)continue}else if(i instanceof pn){if(i.condition===r)continue}else{if(i instanceof We)return t;if(i instanceof rn){if(i.expression===r)continue}else if(i instanceof nn){if(i.expressions[0]===r)continue}else{if(i instanceof F)return!0;if(i instanceof Gn){if(i.tag===r)continue}else if(i instanceof un&&i.expression===r)continue}}return!1}}function E(n,t,i,r){void 0===r&&(r=T);var o=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));var a=["return function AST_",n,"(props){","if(props){"];t.forEach((function(e){a.push("this.",e,"=props.",e,";")})),a.push("}");var s=Object.create(r&&r.prototype);(i.initialize||s.initialize)&&a.push("this.initialize();"),a.push("};");var f,c=new Function(a.join(""))();for(f in c.prototype=s,(c.prototype.CTOR=c).prototype.TYPE=c.TYPE=n,r&&(c.BASE=r).SUBCLASSES.push(c),c.DEFMETHOD=function(e,n){this.prototype[e]=n},c.PROPS=t,c.SELF_PROPS=o,c.SUBCLASSES=[],i)x(i,f)&&(/^\$/.test(f)?c[f.substr(1)]=i[f]:c.DEFMETHOD(f,i[f]));return void 0!==e&&(e["AST_"+n]=c),c}w.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new w;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},w.fromObject=function(e){var n=new w;return n._size=c(n._values,e),n};var S=E("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),T=E("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new lt((function(e){if(e!==n)return e.clone(!0)})))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:function(){if("Node"==this.TYPE)throw new Error("should not instantiate AST_Node")},validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var e={};this.walk(new ut((function(n){if(n.validate_visited===e)throw new Error(_("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+n.TYPE,file:n.start.file,line:n.start.line,col:n.start.col}));n.validate_visited=e})))}},null);(T.log_function=function(e,n){var t;function i(n){t[n]||(t[n]=!0,e(n))}"function"==typeof e?(t=Object.create(null),T.info=n?function(e,n){i("INFO: "+_(e,n))}:u,T.warn=function(e,n){i("WARN: "+_(e,n))}):T.info=T.warn=u})();var A=[];T.enable_validation=function(){T.disable_validation(),function e(n){var t;n.SUBCLASSES.forEach(e),x(n.prototype,"transform")&&(t=n.prototype.transform,n.prototype.transform=function(e,n){if(e=t.call(this,e,n),e instanceof T)e.validate();else if(!(null===e||n&&v.is_op(e)))throw new Error("invalid transformed value: "+e);return e},A.push((function(){n.prototype.transform=t})))}(this)},T.disable_validation=function(){for(var e;e=A.pop();)e()};var D=E("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if("Statement"==this.TYPE)throw new Error("should not instantiate AST_Statement")}}),O=E("Debugger",null,{$documentation:"Represents a debugger statement"},D),$=E("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},D),z=E("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},D);function q(e){return e instanceof D&&!(e instanceof ye)&&!(e instanceof te)}function C(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof T))throw new Error(n+" must "+t+" AST_Node");if(e instanceof Xe)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof _n)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof ot&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof sn&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(q(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof $n)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function M(e,n){C(e[n],n)}var F=E("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){M(this,"body")}},D),j=E("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){return e=this._clone(e),this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if("BlockScope"==this.TYPE)throw new Error("should not instantiate AST_BlockScope");if(null!=this.parent_scope){if(!(this.parent_scope instanceof j))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof K))throw new Error("must be contained within AST_Scope")}}},D);function P(e,n){e.body.forEach((function(e){e.walk(n)}))}var N=E("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e)}))},_validate:function(){if("Block"==this.TYPE)throw new Error("should not instantiate AST_Block");this.body.forEach((function(e){if(!q(e))throw new Error("body must contain AST_Statement")}))}},j),I=E("BlockStatement",null,{$documentation:"A block statement"},N),H=E("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if("StatementWithBody"==this.TYPE)throw new Error("should not instantiate AST_StatementWithBody");if(!q(this.body))throw new Error("body must be AST_Statement")}},j),Y=E("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,(function(){n.label.walk(e),n.body.walk(e)}))},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new ut((function(e){return e instanceof $e?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof K||void 0})))),i},_validate:function(){if(!(this.label instanceof Yn))throw new Error("label must be AST_Label")}},H),R=E("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if("IterationStatement"==this.TYPE)throw new Error("should not instantiate AST_IterationStatement")}},H),L=E("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){if("DWLoop"==this.TYPE)throw new Error("should not instantiate AST_DWLoop");M(this,"condition")}},R),B=E("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e),n.condition.walk(e)}))}},L),U=E("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e)}))}},L),V=E("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,(function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)}))},_validate:function(){if(null!=this.init){if(!(this.init instanceof T))throw new Error("init must be AST_Node");if(q(this.init)&&!(this.init instanceof Ye))throw new Error("init cannot be AST_Statement")}null!=this.condition&&M(this,"condition"),null!=this.step&&M(this,"step")}},R),W=E("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},walk:function(e){var n=this;e.visit(n,(function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)}))},_validate:function(){if("ForEnumeration"==this.TYPE)throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof Ye){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else gn(this.init,(function(e){if(!(e instanceof rn||e instanceof Rn))throw new Error("init must be assignable: "+e.TYPE)}));M(this,"object")}},R),Z=E("ForIn",null,{$documentation:"A `for ... in` statement"},W),G=E("ForOf",null,{$documentation:"A `for ... of` statement"},W),J=E("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},G),X=E("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.body.walk(e)}))},_validate:function(){M(this,"expression")}},H),K=E("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:d,_validate:function(){if("Scope"==this.TYPE)throw new Error("should not instantiate AST_Scope")}},N),Q=E("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return Bt(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new lt((function(e){if(e instanceof $&&"$ORIG"==e.value)return v.splice(n)})))},enclose:function(e){var n=(e="string"!=typeof e?"":e).indexOf(":");n<0&&(n=e.length);var t=this.body;return Bt(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new lt((function(e){if(e instanceof $&&"$ORIG"==e.value)return v.splice(t)})))}},K),ee=E("Lambda","argnames length_read rest uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean/S] whether this function accesses the arguments array"},each_argname:function(e){var n=new ut((function(t){return t instanceof Xe?(t.name.walk(n),!0):t instanceof wn?(t.value.walk(n),!0):void(t instanceof Fn&&e(t))}));this.argnames.forEach((function(e){e.walk(n)})),this.rest&&this.rest.walk(n)},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),P(n,e)}))},_validate:function(){if("Lambda"==this.TYPE)throw new Error("should not instantiate AST_Lambda");this.argnames.forEach((function(e){gn(e,(function(e){if(!(e instanceof Fn))throw new Error("argnames must be AST_SymbolFunarg[]")}),!0)})),null!=this.rest&&gn(this.rest,(function(e){if(!(e instanceof Fn))throw new Error("rest must be AST_SymbolFunarg")}))}},K),ne=E("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},ee),te=E("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if("LambdaExpression"==this.TYPE)throw new Error("should not instantiate AST_LambdaExpression")}},ee);function ie(e){return e instanceof se||e instanceof fe}function re(e){return e instanceof fe||e instanceof he||e instanceof ce||e instanceof ve||e instanceof ue}function oe(e){return e instanceof ve||e instanceof ue||e instanceof _e||e instanceof pe}function ae(e,n){ie(e)&&e.value?e.value.walk(n):P(e,n)}var se=E("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(M(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},te),fe=E("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(M(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},te),ce=E("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Pn))throw new Error("name must be AST_SymbolLambda")}},te),ue=E("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Pn))throw new Error("name must be AST_SymbolLambda")}},te),le=E("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Pn))throw new Error("name must be AST_SymbolLambda")}},te),pe=E("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Pn))throw new Error("name must be AST_SymbolLambda")}},te),de=E("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if("LambdaDefinition"==this.TYPE)throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof jn))throw new Error("name must be AST_SymbolDefun")}},ee),he=E("AsyncDefun",null,{$documentation:"An asynchronous function definition"},de),ve=E("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},de),me=E("Defun",null,{$documentation:"A function definition"},de),_e=E("GeneratorDefun",null,{$documentation:"A generator function definition"},de),ge=E("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.extends&&n.extends.walk(e),n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Class"==this.TYPE)throw new Error("should not instantiate AST_Class");null!=this.extends&&M(this,"extends"),this.properties.forEach((function(e){if(!(e instanceof we))throw new Error("properties must contain AST_ClassProperty")}))}},j),be=E("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof Nn))throw new Error("name must be AST_SymbolDefClass")}},ge),ye=E("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof In))throw new Error("name must be AST_SymbolClass")}},ge),we=E("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node] property name (AST_Node for computed property)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof T&&n.key.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){if("ClassProperty"==this.TYPE)throw new Error("should not instantiate AST_ClassProperty");if("string"!=typeof this.key){if(!(this.key instanceof T))throw new Error("key must be string or AST_Node");M(this,"key")}if(null!=this.value&&!(this.value instanceof T))throw new Error("value must be AST_Node")}}),xe=E("ClassField",null,{$documentation:"A `class` field",_validate:function(){null!=this.value&&M(this,"value")}},we),ke=E("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},we),Ee=E("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},we),Se=E("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof te))throw new Error("value must be AST_LambdaExpression");if(ie(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},we),Te=E("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if("Jump"==this.TYPE)throw new Error("should not instantiate AST_Jump")}},D),Ae=E("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,(function(){n.value&&n.value.walk(e)}))},_validate:function(){if("Exit"==this.TYPE)throw new Error("should not instantiate AST_Exit")}},Te),De=E("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&M(this,"value")}},Ae),Oe=E("Throw",null,{$documentation:"A `throw` statement",_validate:function(){M(this,"value")}},Ae),$e=E("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,(function(){n.label&&n.label.walk(e)}))},_validate:function(){if("LoopControl"==this.TYPE)throw new Error("should not instantiate AST_LoopControl");if(null!=this.label&&!(this.label instanceof Bn))throw new Error("label must be AST_LabelRef")}},Te),ze=E("Break",null,{$documentation:"A `break` statement"},$e),qe=E("Continue",null,{$documentation:"A `continue` statement"},$e),Ce=E("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)}))},_validate:function(){if(M(this,"condition"),null!=this.alternative&&!q(this.alternative))throw new Error("alternative must be AST_Statement")}},H),Me=E("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){M(this,"expression"),this.body.forEach((function(e){if(!(e instanceof Fe))throw new Error("body must be AST_SwitchBranch[]")}))}},N),Fe=E("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if("SwitchBranch"==this.TYPE)throw new Error("should not instantiate AST_SwitchBranch")}},N),je=E("Default",null,{$documentation:"A `default` switch branch"},Fe),Pe=E("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){M(this,"expression")}},Fe),Ne=E("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)}))},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof Ie))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof He))throw new Error("bfinally must be AST_Finally")}},N),Ie=E("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.argname&&n.argname.walk(e),P(n,e)}))},_validate:function(){null!=this.argname&&gn(this.argname,(function(e){if(!(e instanceof Hn))throw new Error("argname must be AST_SymbolCatch")}))}},N),He=E("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},N),Ye=E("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(e){var n=this;e.visit(n,(function(){n.definitions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Definitions"==this.TYPE)throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},D),Re=E("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ue))throw new Error("definitions must be AST_VarDef[]");gn(e.name,(function(e){if(!(e instanceof zn))throw new Error("name must be AST_SymbolConst")}))}))}},Ye),Le=E("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ue))throw new Error("definitions must be AST_VarDef[]");gn(e.name,(function(e){if(!(e instanceof Cn))throw new Error("name must be AST_SymbolLet")}))}))}},Ye),Be=E("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ue))throw new Error("definitions must be AST_VarDef[]");gn(e.name,(function(e){if(!(e instanceof Mn))throw new Error("name must be AST_SymbolVar")}))}))}},Ye),Ue=E("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){null!=this.value&&M(this,"value")}}),Ve=E("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){if(!(this.body instanceof be||this.body instanceof Ye||this.body instanceof de))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},D),We=E("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){this.body instanceof be||this.body instanceof de||M(this,"body")}},D),Ze=E("ExportForeign","aliases keys path quote",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[string*] array of aliases to export",keys:"[string*] array of keys to import",path:"[string] the path to import module",quote:"[string?] the original quote character"},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach((function(e){if("string"!=typeof e)throw new Error("aliases must contain string")})),this.keys.forEach((function(e){if("string"!=typeof e)throw new Error("keys must contain string")})),"string"!=typeof this.path)throw new Error("path must be string");if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},D),Ge=E("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof Ln))throw new Error("properties must contain AST_SymbolExport")}))}},D),Je=E("Import","all default path properties quote",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[string] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified",quote:"[string?] the original quote character"},walk:function(e){var n=this;e.visit(n,(function(){n.all&&n.all.walk(e),n.default&&n.default.walk(e),n.properties&&n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(null!=this.all){if(!(this.all instanceof qn))throw new Error("all must be AST_SymbolImport");if(null!=this.properties)throw new Error("cannot import both * and {} in the same statement")}if(null!=this.default){if(!(this.default instanceof qn))throw new Error("default must be AST_SymbolImport");if(""!==this.default.key)throw new Error("invalid default key: "+this.default.key)}if("string"!=typeof this.path)throw new Error("path must be string");if(null!=this.properties&&this.properties.forEach((function(e){if(!(e instanceof qn))throw new Error("properties must contain AST_SymbolImport")})),null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},D),Xe=E("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value.walk(e)}))},_validate:function(){M(this,"value")}});function Ke(e,n,t,i){e[n].forEach((function(e){C(e,n,!0,t,i)}))}var Qe=E("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[string/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.args.forEach((function(n){n.walk(e)}))}))},_validate:function(){M(this,"expression"),Ke(this,"args",!0)}}),en=E("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},Qe),nn=E("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(e){var n=this;e.visit(n,(function(){n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");Ke(this,"expressions")}});function tn(e){for(;e instanceof rn;)e=e.expression;return e}var rn=E("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},get_property:function(){var e=this.property;return e instanceof Jn?e.value:e instanceof cn&&"void"==e.operator&&e.expression instanceof Jn?void 0:e},_validate:function(){if("PropAccess"==this.TYPE)throw new Error("should not instantiate AST_PropAccess");M(this,"expression")}}),on=E("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},rn),an=E("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.property.walk(e)}))},_validate:function(){M(this,"property")}},rn),sn=E("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){M(this,"expression")}}),fn=E("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("Unary"==this.TYPE)throw new Error("should not instantiate AST_Unary");if("string"!=typeof this.operator)throw new Error("operator must be string");M(this,"expression")}}),cn=E("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},fn),un=E("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},fn),ln=E("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,(function(){n.left.walk(e),n.right.walk(e)}))},_validate:function(){if(this instanceof dn||M(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");M(this,"right")}}),pn=E("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)}))},_validate:function(){M(this,"condition"),M(this,"consequent"),M(this,"alternative")}}),dn=E("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof _n){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);gn(this.left,(function(e){if(!(e instanceof rn||e instanceof Rn))throw new Error("left must be assignable: "+e.TYPE)}))}}},ln),hn=E("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){M(this,"expression")}}),vn=E("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},walk:function(e){var n=this;e.visit(n,(function(){n.expression&&n.expression.walk(e)}))},_validate:function(){if(null!=this.expression)M(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),mn=E("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)}))}))},_validate:function(){Ke(this,"elements",!0,!0)}}),_n=E("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if("Destructured"==this.TYPE)throw new Error("should not instantiate AST_Destructured")}});function gn(e,n,t){if(e instanceof Xe&&t)return gn(e.name,n);if(e instanceof _n){if(null!=e.rest&&gn(e.rest,n),e instanceof yn)return e.elements.forEach((function(e){e instanceof ot||gn(e,n,!0)}));if(e instanceof xn)return e.properties.forEach((function(e){gn(e.value,n,!0)}))}n(e)}var bn,yn=E("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))}},_n),wn=E("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof T&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof T))throw new Error("key must be string or AST_Node");M(this,"key")}if(!(this.value instanceof T))throw new Error("value must be AST_Node")}}),xn=E("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof wn))throw new Error("properties must be AST_DestructuredKeyVal[]")}))}},_n),kn=E("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof En||e instanceof sn))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")}))}}),En=E("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof T&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("ObjectProperty"==this.TYPE)throw new Error("should not instantiate AST_ObjectProperty");if("string"!=typeof this.key){if(!(this.key instanceof T))throw new Error("key must be string or AST_Node");M(this,"key")}if(!(this.value instanceof T))throw new Error("value must be AST_Node")}}),Sn=E("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){M(this,"value")}},En),Tn=E("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof te))throw new Error("value must be AST_LambdaExpression");if(ie(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of object method's lambda must be null")}},Sn),An=E("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},En),Dn=E("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},En),On=E("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("Symbol"==this.TYPE)throw new Error("should not instantiate AST_Symbol");if("string"!=typeof this.name)throw new Error("name must be string")}}),$n=E("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},On),zn=E("SymbolConst",null,{$documentation:"Symbol defining a constant"},$n),qn=E("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[string] the original `export` name"},_validate:function(){if("string"!=typeof this.key)throw new Error("key must be string")}},zn),Cn=E("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},$n),Mn=E("SymbolVar",null,{$documentation:"Symbol defining a variable"},$n),Fn=E("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Mn),jn=E("SymbolDefun",null,{$documentation:"Symbol defining a function"},$n),Pn=E("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},$n),Nn=E("SymbolDefClass",null,{$documentation:"Symbol defining a class"},zn),In=E("SymbolClass",null,{$documentation:"Symbol naming a class expression"},zn),Hn=E("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},$n),Yn=E("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},On),Rn=E("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},On),Ln=E("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[string] the `export` alias"},_validate:function(){if("string"!=typeof this.alias)throw new Error("alias must be string")}},Rn),Bn=E("LabelRef",null,{$documentation:"Reference to a label symbol"},On),Un=E("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_validate:function(){if("ObjectIdentity"==this.TYPE)throw new Error("should not instantiate AST_ObjectIdentity")}},On),Vn=E("Super",null,{$documentation:"The `super` symbol",_validate:function(){if("super"!==this.name)throw new Error('name must be "super"')}},Un),Wn=E("This",null,{$documentation:"The `this` symbol",_validate:function(){if("This"==this.TYPE&&"this"!==this.name)throw new Error('name must be "this"')}},Un),Zn=E("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if("new.target"!==this.name)throw new Error('name must be "new.target": '+this.name)}},Wn),Gn=E("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node] tag function, or null if absent"},walk:function(e){var n=this;e.visit(n,(function(){n.tag&&n.tag.walk(e),n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");Ke(this,"expressions"),this.strings.forEach((function(e){if("string"!=typeof e)throw new Error("strings must contain string")})),null!=this.tag&&M(this,"tag")}}),Jn=E("Constant",null,{$documentation:"Base class for all constants",_validate:function(){if("Constant"==this.TYPE)throw new Error("should not instantiate AST_Constant")}}),Xn=E("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},Jn),Kn=E("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},Jn),Qn=E("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},Jn),et=E("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Jn),nt=E("Atom",null,{$documentation:"Base class for atoms",_validate:function(){if("Atom"==this.TYPE)throw new Error("should not instantiate AST_Atom")}},Jn),tt=E("Null",null,{$documentation:"The `null` atom",value:null},nt),it=E("NaN",null,{$documentation:"The impossible value",value:NaN},nt),rt=E("Undefined",null,{$documentation:"The `undefined` value",value:void 0},nt),ot=E("Hole",null,{$documentation:"A hole in an array",value:void 0},nt),at=E("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},nt),st=E("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if("Boolean"==this.TYPE)throw new Error("should not instantiate AST_Boolean")}},nt),ft=E("False",null,{$documentation:"The `false` atom",value:!1},st),ct=E("True",null,{$documentation:"The `true` atom",value:!0},st);function ut(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function lt(e,n){ut.call(this),this.before=e,this.after=n}function pt(e,n){return v(e,(function(e){return e.transform(n,!0)}))}function dt(e,n){e.argnames=pt(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.value?e.value=e.value.transform(n):e.body=pt(e.body,n)}ut.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||u)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof ee?this.directives=Object.create(this.directives):e instanceof $&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof ee&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof K)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof $))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof Y&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof R||e instanceof ze&&n instanceof Me)return n},in_boolean_context:function(){for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof pn&&e.condition===n||e instanceof L&&e.condition===n||e instanceof V&&e.condition===n||e instanceof Ce&&e.condition===n||e instanceof De&&e.in_bool||e instanceof nn&&e.tail_node()!==n||e instanceof F||e instanceof cn&&"!"==e.operator&&e.expression===n)return!0;if(e instanceof ln&&("&&"==e.operator||"||"==e.operator)||e instanceof pn||e.tail_node()===n)n=e;else{if(!(e instanceof De))return!1;for(var i,r=e;i=this.parent(++t);r=i)if("Call"==i.TYPE){if(!(r instanceof ee)||r.name)return!1}else if(r instanceof ee)return!1}}}},lt.prototype=new ut,(bn=function(e,n){e.DEFMETHOD("transform",(function(e,t){var i,r;return e.push(this),void 0===(i=e.before?e.before(this,n,t):i)&&(n(i=this,e),e.after&&void 0!==(r=e.after(i,t))&&(i=r)),e.pop(),i}))})(T,u),bn(Y,(function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)})),bn(F,(function(e,n){e.body=e.body.transform(n)})),bn(N,(function(e,n){e.body=pt(e.body,n)})),bn(B,(function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)})),bn(U,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)})),bn(V,(function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)})),bn(W,(function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)})),bn(X,(function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)})),bn(Ae,(function(e,n){e.value&&(e.value=e.value.transform(n))})),bn($e,(function(e,n){e.label&&(e.label=e.label.transform(n))})),bn(Ce,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))})),bn(Me,(function(e,n){e.expression=e.expression.transform(n),e.body=pt(e.body,n)})),bn(Pe,(function(e,n){e.expression=e.expression.transform(n),e.body=pt(e.body,n)})),bn(Ne,(function(e,n){e.body=pt(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))})),bn(Ie,(function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=pt(e.body,n)})),bn(Ye,(function(e,n){e.definitions=pt(e.definitions,n)})),bn(Ue,(function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))})),bn(Xe,(function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)})),bn(ee,(function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=pt(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.body=pt(e.body,n)})),bn(se,dt),bn(fe,dt),bn(ge,(function(e,n){e.name&&(e.name=e.name.transform(n)),e.extends&&(e.extends=e.extends.transform(n)),e.properties=pt(e.properties,n)})),bn(we,(function(e,n){e.key instanceof T&&(e.key=e.key.transform(n)),e.value&&(e.value=e.value.transform(n))})),bn(Qe,(function(e,n){e.expression=e.expression.transform(n),e.args=pt(e.args,n)})),bn(nn,(function(e,n){e.expressions=pt(e.expressions,n)})),bn(hn,(function(e,n){e.expression=e.expression.transform(n)})),bn(vn,(function(e,n){e.expression&&(e.expression=e.expression.transform(n))})),bn(on,(function(e,n){e.expression=e.expression.transform(n)})),bn(an,(function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)})),bn(sn,(function(e,n){e.expression=e.expression.transform(n)})),bn(fn,(function(e,n){e.expression=e.expression.transform(n)})),bn(ln,(function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)})),bn(pn,(function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)})),bn(mn,(function(e,n){e.elements=pt(e.elements,n)})),bn(yn,(function(e,n){e.elements=pt(e.elements,n),e.rest&&(e.rest=e.rest.transform(n))})),bn(wn,(function(e,n){e.key instanceof T&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),bn(xn,(function(e,n){e.properties=pt(e.properties,n),e.rest&&(e.rest=e.rest.transform(n))})),bn(kn,(function(e,n){e.properties=pt(e.properties,n)})),bn(En,(function(e,n){e.key instanceof T&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),bn(Ve,(function(e,n){e.body=e.body.transform(n)})),bn(We,(function(e,n){e.body=e.body.transform(n)})),bn(Ge,(function(e,n){e.properties=pt(e.properties,n)})),bn(Je,(function(e,n){e.all&&(e.all=e.all.transform(n)),e.default&&(e.default=e.default.transform(n)),e.properties&&(e.properties=pt(e.properties,n))})),bn(Gn,(function(e,n){e.tag&&(e.tag=e.tag.transform(n)),e.expressions=pt(e.expressions,n)}));var ht=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",_t="false null true",mt="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with"].join(" "),vt="return new delete throw else case",mt=b(mt),_t=(ht=b(ht),vt=b(vt),b(_t)),gt=/^0b([01]+)$/i,bt=/^0x([0-9a-f]+)$/i,yt=/^0o?([0-7]+)$/i,wt=b(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),xt="\n\r\u2028\u2029",kt="+-*&%=<>!?|~^",Et=",;:)}]",St="[{(,;:",Tt=St+"`)}]",At=xt+"  \t\f\v​             　\ufeff",Dt=b(n("./'\"#"+kt+Tt+At));function Ot(e){return 56320<=e&&e<=57343}function $t(e){return 48<=e&&e<=57}function zt(e){return!Dt[e]}function qt(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function Ct(e){switch(e[0]){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":if("{"==e[1]&&"}"==e.slice(-1))n=e.slice(2,-1);else{if(5!=e.length)return;n=e.slice(1)}return(n=parseInt(n,16))<0||isNaN(n)?void 0:n<65536?String.fromCharCode(n):1114111<n?void 0:String.fromCharCode(55232+(n>>10))+String.fromCharCode(56320+(1023&n));case"v":return"\v";case"x":return 3!=e.length||(n=parseInt(e.slice(1),16))<0||isNaN(n)?void 0:String.fromCharCode(n);var n;case"\r":case"\n":return"";default:return"0"==e?"\0":"0"<=e[0]&&e[0]<="9"?void 0:e}}function Mt(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function Ft(e,n,t,i,r){throw new Mt(e,n,t,i,r)}function jt(e,n,t){return e.type==n&&(null==t||e.value==t)}xt=b(n(xt)),kt=b(n(kt)),Et=b(n(Et)),St=b(n(St)),Tt=b(n(Tt)),At=b(n(At)),((Mt.prototype=Object.create(Error.prototype)).constructor=Mt).prototype.name="SyntaxError",a(Mt);var Pt={};function Nt(e,n,t,i){var r={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[],read_template:x("Unterminated template literal",(function(e){for(var n="";;){var t=i();switch(t){case"\\":t+=i();break;case"`":return void e.push(n);case"$":if("{"==a())return s(),e.push(n),r.regex_allowed=!0}n+=t}function i(){var e=s(!0,!0);return"\r"==e?"\n":e}}))},o=!1;function a(){return r.text.charAt(r.pos)}function s(e,n){var t=r.text.charAt(r.pos++);if(e&&!t)throw Pt;return xt[t]?(r.col=0,r.line++,n||(r.newline_before=!0),"\r"==t&&"\n"==a()&&(r.pos++,t="\n")):r.col++,t}function f(e){for(;0<e--;)s()}function c(e){return r.text.substr(r.pos,e.length)==e}function u(){r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos}function l(t,i,a){return r.regex_allowed="operator"==t&&!Ht[i]||"keyword"==t&&vt[i]||"punc"==t&&St[i],"punc"==t&&"."==i?o=!0:a||(o=!1),i={type:t,value:i,line:r.tokline,col:r.tokcol,pos:r.tokpos,endline:r.line,endcol:r.col,endpos:r.pos,nlb:r.newline_before,file:n},/^(?:num|string|regexp)$/i.test(t)&&(i.raw=e.substring(i.pos,i.endpos)),a||(i.comments_before=r.comments_before,i.comments_after=r.comments_before=[]),r.newline_before=!1,new S(i)}function p(e){Ft(e,n,r.tokline,r.tokcol,r.tokpos)}function d(e){return/^0[0-7_]+$/.test(e)}function h(e){var n=!1,t=!1,i=!1,r="."==e,o=function(e){for(var n,t="";(n=a())&&e(n,t);)t+=s();return t}((function(e,o){switch(e){case"x":case"X":return!i&&(i=!0);case"e":case"E":return i||!n&&(n=t=!0);case"+":case"-":return t;case t=!1,".":return!(r||n||i||d(o))&&(r=!0)}return/[_0-9a-dfo]/i.test(e)}));return d(o=e?e+o:o)?k.has_directive("use strict")&&p("Legacy octal literals are not allowed in strict mode"):o=o.replace(i?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1"),e=function(e){if(n=gt.exec(e))return parseInt(n[1],2);if(n=bt.exec(e))return parseInt(n[1],16);if(n=yt.exec(e))return parseInt(n[1],8);var n=parseFloat(e);return n==e?n:void 0}(o),isNaN(e)&&p("Invalid syntax: "+o),r||n||"n"!=a()?l("num",e):l("bigint",o.toLowerCase()+s())}function v(e){var n=s(!0,e);if("0"<=n&&n<="7")return function(e){var n=a();return"0"<=n&&n<="7"&&(e+=s(!0))[0]<="3"&&"0"<=(n=a())&&n<="7"&&(e+=s(!0)),"0"===e?"\0":(0<e.length&&k.has_directive("use strict")&&p("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}(n);if("u"==n){var t=s(!0,e);if(n+=t,"{"!=t)n+=s(!0,e)+s(!0,e)+s(!0,e);else for(;n+=t=s(!0,e),"}"!=t;);}else"x"==n&&(n+=s(!0,e)+s(!0,e));var i=Ct(n);return"string"!=typeof i&&p("Invalid escape sequence: \\"+n),i}var m=x("Unterminated string constant",(function(e){for(var n=s(),t="";;){var i=s(!0,!0);if("\\"==i)i=v(!0);else if(xt[i])p("Unterminated string constant");else if(i==n)break;t+=i}var r=l("string",t);return r.quote=e,r}));function _(e){var n,t=r.regex_allowed,i=function(){for(var e=r.text,n=r.pos;n<r.text.length;++n)if(xt[e[n]])return n;return-1}();return-1==i?(n=r.text.substr(r.pos),r.pos=r.text.length):(n=r.text.substring(r.pos,i),r.pos=i),r.col=r.tokcol+(r.pos-r.tokpos),r.comments_before.push(l(e,n,!0)),r.regex_allowed=t,k}var g=x("Unterminated multiline comment",(function(){var e=r.regex_allowed,n=function(e,n){if(e=r.text.indexOf(e,r.pos),n&&-1==e)throw Pt;return e}("*/",!0);n=r.text.substring(r.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return f(n.length+2),r.comments_before.push(l("comment2",n,!0)),r.regex_allowed=e,k}));function b(){for(var e,n,t=!1,i=!1,r="#"==a()?s():"";e=a();)if(t)"u"!=e&&p("Expecting UnicodeEscapeSequence -- uXXXX"),zt(e=v())||p("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),r+=e,t=!1;else if("\\"==e)i=t=!0,s();else{if(!zt(e))break;r+=s()}return mt[r]&&i&&(n=r.charCodeAt(0).toString(16).toUpperCase(),r="\\u"+"0000".substr(n.length)+n+r.slice(1)),r}var y=x("Unterminated regular expression",(function(e){for(var n,t=!1,i=!1;n=s(!0);)if(xt[n])p("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=b();try{var o=new RegExp(e,r);return o.raw_source=e,l("regexp",o)}catch(e){p(e.message)}}));function w(e){return l("operator",function e(n){if(!a())return n;var t=n+a();return wt[t]?(s(),e(t)):n}(e||s()))}function x(e,n){return function(t){try{return n(t)}catch(t){if(t!==Pt)throw t;p(e)}}}function k(e){if(null!=e)return y(e);for(i&&0==r.pos&&c("#!")&&(u(),f(2),_("comment5"));;){if(function(){for(;At[a()];)s()}(),u(),t){if(c("\x3c!--")){f(4),_("comment3");continue}if(c("--\x3e")&&r.newline_before){f(3),_("comment4");continue}}var n=a();if(!n)return l("eof");var d=n.charCodeAt(0);switch(d){case 34:case 39:return m(n);case 46:return function(){s();var e=a();if("."!=e)return $t(e.charCodeAt(0))?h("."):l("punc",".");for(var n=".";n+=".",s(),"."==a(););return l("operator",n)}();case 47:var v=function(){switch(s(),a()){case"/":return s(),_("comment1");case"*":return s(),g()}return r.regex_allowed?y(""):w("/")}();if(v===k)continue;return v}if($t(d))return h();if(Tt[n])return l("punc",s());if(c("=>"))return l("punc",s()+s());if(kt[n])return w();if(35==d||92==d||!Dt[n])return d=void 0,d=b(),o?l("name",d):_t[d]?l("atom",d):mt[d]?wt[d]?l("operator",d):l("keyword",d):l("name",d);break}p("Unexpected character '"+n+"'")}return k.context=function(e){return r=e||r},k.add_directive=function(e){r.directive_stack[r.directive_stack.length-1].push(e),r.directives[e]?r.directives[e]++:r.directives[e]=1},k.push_directives_stack=function(){r.directive_stack.push([])},k.pop_directives_stack=function(){for(var e=r.directive_stack.pop(),n=e.length;0<=--n;)r.directives[e[n]]--},k.has_directive=function(e){return 0<r.directives[e]},k}var It=b("typeof void delete -- ++ ! ~ - +"),Ht=b("-- ++"),Yt=b("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),Rt=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),Lt=b("atom bigint num regexp string");function Bt(e,n){n=f(n,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var t={input:"string"==typeof e?Nt(e,n.filename,n.html5_comments,n.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function i(e,n){return jt(t.token,e,n)}function r(){return t.peeked||(t.peeked=t.input())}function a(){return t.prev=t.token,t.peeked?(t.token=t.peeked,t.peeked=null):t.token=t.input(),t.in_directives=t.in_directives&&("string"==t.token.type||i("punc",";")),t.token}function s(){return t.prev}function c(e,n,i,r){var o=t.input.context();Ft(e,o.filename,null!=n?n:o.tokline,null!=i?i:o.tokcol,null!=r?r:o.tokpos)}function u(e,n){c(n,e.line,e.col)}function l(e,n){return e+(void 0===n?"":" «"+n+"»")}function p(e){u(e=null==e?t.token:e,"Unexpected token: "+l(e.type,e.value))}function d(e,n){if(i(e,n))return a();u(t.token,"Unexpected token: "+l(t.token.type,t.token.value)+", expected: "+l(e,n))}function h(e){return d("punc",e)}function v(e){return e.nlb||!y(e.comments_before,(function(e){return!e.nlb}))}function m(){return!n.strict&&(i("eof")||i("punc","}")||v(t.token))}function _(e){i("punc",";")?a():e||m()||h(";")}function g(){h("(");var e=nt();return h(")"),e}function b(e){return function(){var n=t.token,i=e.apply(null,arguments),r=s();return i.start=n,i.end=r,i}}function w(){(i("operator","/")||i("operator","/="))&&(t.peeked=null,t.token=t.input(t.token.value.substr(1)))}t.token=a();var k=b((function(){switch(w(),t.token.type){case"string":var e=t.in_directives,o=nt();return e&&(o instanceof Xn?(x=o.start.raw.slice(1,-1),t.input.add_directive(x),o.value=x):t.in_directives=e=!1),_(),e?new $(o):new F({body:o});case"num":case"bigint":case"regexp":case"operator":case"atom":return E();case"name":switch(t.token.value){case"async":if(jt(r(),"keyword","function"))return a(),a(),i("operator","*")?(a(),C(ve)):C(he);break;case"await":if(t.in_async)return E();break;case"export":return a(),function(){if(i("operator","*")){a();var e="*";i("name","as")&&(a(),M()||d("name"),e=t.token.value,a()),d("name","from");var n=t.token;return d("string"),_(),new Ze({aliases:[e],keys:["*"],path:n.value,quote:n.quote})}if(i("punc","{")){a();for(var o=[],f=[];M();){var c=t.token;a(),f.push(c),i("name","as")?(a(),M()||d("name"),o.push(t.token.value),a()):o.push(c.value),i("punc","}")||h(",")}return h("}"),i("name","from")?(a(),n=t.token,d("string"),_(),new Ze({aliases:o,keys:f.map((function(e){return e.value})),path:n.value,quote:n.quote})):(_(),new Ge({properties:f.map((function(e,n){return jt(e,"name")||u(e,"Name expected"),e=we(Ln,e),e.alias=o[n],e}))}))}return i("keyword","default")?(a(),e=t.token,n=function(){if(i("name","async")){if(jt(r(),"keyword","function"))return a(),a(),i("operator","*")?(a(),j(ve,C(ue))):j(he,C(ce))}else if(i("keyword"))switch(t.token.value){case"class":return a(),j(be,A(ye));case"function":return a(),i("operator","*")?(a(),j(_e,C(pe))):j(me,C(le))}}(),n?(n.start=e,n.end=s()):(w(),n=nt(),_()),new We({body:n})):new Ve({body:P()})}();case"import":var f=r();if("punc"!=f.type||!/^[(.]$/.test(f.value))return a(),function(){var e,n=null,o=Ae(qn,!0),s=null;if(o?(o.key="",i("punc",",")&&a()):!i("string"))if(i("operator","*"))a(),d("name","as"),(n=Ae(qn)).key="*";else{for(h("{"),s=[];M();){var f;jt(r(),"name","as")?(f=t.token.value,a(),a(),(e=Ae(qn)).key=f):(e=Ae(qn)).key=e.name,s.push(e),i("punc","}")||h(",")}h("}")}(n||o||s)&&d("name","from");var c=t.token;return d("string"),_(),new Je({all:n,default:o,path:c.value,properties:s,quote:c.quote})}();break;case"let":if(W()){a();var l=ee();return _(),l}break;case"yield":if(t.in_generator)return E()}return(jt(r(),"punc",":")?function(){var e=Ae(Yn);y(t.labels,(function(n){return n.name!=e.name}))||c("Label "+e.name+" defined twice"),h(":"),t.labels.push(e);var n=k();return t.labels.pop(),n instanceof R||e.references.forEach((function(n){n instanceof qe&&u(n.label.start,"Continue label `"+e.name+"` must refer to IterationStatement")})),new Y({body:n,label:e})}:E)();case"punc":switch(t.token.value){case"{":return new I({start:t.token,body:N(),end:s()});case"[":case"(":case"`":return E();case";":return t.in_directives=!1,a(),new z;default:p()}case"keyword":switch(t.token.value){case"break":return a(),S(ze);case"class":return a(),A(be);case"const":return a(),l=K(),_(),l;case"continue":return a(),S(qe);case"debugger":return a(),_(),new O;case"do":a(),o=it(k),d("keyword","while");var b=g();return _(!0),new B({body:o,condition:b});case"while":return a(),new U({condition:g(),body:it(k)});case"for":return a(),function(){var e=i("name","await")&&a();h("(");var n,t=null;return!e&&i("punc",";")||(t=i("keyword","const")?(a(),K(!0)):i("name","let")&&W()?(a(),ee(!0)):i("keyword","var")?(a(),te(!0)):nt(!0),e?(d("name","of"),n=J):i("operator","in")?(a(),n=Z):i("name","of")&&(a(),n=G),!n)?function(e){h(";");var n=i("punc",";")?null:nt();h(";");var t=i("punc",")")?null:nt();return h(")"),new V({init:e,condition:n,step:t,body:it(k)})}(t):(t instanceof Ye?(1<t.definitions.length&&u(t.start,"Only one variable declaration allowed in for..in/of loop"),n!==Z&&t.definitions[0].value&&u(t.definitions[0].value.start,"No initializers allowed in for..of loop")):On(t)||(t=Un(t))instanceof _n||u(t.start,"Invalid left-hand side in for..in/of loop"),function(e,n){w();var t=nt();return h(")"),new e({init:n,object:t,body:it(k)})}(n,t))}();case"function":return a(),i("operator","*")?(a(),C(_e)):C(me);case"if":return a(),function(){var e=g(),n=k(),t=null;return i("keyword","else")&&(a(),t=k()),new Ce({condition:e,body:n,alternative:t})}();case"return":0!=t.in_function||n.bare_returns||c("'return' outside of function"),a();var x=null;return i("punc",";")?a():m()||(x=nt(),_()),new De({value:x});case"switch":return a(),new Me({expression:g(),body:it(H)});case"throw":return a(),v(t.token)&&c("Illegal newline after 'throw'"),x=nt(),_(),new Oe({value:x});case"try":return a(),function(){var e,n,r=N(),o=null,f=null;return i("keyword","catch")&&(n=t.token,a(),e=null,i("punc","(")&&(a(),e=$e(Hn),h(")")),o=new Ie({start:n,argname:e,body:N(),end:s()})),i("keyword","finally")&&(n=t.token,a(),f=new He({start:n,body:N(),end:s()})),o||f||c("Missing catch/finally blocks"),new Ne({body:r,bcatch:o,bfinally:f})}();case"var":return a(),l=te(),_(),l;case"with":return t.input.has_directive("use strict")&&c("Strict mode may not include a with statement"),a(),new X({expression:g(),body:k()})}}p()}));function E(){var e=nt();return _(),new F({body:e})}function S(e){var n,i=null;return null!=(i=m()?i:Ae(Bn,!0))?((n=o((function(e){return e.name==i.name}),t.labels))||u(i.start,"Undefined label "+i.name),i.thedef=n):0==t.in_loop&&c(e.TYPE+" not inside a loop or switch"),_(),e=new e({label:i}),n&&n.references.push(e),e}function T(e){if(i("name",e)&&(e=r(),e&&!jt(e,"operator","=")&&!("punc"==e.type&&/^[(;}]$/.test(e.value)||v(e))))return a()}function A(e){var n=t.in_async,r=t.in_generator;t.input.push_directives_stack(),t.input.add_directive("use strict");var o=e===be?Ae(Nn):Ae(In,!0),f=null;i("keyword","extends")&&(a(),w(),f=ie(!0)),h("{");for(var c=[];!i("punc","}");)if(i("punc",";"))a();else{var u=t.token,l=!!T("static"),d=T("async");if(i("operator","*")){a();var v=i("name")&&/^#/.test(t.token.value),m=ge(),g=t.token,b=C(d?ue:pe);b.start=g,b.end=s(),c.push(new Se({start:u,static:l,private:v,key:m,value:b,end:s()}))}else if(v=i("name")&&/^#/.test(t.token.value),m=ge(),i("punc","("))g=t.token,b=C(d?ce:le),b.start=g,b.end=s(),c.push(new Se({start:u,static:l,private:v,key:m,value:b,end:s()}));else{if(d&&p(d),d=null,i("operator","="))a(),t.in_async=!1,t.in_generator=!1,d=Jn(),t.in_generator=r,t.in_async=n;else if(!i("punc",";")&&!i("punc","}")){var y=null;switch(m){case"get":y=ke;break;case"set":y=Ee}if(y){c.push(new y({start:u,static:l,private:i("name")&&/^#/.test(t.token.value),key:ge(),value:ae(),end:s()}));continue}}_(),c.push(new xe({start:u,static:l,private:v,key:m,value:d,end:s()}))}}return a(),t.input.pop_directives_stack(),t.in_generator=r,t.in_async=n,new e({extends:f,name:o,properties:c})}function D(e){if(e instanceof mn){var n=null;return e.elements[e.elements.length-1]instanceof sn&&(n=D(e.elements.pop().expression)),new yn({start:e.start,elements:e.elements.map(D),rest:n,end:e.end})}return e instanceof dn?new Xe({start:e.start,name:D(e.left),value:e.right,end:e.end}):e instanceof Xe?(e.name=D(e.name),e):e instanceof yn?(e.elements=e.elements.map(D),e.rest&&(e.rest=D(e.rest)),e):e instanceof xn?(e.properties.forEach((function(e){e.value=D(e.value)})),e.rest&&(e.rest=D(e.rest)),e):e instanceof ot?e:e instanceof kn?(n=null,e.properties[e.properties.length-1]instanceof sn&&(n=D(e.properties.pop().expression)),new xn({start:e.start,properties:e.properties.map((function(e){return e instanceof Sn||u(e.start,"Invalid destructuring assignment"),new wn({start:e.start,key:e.key,value:D(e.value),end:e.end})})),rest:n,end:e.end})):e instanceof Fn?e:e instanceof Rn?new Fn(e):void u(e.start,"Invalid arrow parameter")}function q(e,n,r){var o=t.in_async,a=t.in_generator;t.in_async=r,t.in_generator=!1;var f=t.in_funarg;t.in_funarg=t.in_function;var c,u=e.map(D),l=(l=e.rest||null)&&D(l);t.in_funarg=f,h("=>");var p=t.in_loop,d=t.labels;return++t.in_function,t.in_directives=!0,t.input.push_directives_stack(),t.in_loop=0,t.labels=[],e=i("punc","{")?(c=N(),null):(c=[],w(),Jn()),f=t.input.has_directive("use strict"),t.input.pop_directives_stack(),--t.in_function,t.in_loop=p,t.labels=d,t.in_generator=a,t.in_async=o,e=new(r?fe:se)({start:n,argnames:u,rest:l,body:c,value:e,end:s()}),f&&e.each_argname(Te),e}var C=function(e){var i,r=t.in_async,o=t.in_generator;/Defun$/.test(e.TYPE)?(i=Ae(jn),t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE)):(t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE),i=Ae(Pn,!0)),!i||e===ne||i instanceof $n||p(s()),h("(");var a=t.in_funarg;t.in_funarg=t.in_function;var f=re(")",!n.strict,!1,(function(){return Fe(Fn)}));t.in_funarg=a;var c=t.in_loop,u=t.labels;++t.in_function,t.in_directives=!0,t.input.push_directives_stack(),t.in_loop=0,t.labels=[];var l=N();a=t.input.has_directive("use strict");return t.input.pop_directives_stack(),--t.in_function,t.in_loop=c,t.labels=u,t.in_generator=o,t.in_async=r,l=new e({name:i,argnames:f,rest:f.rest||null,body:l}),a&&(i&&Te(i),l.each_argname(Te)),l};function M(){return i("name")||qt(t.token.value)}function j(e,n){return n.name&&((n=new e(n)).name=new(e===be?Nn:jn)(n.name)),n}var P=b((function(){if(i("name"))switch(t.token.value){case"async":return a(),d("keyword","function"),i("operator","*")?(a(),C(ve)):C(he);case"let":a();var e=ee();return _(),e}else if(i("keyword"))switch(t.token.value){case"class":return a(),A(be);case"const":return a(),e=K(),_(),e;case"function":return a(),i("operator","*")?(a(),C(_e)):C(me);case"var":return a(),e=te(),_(),e}p()}));function N(){h("{");for(var e=[];!i("punc","}");)i("eof")&&h("}"),e.push(k());return a(),e}function H(){h("{");for(var e,n,r,o,f=[];!i("punc","}");)i("eof")&&h("}"),i("keyword","case")?(e&&(e.end=s()),n=[],e=new Pe({start:(o=t.token,a(),o),expression:nt(),body:n}),f.push(e),h(":")):i("keyword","default")?(e&&(e.end=s()),r&&c("More than one default clause in switch statement"),n=[],e=new je({start:(o=t.token,a(),h(":"),o),body:n}),f.push(e),r=e):(n||p(),n.push(k()));return e&&(e.end=s()),a(),f}function L(e,n){for(var r=[];;){var o=t.token,f=$e(e),u=null;if(i("operator","=")?(a(),u=Jn(n)):!n&&(e===zn||f instanceof _n)&&c("Missing initializer in declaration"),r.push(new Ue({start:o,name:f,value:u,end:s()})),!i("punc",","))break;a()}return r}function W(){var e=r();return jt(e,"name")||jt(e,"punc","[")||jt(e,"punc","{")}var K=function(e){return new Re({start:s(),definitions:L(zn,e),end:s()})},ee=function(e){return new Le({start:s(),definitions:L(Cn,e),end:s()})},te=function(e){return new Be({start:s(),definitions:L(Mn,e),end:s()})},ie=function e(o){if(i("operator","new"))return y=o,c=t.token,d("operator","new"),(b=i("punc",".")&&jt(r(),"name","target")?(a(),a(),new Zn):(f=e(!1),b=i("punc","(")?(a(),re(")",!n.strict)):[],new en({expression:f,args:b}))).start=c,b.end=s(),tn(b,y);var f,c,u=t.token;if(i("punc")){switch(u.value){case"`":return tn(Ke(null),o);case"(":if(a(),i("punc",")"))return a(),q([],u);var l=nt(!1,!0),v=u.comments_before.length;[].unshift.apply(l.start.comments_before,u.comments_before),u.comments_before.length=0,u.comments_before=l.start.comments_before,0==(u.comments_before_length=v)&&0<u.comments_before.length&&((m=u.comments_before[0]).nlb||(m.nlb=u.nlb,u.nlb=!1)),u.comments_after=l.start.comments_after,l.start=u,h(")");var m=s();return m.comments_before=l.end.comments_before,m.comments_after.forEach((function(e){l.end.comments_after.push(e),e.nlb&&(t.token.nlb=!0)})),m.comments_after.length=0,m.comments_after=l.end.comments_after,l.end=m,i("punc","=>")?q(l instanceof nn?l.expressions:[l],u):tn(l,o);case"[":return tn(oe(),o);case"{":return tn(de(),o)}p()}if(i("keyword"))switch(u.value){case"class":a();var _=A(ye);return _.start=u,_.end=s(),tn(_,o);case"function":return a(),(g=i("operator","*")?(a(),C(pe)):C(le)).start=u,g.end=s(),tn(g,o)}if(i("name")){var g,b=we(Rn,u);if(a(),"async"==b.name){if(i("keyword","function"))return a(),(g=i("operator","*")?(a(),C(ue)):C(ce)).start=u,g.end=s(),tn(g,o);if(i("name")&&jt(r(),"punc","=>"))return u=t.token,b=we(Rn,u),a(),q([b],u,!0);if(i("punc","(")){var y=tn(b,o);return i("punc","=>")?(y=y.args,y[y.length-1]instanceof sn&&(y.rest=y.pop().expression),q(y,u,!0)):y}}return i("punc","=>")?q([b],u):tn(b,o)}if(Lt[t.token.type])return tn(function(){var e,n=t.token,i=n.value;switch(n.type){case"num":isFinite(i)?e=new Kn({value:i}):(e=new at,i<0&&(e=new cn({operator:"-",expression:e})));break;case"bigint":e=new Qn({value:i});break;case"string":e=new Xn({value:i,quote:n.quote});break;case"regexp":e=new et({value:i});break;case"atom":switch(i){case"false":e=new ft;break;case"true":e=new ct;break;case"null":e=new tt;break;default:p()}break;default:p()}return a(),e.start=e.end=n,e}(),o);p()};function re(e,n,r,o){o=o||Jn;for(var f=!0,c=[];!i("punc",e)&&(f?f=!1:h(","),!n||!i("punc",e));)if(r&&i("punc",","))c.push(new ot({start:t.token,end:t.token}));else if(i("operator","...")){if(o!==Jn){a(),c.rest=o(),c.rest instanceof Xe&&u(c.rest.start,"Invalid rest parameter");break}c.push(new sn({start:t.token,expression:(a(),o()),end:s()}))}else c.push(o());return h(e),c}var oe=b((function(){return h("["),new mn({elements:re("]",!n.strict,!0)})})),ae=b((function(){return C(ne)})),de=b((function(){h("{");for(var e=!0,o=[];!i("punc","}")&&(e?e=!1:h(","),n.strict||!i("punc","}"));){var f=t.token;if(i("operator","*")){a();var c=ge(),u=t.token,l=C(pe);l.start=u,l.end=s(),o.push(new Tn({start:f,key:c,value:l,end:s()}))}else if(i("operator","..."))a(),o.push(new sn({start:f,expression:Jn(),end:s()}));else if(jt(r(),"operator","="))l=Ae(Rn),a(),o.push(new Sn({start:f,key:f.value,value:new dn({start:f,left:l,operator:"=",right:Jn(),end:s()}),end:s()}));else if(jt(r(),"punc",",")||jt(r(),"punc","}"))o.push(new Sn({start:f,key:f.value,value:Ae(Rn),end:s()}));else if(c=ge(),i("punc","(")){var d=t.token;(m=C(le)).start=d,m.end=s(),o.push(new Tn({start:f,key:c,value:m,end:s()}))}else if(i("punc",":"))a(),o.push(new Sn({start:f,key:c,value:Jn(),end:s()}));else{if("name"==f.type)switch(c){case"async":var v=i("operator","*")&&a();c=ge();var m;d=t.token;(m=C(v?ue:ce)).start=d,m.end=s(),o.push(new Tn({start:f,key:c,value:m,end:s()}));continue;case"get":o.push(new Dn({start:f,key:ge(),value:ae(),end:s()}));continue;case"set":o.push(new An({start:f,key:ge(),value:ae(),end:s()}));continue}p()}}return a(),new kn({properties:o})}));function ge(){var e=t.token;switch(e.type){case"operator":mt[e.value]||p();case"num":case"string":case"name":case"keyword":case"atom":return a(),""+e.value;case"punc":h("[");var n=Jn();return h("]"),n;default:p()}}function we(e,n){var i=n.value;switch(i){case"await":t.in_async&&p(n);break;case"super":e=Vn;break;case"this":e=Wn;break;case"yield":t.in_generator&&p(n)}return new e({name:""+i,start:n,end:n})}function Te(e){"arguments"!=e.name&&"eval"!=e.name&&"let"!=e.name||u(e.start,"Unexpected "+e.name+" in strict mode")}function Ae(e,n){return i("name")?(e=we(e,t.token),t.input.has_directive("use strict")&&e instanceof $n&&Te(e),a(),e):(n||c("Name expected"),null)}function $e(e){var o=t.token;if(i("punc","[")){a();var f=re("]",!n.strict,!0,(function(){return Fe(e)}));return new yn({start:o,elements:f,rest:f.rest||null,end:s()})}if(i("punc","{")){a();for(var c=!0,u=[],l=null;!i("punc","}")&&(c?c=!1:h(","),n.strict||!i("punc","}"));){var p=t.token;if(i("punc","[")||jt(r(),"punc",":")){var d=ge();h(":"),u.push(new wn({start:p,key:d,value:Fe(e),end:s()}))}else{if(i("operator","...")){a(),l=$e(e);break}d=Ae(e),i("operator","=")&&(a(),d=new Xe({start:d.start,name:d,value:Jn(),end:s()})),u.push(new wn({start:p,key:p.value,value:d,end:s()}))}}return h("}"),new xn({start:o,properties:u,rest:l,end:s()})}return Ae(e)}function Fe(e){var n=t.token;e=$e(e);return i("operator","=")?(a(),new Xe({start:n,name:e,value:Jn(),end:s()})):e}function Ke(e){for(var n=e?e.start:t.token,r=t.input.context().read_template,o=[],f=[];r(o);)a(),f.push(nt()),i("punc","}")||p();return a(),new Gn({start:n,expressions:f,strings:o,tag:e,end:s()})}function tn(e,o){for(var f=e.start,u=null;;)if(i("operator","?")&&jt(r(),"punc",".")&&(a(),a(),u=e),i("punc","[")){a();var l=nt();h("]"),e=new an({start:f,optional:u===e,expression:e,property:l,end:s()})}else if(o&&i("punc","("))a(),e=new Qe({start:f,optional:u===e,expression:e,args:re(")",!n.strict),end:s()});else if(u===e||i("punc","."))u!==e&&a(),e=new on({start:f,optional:u===e,expression:e,property:(l=void 0,l=t.token.value,d("name"),l),end:s()});else{if(!i("punc","`"))break;u&&c("Invalid template on optional chain"),e=Ke(e)}if(u&&(e.terminal=!0),e instanceof Qe&&!e.pure)for(var p=(f=e.start).comments_before,v=x(f,"comments_before_length")?f.comments_before_length:p.length;0<=--v;){var m=/[@#]__PURE__/.exec(p[v].value);if(m){e.pure=m[0];break}}return e}function fn(e){var n=t.token;if(t.in_async&&i("name","await"))return t.in_funarg===t.in_function&&c("Invalid use of await in function argument"),t.input.context().regex_allowed=!0,a(),new hn({start:n,expression:fn(e),end:s()});if(t.in_generator&&i("name","yield")){t.in_funarg===t.in_function&&c("Invalid use of yield in function argument"),t.input.context().regex_allowed=!0,a();var r=null,o=!1;return i("operator","*")?(a(),r=Jn(e),o=!0):(i("punc")?Et[t.token.value]:m())||(r=Jn(e)),new vn({start:n,expression:r,nested:o,end:s()})}if(i("operator")&&It[n.value])return a(),w(),e=gn(cn,n,fn(e)),e.start=n,e.end=s(),e;for(var f=ie(!0);i("operator")&&Ht[t.token.value]&&!v(t.token);)(f=gn(un,t.token,f)).start=n,f.end=t.token,a();return f}function gn(e,n,i){var r=n.value;switch(r){case"++":case"--":On(i)||u(n,"Invalid use of "+r+" operator");break;case"delete":i instanceof Rn&&t.input.has_directive("use strict")&&u(i.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:r,expression:i})}var bn=function e(n,r,o){var s=i("operator")?t.token.value:null,f=null!=(s="in"==s&&o?null:s)?Rt[s]:null;return null!=f&&r<f?(a(),f=e(fn(o),"**"==s?f-1:f,o),e(new ln({start:n.start,left:n,operator:s,right:f,end:f.end}),r,o)):n},En=function(e){var n=t.token,r=bn(fn(o=e),0,o);if(i("operator","?")){a();var o=Jn();return h(":"),new pn({start:n,condition:r,consequent:o,alternative:Jn(e),end:s()})}return r};function On(e){return e instanceof rn&&!e.optional||e instanceof Rn}function Un(e){if(e instanceof mn){var n=null;if(e.elements[e.elements.length-1]instanceof sn&&!((n=Un(e.elements.pop().expression))instanceof _n||On(n)))return e;var t=e.elements.map(Un);return y(t,(function(e){return e instanceof Xe||e instanceof _n||e instanceof ot||On(e)}))?new yn({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof dn)return t=Un(e.left),t instanceof _n||On(t)?new Xe({start:e.start,name:t,value:e.right,end:e.end}):e;if(!(e instanceof kn))return e;if(n=null,e.properties[e.properties.length-1]instanceof sn&&!((n=Un(e.properties.pop().expression))instanceof _n||On(n)))return e;for(var i=[],r=0;r<e.properties.length;r++){var o=e.properties[r];if(!(o instanceof Sn))return e;var a=Un(o.value);if(!(a instanceof Xe||a instanceof _n||On(a)))return e;i.push(new wn({start:o.start,key:o.key,value:a,end:o.end}))}return new xn({start:e.start,properties:i,rest:n,end:e.end})}function Jn(e){var n=t.token,r=En(e),o=t.token.value;if(i("operator")&&Yt[o]){if(On(r)||"="==o&&(r=Un(r))instanceof _n)return a(),new dn({start:n,left:r,operator:o,right:Jn(e),end:s()});c("Invalid assignment")}return r}function nt(e,n){for(var o=t.token,f=[];;){if(n&&i("operator","...")){a(),f.rest=$e(Fn);break}if(f.push(Jn(e)),!i("punc",","))break;if(a(),n&&i("punc",")")&&jt(r(),"punc","=>"))break}return 1!=f.length||f.rest?new nn({start:o,expressions:f,end:s()}):f[0]}function it(e){return++t.in_loop,e=e(),--t.in_loop,e}return n.expression?(w(),e=nt(),d("eof"),e):function(){var e=t.token,r=[];for(t.input.push_directives_stack();!i("eof");)r.push(k());t.input.pop_directives_stack();var o=s()||e,a=n.toplevel;return a?(a.body=a.body.concat(r),a.end=o):a=new Q({start:e,body:r,end:o}),a}()}function Ut(e,n,t,i){this.eliminated=0,this.exported=!1,this.global=!1,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}Ut.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,n){var t,i=e.scope,r=Jt(i,n),o=i.cname_holes,a=Object.create(null),s=[i];e.forEach((function(e){var t=e.scope;do{if(!(s.indexOf(t)<0))break;for(var i in Jt(t,n))a[i]=!0}while(s.push(t),t=t.parent_scope)}));for(var f=0;f<o.length;f++)if(t=ii(o[f]),!a[t])return o.splice(f,1),r[t]=!0,t;for(;;)if(t=ii(++i.cname),!(r[t]||ht[t]||n.reserved.has[t])){if(!a[t])break;o.push(i.cname)}return r[t]=!0,t}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name;e=e.variables.get(n)||e instanceof Q&&e.globals.get(n)||this.orig[0]instanceof zn&&o((function(e){return e.name==n}),e.enclosed);return e&&e!==this?e.redefined()||e:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.exported||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof In||this.orig[0]instanceof Nn||this.orig[0]instanceof jn||this.orig[0]instanceof Pn)}};var Vt=b("delete ++ --");function Wt(e,n){return n instanceof dn?n.left===e&&e:n instanceof Xe?n.name===e&&e:n instanceof _n||n instanceof wn?e:n instanceof W?n.init===e&&e:n instanceof fn?Vt[n.operator]&&n.expression:void 0}function Zt(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new w,e.variables=new w,n&&(e.make_def=n.make_def)}function Gt(e,n){Zt(e,n),e.uses_eval=!1,e.uses_with=!1}function Jt(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach((function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)}))),i}function Xt(e){return e=f(e,{eval:!1,ie:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),m(e.reserved,"arguments"),e.reserved.has=b(e.reserved),e}Q.DEFMETHOD("figure_out_scope",(function(e){e=f(e,{cache:null,ie:!1});var n=this,t=null,i=!1,r=0,o=n.parent_scope=null,a=new ut((function(n,r){if(n instanceof be){var s=i;return i=a.parent()instanceof Ve,n.name.walk(a),i=s,u((function(){n.extends&&n.extends.walk(a),n.properties.forEach((function(e){e.walk(a)}))})),!0}if(n instanceof Ye)return s=i,i=a.parent()instanceof Ve,r(),i=s,!0;if(n instanceof de)return s=i,i=a.parent()instanceof Ve,n.name.walk(a),i=s,u((function(){n.argnames.forEach((function(e){e.walk(a)})),n.rest&&n.rest.walk(a),P(n,a)})),!0;if(n instanceof Fe)return n.init_vars(o),r(),!0;if(n instanceof Ne)return u((function(){P(n,a)})),n.bcatch&&n.bcatch.walk(a),n.bfinally&&n.bfinally.walk(a),!0;if(n instanceof X){for(var f=o;!(f=f.resolve()).uses_with&&(f.uses_with=!0,f=f.parent_scope););return u(r),!0}if(n instanceof j)return u(r),!0;var c;function u(e){n.init_vars(o);var i=t,r=o;n instanceof K&&(t=n),o=n,e(),o=r,t=i}function l(t,i){t!==i&&(n.mark_enclosed(e),i=i.find_variable(n.name),n.thedef!==i&&((n.thedef=i).orig.push(n),n.mark_enclosed(e)))}n instanceof On&&(n.scope=o),n instanceof Yn&&((n.thedef=n).references=[]),n instanceof Hn?o.def_variable(n).defun=t:n instanceof zn?((c=o.def_variable(n)).defun=t,i&&(c.exported=!0)):n instanceof jn?(c=t.def_function(n,a.parent()),i&&(c.exported=!0),l(t,o)):n instanceof Fn?(t.def_variable(n),l(t,o)):n instanceof Pn?(c=t.def_function(n,"arguments"==n.name?void 0:t),e.ie&&(c.defun=t.parent_scope.resolve())):n instanceof Cn?(c=o.def_variable(n),i&&(c.exported=!0)):n instanceof Mn&&(c=t.def_variable(n,n instanceof qn?void 0:null),i&&(c.exported=!0),l(t,o))}));n.make_def=function(e,n){return new Ut(++r,this,e,n)},n.walk(a),n.globals=new w;var s=[];a=new ut((function(t){if(t instanceof Ie)return t.argname instanceof _n?(s.push(t),t.argname.walk(a),s.pop(),P(t,a),!0):void 0;if(t instanceof ee)return s.push(t),t.argnames.forEach((function(e){e.walk(a)})),t.rest&&t.rest.walk(a),s.pop(),ae(t,a),!0;if(t instanceof $e)return t.label&&t.label.thedef.references.push(t),!0;if(t instanceof $n){var i,r=t.definition();if(r.preinit=r.references.length,t instanceof Hn){if(i=r.redefined())for(var o=t.scope;o&&(m(o.enclosed,i),o!==i.scope);o=o.parent_scope);}else t instanceof zn&&(i=r.redefined())&&(i.const_redefs=!0);return"arguments"!=t.name||(f=t instanceof Mn&&a.parent())instanceof Ue&&!f.value||(l=t.scope.resolve().find_variable("arguments"))&&c(l)&&(l.scope.uses_arguments=3),!0}if(t instanceof Rn){for(var f,u=t.name,l=t.scope.find_variable(u),p=s.length;0<p&&l&&!((p=s.lastIndexOf(l.scope,p-1))<0);){var d=l.orig[0];if(d instanceof Hn||d instanceof Fn||d instanceof Pn){t.in_arg=!0;break}l=l.scope.parent_scope.find_variable(u)}if(l?"arguments"==u&&c(l)&&(Wt(t,f=a.parent())?l.scope.uses_arguments=3:l.scope.uses_arguments<2&&!(f instanceof rn&&f.expression===t)?l.scope.uses_arguments=2:l.scope.uses_arguments||(l.scope.uses_arguments=!0)):l=n.def_global(t),"eval"==u)if("Call"==(f=a.parent()).TYPE&&f.expression===t)for(o=t.scope;!(o=o.resolve()).uses_eval&&(o.uses_eval=!0,o=o.parent_scope););else l.undeclared&&(n.uses_eval=!0);if(l.init instanceof de&&l.scope!==l.init.name.scope){var h=t.scope;do{if(h===l.init.name.scope)break}while(h=h.parent_scope);h||(l.init=void 0)}return t.thedef=l,t.reference(e),!0}}));function c(e){return e.orig[0]instanceof Fn&&!(e.orig[1]instanceof Fn||e.orig[2]instanceof Fn)&&!ie(e.scope)}function u(t,i){var r=t.name,o=t.thedef;if(y(o.orig,(function(e){return!(e instanceof zn||e instanceof Cn)}))){var a,s=i.find_variable(r);return s?(a=s.redefined())&&(s=a):s=n.globals.get(r),s?s.orig.push(t):s=i.def_variable(t),s.undeclared&&n.variables.set(r,s),"arguments"==r&&c(o)&&t instanceof Pn||(o.defun=s.scope,o.forEach((function(n){n.redef=o,n.thedef=s,n.reference(e)}))),1}}n.walk(a),e.ie&&n.walk(new ut((function(e){if(e instanceof Hn){var n=e.thedef.defun;return u(e,n=n.name instanceof Pn&&n.name.name==e.name?n.parent_scope.resolve():n),!0}if(e instanceof Pn)return n=e.thedef,u(e,e.scope.parent_scope.resolve())?void 0!==e.thedef.init?e.thedef.init=!1:n.init&&(e.thedef.init=n.init):delete n.defun,!0})))})),Q.DEFMETHOD("def_global",(function(e){var n=this.globals,t=e.name;return n.has(t)?n.get(t):(e=this.make_def(e),e.undeclared=!0,e.global=!0,n.set(t,e),e)})),j.DEFMETHOD("init_vars",(function(e){Zt(this,e)})),K.DEFMETHOD("init_vars",(function(e){Gt(this,e)})),se.DEFMETHOD("init_vars",(function(e){return Gt(this,e),this})),fe.DEFMETHOD("init_vars",(function(e){Gt(this,e)})),ee.DEFMETHOD("init_vars",(function(e){return Gt(this,e),this.uses_arguments=!1,this.def_variable(new Fn({name:"arguments",start:this.start,end:this.end})),this})),On.DEFMETHOD("mark_enclosed",(function(e){for(var n=this.definition(),t=this.scope;t&&(m(t.enclosed,n),e?e.keep_fnames&&t.functions.each((function(e){m(n.scope.enclosed,e)})):delete t._var_names,t!==n.scope);t=t.parent_scope);})),On.DEFMETHOD("reference",(function(e){this.definition().references.push(this),this.mark_enclosed(e)})),j.DEFMETHOD("find_variable",(function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)})),j.DEFMETHOD("def_function",(function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof de)&&(t.init=n),this.functions.set(e.name,t),t})),j.DEFMETHOD("def_variable",(function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof te&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t})),On.DEFMETHOD("unmangleable",(function(e){var n=this.definition();return!n||n.unmangleable(e)})),Yn.DEFMETHOD("unmangleable",l),On.DEFMETHOD("definition",(function(){return this.thedef})),Q.DEFMETHOD("mangle_names",(function(e){e=Xt(e);var n,t=-1;e.cache&&e.cache.props&&(n=Jt(this,e),e.cache.props.each((function(e){n[e]=!0})));var i=[],r=new ut((function(n,a){if(n instanceof Y){var s=t;return a(),e.v8&&function(n){for(var t,i=0;t=n.parent(i++);){if(t instanceof N)return t instanceof Q&&!e.toplevel;if(t instanceof Y)return!0}}(r)||(t=s),!0}var f;if(n instanceof j)return e.webkit&&n instanceof R&&n.init instanceof Le&&n.init.definitions.forEach((function(e){e.name.match_symbol((function(e){var n,t,i;e instanceof Cn&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})}))}),!0),n.to_mangle=[],n.variables.each((function(t){!function(n){var t=n.orig[0],r=n.redefined();if(!r){if(!(t instanceof zn))return!1;var o=n.scope.resolve();if(n.scope===o)return!1;if(n.scope.parent_scope.find_variable(t.name))return!1;r=o.def_variable(t),o.to_mangle.push(r)}return i.push(n),n.references.forEach(a),(t instanceof Hn||t instanceof zn)&&a(t),!0;function a(t){t.thedef=r,t.reference(e),t.thedef=n}}(t)&&n.to_mangle.push(t)})),a(),e.cache&&n instanceof Q&&n.globals.each(o),n instanceof me&&r.has_directive("use asm")&&((a=new Rn(n.name)).scope=n,a.reference(e)),n.to_mangle.forEach(o),!0;if(n instanceof Yn){for(;f=ii(++t),ht[f];);return n.mangled_name=f,!0}}));function o(n){e.reserved.has[n.name]||n.mangle(e)}this.walk(r),i.forEach(o)})),Q.DEFMETHOD("find_colliding_names",(function(e){var n=e.cache&&e.cache.props,t=Object.create(ht);return e.reserved.forEach(i),this.globals.each(r),this.walk(new ut((function(e){e instanceof j&&e.variables.each(r)}))),t;function i(e){t[e]=!0}function r(t){var r=t.name;if(t.global&&n&&n.has(r))r=n.get(r);else if(!t.unmangleable(e))return;i(r)}})),Q.DEFMETHOD("expand_names",(function(e){ii.reset(),ii.sort(),e=Xt(e);var n=this.find_colliding_names(e),t=0;function i(i){var r,o;i.global&&e.cache||i.unmangleable(e)||e.reserved.has[i.name]||(r=i.redefined(),o=r?r.rename||r.name:function(){for(var e;e=ii(t++),n[e];);return e}(),i.rename=o,i.forEach((function(e){e.definition()===i&&(e.name=o)})))}this.globals.each(i),this.walk(new ut((function(e){e instanceof j&&e.variables.each(i)})))})),T.DEFMETHOD("tail_node",d),nn.DEFMETHOD("tail_node",(function(){return this.expressions[this.expressions.length-1]})),Q.DEFMETHOD("compute_char_frequency",(function(e){e=Xt(e),ii.reset();var n=On.prototype.add_source_map;try{On.prototype.add_source_map=function(){this.unmangleable(e)||ii.consider(this.name,-1)},e.properties&&(on.prototype.add_source_map=function(){ii.consider(this.property,-1)},an.prototype.add_source_map=function(){!function e(n){n instanceof Xn?ii.consider(n.value,-1):n instanceof pn?(e(n.consequent),e(n.alternative)):n instanceof nn&&e(n.tail_node())}(this.property)}),ii.consider(this.print_to_string(),1)}finally{On.prototype.add_source_map=n,delete on.prototype.add_source_map,delete an.prototype.add_source_map}ii.sort()}));var Kt,Qt,ei,ni,ti,ii=(Kt=Object.create(null),ni=ri("0123456789"),ti=ri("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),si.consider=function(e,n){for(var t=e.length;0<=--t;)ei[e[t]]+=n},si.sort=function(){Qt=ti.sort(ai).concat(ni).sort(ai)},(si.reset=oi)(),si);function ri(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),Kt[i]=-.01*t}return n}function oi(){Qt=null,ei=Object.create(Kt)}function ai(e,n){return ei[n]-ei[e]}function si(e){var n=ti[e%54];for(e=Math.floor(e/54);0<=--e;e>>=6)n+=Qt[63&e];return n}function fi(e,n){if(!(this instanceof fi))return new fi(e,n);lt.call(this,this.before,this.after),this.options=f(e,{annotations:!n,arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_exports:!n,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie:!1,if_return:!n,imports:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,optional_chains:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,templates:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n,webkit:!1,yields:!n},!0),n=this.options.evaluate,this.eval_threshold=/eager/.test(n)?1/0:+n;var r=this.options.global_defs;if("object"==(0,i.Z)(r))for(var o in r)/^@/.test(o)&&x(r,o)&&(r[o.slice(1)]=Bt(r[o],{expression:!0}));!0===this.options.inline&&(this.options.inline=3),this.drop_fargs=this.options.keep_fargs?l:function(e,n){if(e.length_read)return!1;var t=e.name;return t?t.fixed_value()===e&&(t=t.definition(),!t.direct_access&&(t=t.escaped,t&&1!=t.depth)):n&&"Call"==n.TYPE&&n.expression===e};var a=this.options.pure_funcs;"function"==typeof a?this.pure_funcs=a:"string"==typeof a?this.pure_funcs=function(e){var n;return e instanceof Qe?n=e.expression:e instanceof Gn&&(n=e.tag),!(n&&a===n.print_to_string())}:Array.isArray(a)?this.pure_funcs=function(e){var n;return e instanceof Qe?n=e.expression:e instanceof Gn&&(n=e.tag),!(n&&t(n.print_to_string(),a))}:this.pure_funcs=p,n=this.options.sequences,this.sequences_limit=1==n?800:0|n;var s=this.options.top_retain;s instanceof RegExp?this.top_retain=function(e){return s.test(e.name)}:"function"==typeof s?this.top_retain=s:s&&("string"==typeof s&&(s=s.split(/,/)),this.top_retain=function(e){return t(e.name,s)}),n=this.options.toplevel,this.toplevel="string"==typeof n?{funcs:/funcs/.test(n),vars:/vars/.test(n)}:{funcs:n,vars:n}}function ci(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function ui(e){e=f(e,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,t=l;e.comments&&(n=e.comments,"string"==typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)&&(W=e.comments.lastIndexOf("/"),n=new RegExp(e.comments.substr(1,W-1),e.comments.substr(W+1))),t=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?ci:p);var i,r,o,a,s,c,d,h=0,v=1,m=0,_=e.indent_start,g=0,w=!0,x=e.source_map&&[],k=!1,E=!1,A=-1;function O(){s=a=!1,c=[];var e=d;return d=i="",e}O();var $=e.ascii_only?function(e,n){return(e=n?e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,(function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"})):e).replace(/[\u0000-\u001f\u007f-\uffff]/g,(function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t}))}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(Ot(e.charCodeAt(i+1))){i++;continue}}else if(!Ot(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function z(e){return"'"+e.replace(/\x27/g,"\\'")+"'"}function q(e){return'"'+e.replace(/\x22/g,'\\"')+'"'}var C=[null,z,q,function(e,n){return("'"==n?z:q)(e)}][e.quote_style]||function(e,n,t,i){return(i<t?z:q)(e)};function M(n,t){var i=0,r=0;return n=n.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,(function(t,o){switch(t){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(n.charAt(o+1))?"\\x00":"\\0"}return t})),C($(n),t,i,r)}var F=x?function(e,n){x.forEach((function(t){t.line+=e,t.col+=n}))}:u,j=x?function(){x.forEach((function(n){e.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)})),x=[]}:u;function P(e){var n=d.lastIndexOf("\n");g<n&&(g=n);var t=d.slice(0,g);n=d.slice(g);for(F(e,n.length-h),v+=e,m+=e,h=n.length,d=t;e--;)d+="\n";d+=n}var N=e.max_line_len?function(){w?h>e.max_line_len&&T.warn("Output exceeds {max_line_len} characters",e):(h>e.max_line_len&&P(1),w=!0,j())}:u,I=b("( [ + * / - , ."),H=e.beautify||e.comments||e.max_line_len||e.preserve_line||e.shebang||!e.semicolons||e.source_map||e.width?function(n){var t=n.charAt(0);k&&t&&(k=!1,"\n"!=t&&(H("\n"),R())),E&&t&&(E=!1,/[\s;})]/.test(t)||Y()),A=-1;var f=i.slice(-1);s&&(s=!1,(":"==f&&"}"==t||(!t||";}".indexOf(t)<0)&&";"!=f)&&(e.semicolons||I[t]?(d+=";",h++,m++):(N(),d+="\n",m++,v++,h=0,/^\s+$/.test(n)&&(s=!0)),e.beautify||(a=!1))),a&&((zt(f)&&(zt(t)||"\\"==t)||"/"==t&&t==f||("+"==t||"-"==t)&&t==i||"--"==n&&"!"==i||"in"==n&&"/"==f||"--"==i&&">"==t)&&(d+=" ",h++,m++),"<"==f&&"!"==n||(a=!1)),o&&(x.push({token:o,name:r,line:v,col:h}),o=!1,w&&j()),d+=n,m+=n.length,t=n.split(/\r?\n/),f=t.length-1,v+=f,h+=t[0].length,0<f&&(N(),h=t[f].length),i=n}:function(e){var n=e.charAt(0),t=i.slice(-1);s&&(s=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(d+=";",a=!1)),a&&((zt(t)&&(zt(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==i||"--"==e&&"!"==i||"in"==e&&"/"==t||"--"==i&&">"==n)&&(d+=" "),"<"==t&&"!"==e||(a=!1)),d+=e,i=e},Y=e.beautify?function(){H(" ")}:function(){a=!0},R=e.beautify?function(n){k&&H("\n"),H(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",n?_-(e.indent_level>>1):_))}:u,L=e.beautify?function(n){var t=_;_+=e.indent_level,n(),_=t}:function(e){e()},B=e.max_line_len||e.preserve_line?function(){N(),g=d.length,w=!1}:u,U=e.beautify?function(){if(A<0)return H("\n");"\n"!=d[A]&&(d=d.slice(0,A)+"\n"+d.slice(A),m++,v++),A++}:B,V=e.beautify?function(){H(";")}:function(){s=!0},W=x?function(e,n){o=e,r=n}:u;function Z(e,n){k||(!e.nlb||!n&&(e=d.lastIndexOf("\n"),/^ *$/.test(d.slice(e+1)))?n&&(E=!0):k=!0)}function G(e){var n=e.value.replace(/[@#]__PURE__/g," ");return(!/^\s*$/.test(n)||/^\s*$/.test(e.value))&&(/comment[134]/.test(e.type)?(H("//"+n),k=!0):"comment2"==e.type&&H("/*"+n+"*/"),1)}return{get:function(){return w||N(),d},reset:O,indent:R,should_break:e.width?function(){return h-_>=e.width}:l,has_parens:function(){return"("==i.slice(-1)},newline:U,print:H,space:Y,comma:function(){B(),H(","),B(),Y()},colon:function(){H(":"),Y()},last:function(){return i},semicolon:V,force_semicolon:function(){s&&H(";"),H(";")},to_utf8:$,print_name:function(e){H($(e.toString(),!0))},print_string:e.inline_script?function(e,n){e=M(e,n).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),H(e.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(e,n){H(M(e,n))},with_indent:L,with_block:function(e){H("{"),U(),L(e),R(),H("}")},with_parens:function(e){H("("),B(),e(),B(),H(")")},with_square:function(e){H("["),B(),e(),B(),H("]")},add_mapping:W,option:function(n){return e[n]},prepend_comments:e.comments||e.shebang?function(n){var i,r=this;n instanceof Ae?i=n.value:n instanceof vn&&(i=n.expression);var o,a,s=(s=c(n))||[];i&&((o=new ut((function(e){if(n=e,!((t=o.parent())instanceof ln?t.left===n:"Call"==t.TYPE?t.expression===n:t instanceof pn?t.condition===n:t instanceof on?t.expression===n:t instanceof Ae||(t instanceof nn?t.expressions[0]===n:t instanceof an?t.expression===n:t instanceof un||t instanceof vn)))return!0;var n,t;e=c(e);e&&(s=s.concat(e))}))).push(n),i.walk(o)),0==m&&(0<s.length&&e.shebang&&"comment5"==s[0].type&&(H("#!"+s.shift().value+"\n"),R()),(a=e.preamble)&&H(a.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),s=s.filter(t,n);var f=!1;function c(e){var n=e.start;if(!n){if(!i)return;e.start=n=new S}if(e=n.comments_before,!e){if(!i)return;n.comments_before=e=[]}if(e._dumped!==r)return e._dumped=r,e}s.forEach((function(e,n){Z(e,n),G(e)&&(f=!0)})),f&&Z(n.start,!0)}:u,append_comments:e.comments?function(e,n){var i,r=e.end;!r||(i=r[n?"comments_before":"comments_after"])&&i._dumped!==this&&(e instanceof D||y(i,(function(e){return!/comment[134]/.test(e.type)})))&&(i._dumped=this,r=d.length,i.filter(t,e).forEach((function(e,t){Z(e,t||!n),G(e)})),d.length>r&&(A=r))}:u,push_node:function(e){c.push(e)},pop_node:e.preserve_line?function(){var e=c.pop();e.start&&e.start.line>v&&P(e.start.line-v)}:function(){c.pop()},parent:function(e){return c[c.length-2-(e||0)]}}}c(fi.prototype=new lt,{option:function(e){return this.options[e]},exposed:function(e){if(e.exported)return!0;if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Q))return!1;var n=this.toplevel;return!y(e.orig,(function(e){return n[e instanceof jn?"funcs":"vars"]}))},compress:function(e){(e=e.resolve_defines(this)).hoist_exports(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie:this.option("ie")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new ut((function(){a++}))),T.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof K;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function n(e,n){var t;if(!((i=n.get_property())instanceof T)){if(e instanceof mn){if(n=e.elements,"length"==i)return $t(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof ee){if("length"==i)return e.length_read=!0,$t(e.argnames.length,e)}else if(e instanceof kn)for(var i=""+i,r=e.properties,o=r.length;0<=--o;){if(!Dr(r[o]))return;t||r[o].key!==i||(t=r[o].value)}return t instanceof Rn&&t.fixed_value()||t}}function r(e,t,i,o,a,s,f){var c=t.parent(a);if(!(e.option("unsafe")&&c instanceof on&&(l=o,u=c.property,l instanceof st?bi.Boolean[u]:l instanceof Kn?bi.Number[u]:l instanceof Xn?bi.String[u]:"valueOf"!=u&&(l instanceof mn?bi.Array[u]:l instanceof ee?bi.Function[u]:l instanceof kn?bi.Object[u]:l instanceof et&&bi.RegExp[u]&&!l.value.global)))){var u,l=Wt(i,c);if(l)return l;if(c instanceof mn)return r(e,t,c,c,a+1);if(c instanceof ln)return si[c.operator]?r(e,t,c,c,a+1):void 0;if(c instanceof Qe)return!s&&c.expression===i&&!c.is_expr_pure(e)&&(!(o instanceof te)||!(c instanceof en)&&o.contains_this());if(c instanceof pn)return c.condition===i?void 0:r(e,t,c,c,a+1);if(c instanceof W)return c.init===i;if(c instanceof Sn){if(c.value!==i)return;var p=t.parent(a+1);return r(e,t,p,p,a+2)}if(c instanceof rn){if(c.expression!==i)return;return p=n(o,c),(!s||f)&&r(e,t,c,p,a+1)}return c instanceof nn&&c.tail_node()===i?r(e,t,c,o,a+1,s,f):void 0}}function a(e){return e instanceof ge||e instanceof ee}function s(e){return e instanceof ge||e instanceof me||e instanceof le}function f(e){return"arguments"==e.name&&e.scope.uses_arguments}function c(e){return e.orig[0]instanceof Fn||e.orig[1]instanceof Fn}function E(e,n){do{if(e===n)return;if(n instanceof K)return 1}while(n=n.parent_scope)}function S(e,n,t){var i=e.definition();return(!e.in_arg||!c(i))&&y(i.orig,(function(e){return e instanceof zn||e instanceof Cn?n&&ar(n,e):!(t&&e instanceof Pn)}))}function A(e,n,t,i){return i instanceof dn?"="==i.operator&&i.right===t:i instanceof Qe?i.expression!==t||i instanceof en:i instanceof Ae?i.value===t&&n.resolve()!==e.scope.resolve():i instanceof Ue&&i.value===t}e(T,(function(e,n){return e})),T.DEFMETHOD("equivalent_to",(function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()})),Q.DEFMETHOD("hoist_exports",(function(e){if(e.option("hoist_exports")){for(var n=this.body,t=[],i=0;i<n.length;i++){var r=n[i];r instanceof Ve?(n[i]=r=r.body,r instanceof Ye?r.definitions.forEach((function(e){e.name.match_symbol(o,!0)})):o(r.name)):r instanceof Ge&&(n.splice(i--,1),[].push.apply(t,r.properties))}t.length&&n.push(Dt(Ge,this,{properties:t}))}function o(e){e instanceof $n&&((e=Dt(Ln,e,e)).alias=e.name,t.push(e))}})),K.DEFMETHOD("process_expression",(function(e,n){var t=this,i=new lt((function(r){if(e&&r instanceof F)return n?n(r):Dt(De,r,{value:r.body});if(!e&&r instanceof De)return n?n(r):Dt(F,r,{body:r.value||Dt(cn,r,{operator:"void",expression:Dt(Kn,r,{value:0})})});if(r instanceof N){if(r instanceof ee){if(r!==t)return r}else if("awaits"===e&&r instanceof Ne&&r.bfinally)return r;for(var o=r.body.length;0<=--o;){var a=r.body[o];if(!Qt(a,!0)){r.body[o]=a.transform(i);break}}}else r instanceof Ce?(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))):r instanceof X&&(r.body=r.body.transform(i));return r}));t.transform(i)}));var C=/^(0|[1-9][0-9]*)$/;function M(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof te&&t.init!==t.scope)&&t.init,t.reassigned=0,t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function H(e,n,t){t.variables.each((function(e){M(0,n,e)}))}function G(e,n,t){t.fn_defs=[],t.variables.each((function(i){M(0,n,i);var r=i.init;r instanceof de&&(t.fn_defs.push(r),r.safe_ids=null),null===i.fixed?(i.safe_ids=e.safe_ids,Nn(e,i)):i.fixed&&(e.loop_ids[i.id]=e.in_loop,Nn(e,i))})),t.may_call_this=function(){t.may_call_this=t.contains_this()?p:l},t.uses_arguments&&t.each_argname((function(e){e.definition().last_ref=!1})),n.option("ie")&&t.variables.each((function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)}))}function ke(e,n){var t=e.fn_scanning;(e.fn_scanning=n).walk(e),e.fn_scanning=t}function Ee(e,n){n.enclosed.forEach((function(t){var i;n.variables.get(t.name)!==t&&(Bn(e,t)||(t.single_use=!1,(i="function"==typeof(i=t.fixed)?i():i)instanceof ee&&x(i,"safe_ids")||(t.fixed=!1)))}))}function Ze(e,n,i){var r,o;!x(i,"safe_ids")||!1!==(r=i.safe_ids)&&(i.parent_scope.resolve().may_call_this===p?t(i,e.fn_visited)&&Ee(e,i):r?(o=t(i,e.fn_visited),r===e.safe_ids?o||ke(e,i):o?Ee(e,i):i.safe_ids=!1):e.fn_scanning&&e.fn_scanning!==n.scope.resolve()?i.safe_ids=!1:(i.safe_ids=e.safe_ids,ke(e,i)))}function Ke(e,n){var t=n.fn_defs,i=n.may_call_this===p?t:t.filter((function(n){return!1===n.safe_ids||(n.safe_ids=e.safe_ids,ke(e,n),!1)}));bn(e),i.forEach((function(n){n.safe_ids=e.safe_ids,ke(e,n)})),t.forEach((function(e){delete e.safe_ids})),delete n.fn_defs,delete n.may_call_this}function gn(e){e.safe_ids=Object.create(e.safe_ids)}function bn(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function Nn(e,n){e.safe_ids[n.id]={}}function Yn(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function Bn(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(x(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!f(n)&&(!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=Dt(rt,n.orig[0]),!0):!t.assign||t.assign===e.safe_ids):n.fixed instanceof de}function nt(e,n,t){if(!t){if(c(n)&&n.scope.uses_arguments&&!e.has_directive("use strict"))return;if(!y(n.orig,(function(e){return!(e instanceof zn)})))return}if(void 0===n.fixed)return t||y(n.orig,(function(e){return!(e instanceof Cn)}));if(!1!==n.fixed){var i=e.safe_ids[n.id];if(n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,null===n.fixed||x(e.safe_ids,n.id)&&!i.read;if(!x(e.safe_ids,n.id)){if(!i)return;if(i.read){if(t=e.find_parent(j),t instanceof ge)return;if(n.scope.resolve()!==t.resolve())return}i.assign=!(!i.assign||i.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&i.read){if(i.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return Bn(e,n)&&y(n.orig,(function(e){return!(e instanceof Pn)}))}}function pt(e,n){var t=Dt(Rn,e,e);return t.fixed=n||Dt(rt,e),t}function dt(e){if(!e)return!1;if(e instanceof dn){var n=e.operator;return"="==n?dt(e.right):!si[n.slice(0,-1)]}return e instanceof nn?dt(e.tail_node()):e.is_constant()||a(e)||e instanceof Un}function ht(e,t,i,r,o,a,s){var f,c=e.parent(a);if(!o||!o.is_constant()){if(A(t,i,r,c))return t.escaped.push(c),!(1<s)||o&&o.is_constant_expression(i)||(s=1),(!t.escaped.depth||t.escaped.depth>s)&&(t.escaped.depth=s),void(t.scope.resolve()!==i.resolve()&&(t.escaped.cross_scope=!0));if(f=r,(u=c)instanceof mn||(u instanceof ln?si[u.operator]:u instanceof pn?u.condition!==f:u instanceof nn?u.tail_node()===f:u instanceof sn))ht(e,t,i,c,c,a+1,s);else if(c instanceof Sn&&c.value===r){var u=e.parent(a+1);ht(e,t,i,u,u,a+2,s)}else if(c instanceof rn&&c.expression===r&&(ht(e,t,i,c,o=n(o,c),a+1,s+1),o))return;0<a||c instanceof Qe&&c.expression===r||c instanceof nn&&c.tail_node()!==r||c instanceof F||c instanceof fn&&!Vt[c.operator]||(t.direct_access=!0)}}function vt(e){var n;e instanceof an&&(n=e.expression)instanceof Rn&&(!f(n=n.definition())||((e=(e=e.property).is_constant()?e.value:e)instanceof T||C.test(e))&&(n.reassigned++,(e instanceof T?n.scope.argnames:[n.scope.argnames[e]]).forEach((function(e){e instanceof Fn&&(e.definition().fixed=!1)}))))}function mt(e,n,t,i,r){var o=new ut((function(t){if(t instanceof Xe)return gt(t),gn(e),t.value.walk(e),bn(e),(a=i)&&(i=function(){var e,i=a();return ii(i,n)||void 0===(e=er(n,i,!0))?Ot(t,[i,t.value]):e instanceof T?t:i}),t.name.walk(o),i=a,!0;if(t instanceof yn){gt(t);var a=i;return t.elements.forEach((function(e,n){return e instanceof ot?gt(e):(a&&(i=function(){return Dt(an,e,{expression:a(),property:Dt(Kn,e,{value:n})})}),void e.walk(o))})),t.rest&&(a&&(i=n.option("rests")&&function(){var e=a();return e instanceof mn?Dt(mn,t,{elements:e.elements.slice(t.elements.length)}):t}),t.rest.walk(o)),i=a,!0}return t instanceof xn?(gt(t),a=i,t.properties.forEach((function(n){gt(n),n.key instanceof T&&(gn(e),n.key.walk(e),bn(e)),a&&(i=function(){var e=n.key,t=an;return"string"==typeof e&&(qt(e)?t=on:e=$t(e,n)),Dt(t,n,{expression:a(),property:e})}),n.value.walk(o)})),t.rest&&(i=!1,t.rest.walk(o)),i=a,!0):(r(t,i,(function(){for(var n=e.stack.length,i=0,r=o.stack.length-1;i<r;i++)e.stack.push(o.stack[i]);t.walk(e),e.stack.length=n})),!0)}));t.walk(o)}function _t(e,n,t){var i=this;i.inlined=!1;var r=e.parent(),o=re(i)||oe(i),a=!1;i.walk(new ut((function(e){return o?a=!0:e instanceof De?o=!0:e instanceof K&&e!==i||void 0}))),a&&gn(e),G(e,t,i);var s=!i.uses_arguments||e.has_directive("use strict");i.argnames.forEach((function(n,o){var a=r.args[o];mt(e,t,n,(function(){var e=i.argnames.indexOf(n);e=e<0?a:r.args[e];return(e=e instanceof nn&&e.expressions.length<2?e.expressions[0]:e)||Dt(rt,r)}),u)}));var f=i.rest;f&&mt(e,t,f,t.option("rests")&&function(){return i.rest===f?Dt(mn,i,{elements:r.args.slice(i.argnames.length)}):f},u),ae(i,e);var c=e.safe_ids;return Ke(e,i),a||(e.safe_ids=c),!0;function u(n,t){var i=n.definition();t&&s&&void 0===i.fixed?(Nn(e,i),e.loop_ids[i.id]=e.in_loop,i.fixed=t,i.fixed.assigns=[n]):i.fixed=!1}}function gt(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof K&&delete e._var_names}function bt(e,n){return this.transform(new lt((function(t,i){return t instanceof Xe?((t=t.clone()).name=t.name.transform(this),t):t instanceof _n?(i(t=t.clone(),this),t):t instanceof wn?((t=t.clone()).value=t.value.transform(this),t):t.convert_symbol(e,n)})))}function yt(e,n){return e=Dt(e,this,this),n(e,this),e}function wt(e,n){var t=new ut((function(i){return i instanceof Xe?(i.value.walk(n),i.name.walk(t),!0):i instanceof wn?(i.key instanceof T&&i.key.walk(n),i.value.walk(t),!0):e(i)}));this.walk(t)}function xt(e){return e(this)}function kt(e,n){var t=!1,i=new ut((function(r){return!!t||(r instanceof Xe?n?(r.name.walk(i),!0):t=!0:r instanceof wn?!n&&r.key instanceof T?t=!0:(r.value.walk(i),!0):e(r)?t=!0:void 0)}));return this.walk(i),t}function Et(e){return e instanceof ve||e instanceof ue}function St(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}(gi=function(e,n){e.DEFMETHOD("reduce_vars",n)})(T,u),gi(dn,(function(e,n,t){var i=this,o=i.left,a=i.right,s=o instanceof Rn&&o.definition(),f=s||o instanceof _n;switch(i.operator){case"=":return o.equivalent_to(a)&&!o.has_side_effects(t)?(a.walk(e),function n(t){var r;t instanceof on?n(t.expression):t instanceof an?(n(t.expression),t.property.walk(e)):t instanceof Rn?(Yn(r=t.definition(),t),r.fixed&&(t.fixed=r.fixed,t.fixed.assigns?t.fixed.assigns.push(i):t.fixed.assigns=[i])):t.walk(e)}(o),i.__drop=!0):s&&a instanceof te?(l(),a.parent_scope.resolve().fn_defs.push(a),a.safe_ids=null,s.fixed&&i.write_only||Ze(e,s,a),!0):f?(a.walk(e),l(),!0):void vt(o);case"&&=":case"||=":case"??=":return o.walk(e),gn(e),f?(a.walk(e),l()):(vt(o),a.walk(e)),bn(e),!0;default:if(!f)return void vt(o);s.assignments++;var c=s.fixed;if(r(t,e,i,i,0))return void(s.fixed=!1);var u=Bn(e,s);return a.walk(e),u&&!o.in_arg&&nt(e,s)?(Yn(s,o),Nn(e,s),s.single_use&&(s.single_use=!1),o.fixed=s.fixed=function(){return Dt(ln,i,{operator:i.operator.slice(0,-1),left:pt(o,c),right:i.right})},o.fixed.assigns=c&&c.assigns?c.assigns.slice():[],o.fixed.assigns.push(i)):(o.walk(e),s.fixed=!1),!0}function l(){var n=s&&br(e,s),f=r(t,e,i,a,0,dt(a),n);mt(e,t,o,(function(){return i.right}),(function(n,t,r){if(!(n instanceof Rn))return vt(n),void r();var s=n.definition();s.assignments++,t&&!f&&!n.in_arg&&nt(e,s)?(Yn(s,n),Nn(e,s),(o instanceof _n||1==s.orig.length&&s.orig[0]instanceof jn)&&(s.single_use=!1),e.loop_ids[s.id]=e.in_loop,ht(e,s,n.scope,i,a,0,1),n.fixed=s.fixed=t,n.fixed.assigns=[i]):(r(),s.fixed=!1)}))}})),gi(ln,(function(e){if(si[this.operator])return this.left.walk(e),gn(e),this.right.walk(e),bn(e),!0})),gi(j,(function(e,n,t){H(0,t,this)})),gi(Qe,(function(e,n){var t=this,i=t.expression;if(i instanceof te){var r=Gt(t);return t.args.forEach((function(n){n.walk(e),n instanceof sn&&(r=!1)})),r&&(i.reduce_vars=_t),i.walk(e),r&&delete i.reduce_vars,!0}"Call"==t.TYPE&&e.in_boolean_context()&&(i instanceof Rn?i.definition().bool_fn++:i instanceof dn&&"="==i.operator&&i.left instanceof Rn&&i.left.definition().bool_fn++),i.walk(e);var o=t.optional;return o&&gn(e),t.args.forEach((function(n){n.walk(e)})),o&&bn(e),o=i instanceof Rn&&i.fixed_value(),o instanceof ee?Ze(e,i.definition(),o):e.find_parent(K).may_call_this(),!0})),gi(ge,(function(e,n,t){var i=this;H(0,t,i),i.extends&&i.extends.walk(e);var r,o=i.properties.filter((function(n){return gt(n),n.key instanceof T&&n.key.walk(e),n.value}));return i.name&&(r=i.name.definition(),((t=e.parent())instanceof Ve||t instanceof We)&&(r.single_use=!1),nt(e,r,!0)?(Nn(e,r),e.loop_ids[r.id]=e.in_loop,r.fixed=function(){return i},r.fixed.assigns=[i],ir(r)||(r.single_use=!1)):r.fixed=!1),o.forEach((function(n){!n.static||n instanceof xe&&n.value.contains_this()?(gn(e),n.value.walk(e),bn(e)):n.value.walk(e)})),!0})),gi(pn,(function(e){return this.condition.walk(e),gn(e),this.consequent.walk(e),bn(e),gn(e),this.alternative.walk(e),bn(e),!0})),gi(Xe,(function(e){return this.name.walk(e),gn(e),this.value.walk(e),bn(e),!0})),gi(B,(function(e){var n=e.in_loop;return e.in_loop=this,gn(e),this.body.walk(e),Ki(this,e.parent())&&(bn(e),gn(e)),this.condition.walk(e),bn(e),e.in_loop=n,!0})),gi(V,(function(e,n,t){var i=this;return H(0,t,i),i.init&&i.init.walk(e),t=e.in_loop,e.in_loop=i,gn(e),i.condition&&i.condition.walk(e),i.body.walk(e),i.step&&(Ki(i,e.parent())&&(bn(e),gn(e)),i.step.walk(e)),bn(e),e.in_loop=t,!0})),gi(W,(function(e,n,t){var i=this;H(0,t,i),i.object.walk(e);var r=e.in_loop;return e.in_loop=i,gn(e),t=i.init,t instanceof Ye?t.definitions[0].name.mark_symbol((function(e){e instanceof $n&&((e=e.definition()).assignments++,e.fixed=!1)}),e):t instanceof _n||t instanceof Rn?t.mark_symbol((function(e){var n;e instanceof Rn&&(Yn(n=e.definition(),e),n.assignments++,e.is_immutable()||(n.fixed=!1))}),e):t.walk(e),i.body.walk(e),bn(e),e.in_loop=r,!0})),gi(Ce,(function(e){return this.condition.walk(e),gn(e),this.body.walk(e),bn(e),this.alternative&&(gn(e),this.alternative.walk(e),bn(e)),!0})),gi(Y,(function(e){return gn(e),this.body.walk(e),bn(e),!0})),gi(ee,(function(e,n,t){var i=this;return x(i,"safe_ids")&&i.safe_ids!==e.safe_ids||m(e.fn_visited,i)&&(i.inlined=!1,gn(e),G(e,t,i),n(),Ke(e,i),i.name&&ht(e,i.name.definition(),i,i.name,i,0,1)),!0})),gi(de,(function(e,n,t){var i=this,r=i.name.definition(),o=e.parent();return(o instanceof Ve||o instanceof We)&&(r.single_use=!1),x(i,"safe_ids")&&i.safe_ids!==e.safe_ids||m(e.fn_visited,i)&&(i.inlined=!1,gn(e),G(e,t,i),n(),Ke(e,i)),!0})),gi(an,(function(e){if(this.optional)return this.expression.walk(e),gn(e),this.property.walk(e),bn(e),!0})),gi(Me,(function(e,n,t){H(0,t,this),this.expression.walk(e);var i=!0;return this.body.forEach((function(n){n instanceof je||(n.expression.walk(e),i&&(i=!1,gn(e)))})),i||bn(e),P(this,e),!0})),gi(Fe,(function(e){return gn(e),P(this,e),bn(e),!0})),gi(Hn,(function(){this.definition().fixed=!1})),gi(qn,(function(){this.definition().fixed=!1})),gi(Rn,(function(e,n,t){var i=this.definition();Yn(i,this),1==i.references.length&&!i.fixed&&i.orig[0]instanceof jn&&(e.loop_ids[i.id]=e.in_loop);var o,s,f=br(e,i);f&&f.enclosed.forEach((function(n){var t;i!==n&&(n.scope.resolve()===f||(t=n.fixed&&n.fixed.assigns)&&(t[t.length-1]instanceof Ue||(n=e.safe_ids[n.id])&&(n.assign=!0)))})),!1===i.fixed?(s=i.redefined())&&E(i.scope,this.scope)&&(s.single_use=!1):void 0!==i.fixed&&Bn(e,i)?i.fixed&&(this.in_arg&&i.orig[0]instanceof Pn&&(this.fixed=i.scope),o=this.fixed_value(),f?i.recursive_refs++:!o||(s=i,!t.option("unused")||s.scope.pinned()||!1===s.single_use||s.references.length-s.recursive_refs!=1||c(s)&&s.scope.uses_arguments)?i.single_use=!1:(i.in_loop=e.loop_ids[i.id]!==e.in_loop,i.single_use=a(o)&&!o.pinned()&&(!i.in_loop||e.parent()instanceof Qe)||!i.in_loop&&i.scope===this.scope.resolve()&&o.is_constant_expression()),r(t,e,this,o,0,dt(o),f)&&(i.single_use?i.single_use="m":i.fixed=!1),i.fixed&&e.loop_ids[i.id]!==e.in_loop&&(i.cross_loop=!0),ht(e,i,this.scope,this,o,0,1)):i.fixed=!1,this.fixed||(this.fixed=i.fixed),o instanceof ee&&!((t=e.parent())instanceof Qe&&t.expression===this)&&Ze(e,i,o)})),gi(Gn,(function(e,n){var t=this.tag;if(t){if(t instanceof te)return this.expressions.forEach((function(n){n.walk(e)})),t.walk(e),!0;t.walk(e),this.expressions.forEach((function(n){n.walk(e)}));var i=t instanceof Rn&&t.fixed_value();return i instanceof ee?Ze(e,t.definition(),i):e.find_parent(K).may_call_this(),!0}})),gi(Q,(function(e,n,t){return this.globals.each((function(e){M(0,t,e)})),gn(e),G(e,t,this),n(),Ke(e,this),!0})),gi(Ne,(function(e,n,t){var i=this;return H(0,t,i),gn(e),P(i,e),bn(e),i.bcatch&&(gn(e),i.bcatch.walk(e),bn(e)),i.bfinally&&i.bfinally.walk(e),!0})),gi(fn,(function(e,n){var t=this;if(Ht[t.operator]){var i=t.expression;if(i instanceof Rn){var r=i.definition();r.assignments++;var o=r.fixed;return Bn(e,r)&&!i.in_arg&&nt(e,r)?(Yn(r,i),Nn(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return Dt(ln,t,{operator:t.operator.slice(0,-1),left:Dt(cn,t,{operator:"+",expression:pt(i,o)}),right:Dt(Kn,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof cn?i.fixed=r.fixed:(i.fixed=function(){return Dt(cn,t,{operator:"+",expression:pt(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}vt(i)}})),gi(Ue,(function(e,n,t){var i,r=this,o=r.value;return o instanceof te&&r.name instanceof $n?(a(),o.parent_scope.resolve().fn_defs.push(o),o.safe_ids=null,(i=r.name.definition()).fixed||Ze(e,i,o)):o?(o.walk(e),a()):e.parent()instanceof Le&&a(),!0;function a(){mt(e,t,r.name,(function(){return r.value||Dt(rt,r)}),(function(n,t){var i=n.definition();t&&nt(e,i,!0)?(Nn(e,i),e.loop_ids[i.id]=e.in_loop,i.fixed=t,i.fixed.assigns=[r],(n instanceof zn&&i.redefined()||!S(n)&&!ir(i))&&(i.single_use=!1)):i.fixed=!1}))}})),gi(U,(function(e,n){var t=e.in_loop;return e.in_loop=this,gn(e),n(),bn(e),e.in_loop=t,!0})),Q.DEFMETHOD("reset_opt_flags",(function(e){var n=new ut(e.option("reduce_vars")?function(t,i){return gt(t),t.reduce_vars(n,i,e)}:gt);n.fn_scanning=null,n.fn_visited=[],n.in_loop=null,n.loop_ids=Object.create(null),n.safe_ids=Object.create(null),this.walk(n)})),On.DEFMETHOD("fixed_value",(function(){var e=this.definition().fixed;return e&&((e=this.fixed?this.fixed:e)instanceof T?e:e())})),Rn.DEFMETHOD("is_immutable",(function(){var e=this.redef||this.definition();return 1==e.orig.length&&e.orig[0]instanceof Pn})),T.DEFMETHOD("convert_symbol",u),Xe.DEFMETHOD("convert_symbol",bt),_n.DEFMETHOD("convert_symbol",bt),$n.DEFMETHOD("convert_symbol",yt),Rn.DEFMETHOD("convert_symbol",yt),Xe.DEFMETHOD("mark_symbol",wt),_n.DEFMETHOD("mark_symbol",wt),$n.DEFMETHOD("mark_symbol",xt),Rn.DEFMETHOD("mark_symbol",xt),T.DEFMETHOD("match_symbol",(function(e){return e(this)})),Xe.DEFMETHOD("match_symbol",kt),_n.DEFMETHOD("match_symbol",kt);var Tt=b("Infinity NaN undefined");function At(e,n){if(e instanceof Un)return!0;if(e instanceof rn){if("__proto__"===e.property)return!0;if((e=e.expression)instanceof Rn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||(!!e.tail_node().is_constant()||At(e,n))}return e instanceof Rn&&(!!e.is_immutable()||(e=e.definition(),n.exposed(e)&&Tt[e.name]))}function Dt(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function Ot(e,n){return 1==n.length?n[0]:Dt(nn,e,{expressions:n.reduce(jt,[])})}function $t(e,n){switch((0,i.Z)(e)){case"string":return Dt(Xn,n,{value:e});case"number":return isNaN(e)?Dt(it,n):isFinite(e)?1/e<0?Dt(cn,n,{operator:"-",expression:Dt(Kn,n,{value:-e})}):Dt(Kn,n,{value:e}):e<0?Dt(cn,n,{operator:"-",expression:Dt(at,n)}):Dt(at,n);case"boolean":return Dt(e?ct:ft,n);case"undefined":return Dt(rt,n);default:if(null===e)return Dt(tt,n,{value:null});if(e instanceof RegExp)return Dt(et,n,{value:e});throw new Error(_("Can't handle constant of type: {type}",{type:(0,i.Z)(e)}))}}function zt(e,n){return n instanceof rn||Jt(n)&&"eval"==n.name}function Ft(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&zt(0,i):n instanceof Gn?r=n.tag===t&&zt(0,i):n instanceof cn&&(r="delete"==n.operator||"typeof"==n.operator&&Jt(i)),r?Ot(t,[Dt(Kn,t,{value:0}),i]):i}function jt(e,n){return n instanceof nn?e.push.apply(e,n.expressions):e.push(n),e}function Pt(e){return e instanceof Re||e instanceof be||e instanceof Le}function Nt(e){if(e instanceof de){var n=e.name.definition(),t=e.name.scope;return n.scope===t||y(n.references,(function(e){var n=e.scope;do{if(n===t)return 1}while(n=n.parent_scope)}))}return!Pt(e)}function It(e){if(null===e)return[];if(e instanceof I)return y(e.body,Nt)?e.body:[e];if(e instanceof z)return[];if(q(e))return[e];throw new Error("Can't convert thing to statement array")}function Yt(e){return null===e||e instanceof z||e instanceof I&&0==e.body.length}function Lt(e){return y(e.body,(function(e){return Yt(e)||e instanceof me||e instanceof Be&&Kt(e)}))}function Ut(e){return e instanceof R&&e.body instanceof I?e.body:e}function Zt(e){if("Call"!=e.TYPE)return!1;for(;(e=e.expression)instanceof rn;);return e instanceof te?!ie(e):Zt(e)}function Gt(e){var n=e.expression;if(n.name)return!1;if(!(e instanceof en))return!0;var t=!1;return n.walk(new ut((function(e){return!!t||(e instanceof Zn?t=!0:e instanceof K&&e!==n||void 0)}))),!t}function Jt(e){return e instanceof Rn&&e.definition().undeclared}var Xt=b("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet");function Kt(e){return y(e.definitions,(function(e){return!e.value}))}function Qt(e,n){return e instanceof be?n&&!e.extends&&y(e.properties,(function(e){return!(e.key instanceof T)&&!(e instanceof xe&&e.static&&e.value)})):e instanceof Ye?(n||e instanceof Be)&&Kt(e):e instanceof Ve||e instanceof We?Qt(e.body,n):e instanceof de}function ei(e,n){var t=e.lastIndexOf(n);if(t<0)return!1;for(;++t<e.length;)if(!Qt(e[t],!0))return!1;return!0}function ni(e,n){var i,o,a;!function(){var e=n.self(),t=0;do{if(e instanceof Ie)n.parent(t).bfinally&&((o=o||{}).bfinally=!0),t++;else if(e instanceof He)t++;else if(e instanceof R)i=!0;else{if(e instanceof K){a=e;break}e instanceof Ne&&(o=o||{},e.bcatch&&(o.bcatch=!0),e.bfinally&&(o.bfinally=!0))}}while(e=n.parent(t++))}();for(var s,u=10;s=!1,function e(n){for(var i=[],r=0;r<n.length;){var o=n[r];if(o instanceof I&&y(o.body,Nt))s=!0,e(o.body),[].splice.apply(n,[r,1].concat(o.body)),r+=o.body.length;else{if(o instanceof $){if(t(o.value,i)){s=!0,n.splice(r,1);continue}i.push(o.value)}o instanceof z?(s=!0,n.splice(r,1)):r++}}}(e),n.option("dead_code")&&function(e,n){for(var t,i=n.self(),r=0,o=0,a=e.length;r<a;r++){var f,c=e[r];if(!(c instanceof $e)||Ut(f=n.loopcontrol_target(c))!==i||c instanceof ze&&f instanceof R?e[o++]=c:c.label&&g(c.label.thedef.references,c),qi(c)){t=e.slice(r+1);break}}e.length=o,s=o!=a,t&&t.forEach((function(t){ti(n,t,e)}))}(e,n),n.option("if_return")&&function(e,n){for(var t=n.self(),i=n.parent(),r=m((function(e){return e instanceof ee})),o=r&&i&&"Call"==i.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof Ce&&i.body instanceof De&&1<++n)return!0}return!1}(e),f=e.length;0<=--f;){var c=e[f],u=E(f),l=e[u];if(r&&!l&&c instanceof De){if(!c.value){s=!0,e.splice(f,1);continue}var p=c.value.tail_node();if(p instanceof cn&&"void"==p.operator){s=!0,p===c.value?h=p.expression:(h=c.value.clone()).expressions[h.length-1]=p.expression,e[f]=Dt(F,c,{body:h});continue}}if(c instanceof Ce){var d=qi(c.body);if(w(d)){d.label&&g(d.label.thedef.references,d),s=!0,(c=c.clone()).condition=c.condition.negate(n);var h=k(c.body,d);c.body=Dt(I,c,{body:It(c.alternative).concat(x())}),c.alternative=Dt(I,c,{body:h}),e[f]=c,e[f]=c.transform(n);continue}if(d&&!c.alternative&&c.body instanceof I&&l instanceof Te){var v=c.condition.negate(n);if(v.print_to_string().length<=c.condition.print_to_string().length){s=!0,(c=c.clone()).condition=v,e[u]=c.body,c.body=l,e[f]=c,e[f]=c.transform(n);continue}}v=qi(c.alternative);if(w(v)){v.label&&g(v.label.thedef.references,v),s=!0,(c=c.clone()).body=Dt(I,c.body,{body:It(c.body).concat(x())}),h=k(c.alternative,v),c.alternative=Dt(I,c.alternative,{body:h}),e[f]=c,e[f]=c.transform(n);continue}n.option("typeofs")&&(d&&!v&&Qi(c.condition,null,Dt(I,t,{body:e.slice(f+1)})),!d&&v&&Qi(c.condition,Dt(I,t,{body:e.slice(f+1)})))}c instanceof Ce&&c.body instanceof De&&(d=c.body.value,v=c.body.in_bool||l instanceof De&&l.in_bool,d||c.alternative||!(r&&!l||l instanceof De&&!l.value)?!c.alternative&&l instanceof De?(s=!0,(c=c.clone()).alternative=l,e.splice(f,1,c.transform(n)),e.splice(u,1)):c.alternative||l||!r||!(v||d&&a)?(d=e[function(n){for(var t=n;0<=--t&&Qt(e[t]););return t}(f)],n.option("sequences")&&r&&!c.alternative&&(!d&&o||d instanceof Ce&&d.body instanceof De)&&E(u)==e.length&&l instanceof F&&(s=!0,(c=c.clone()).alternative=Dt(I,l,{body:[l,Dt(De,l,{value:null})]}),e.splice(f,1,c.transform(n)),e.splice(u,1))):(s=!0,(c=c.clone()).alternative=Dt(De,c,{value:null}),e.splice(f,1,c.transform(n))):(s=!0,e[f]=Dt(F,c.condition,{body:c.condition})))}function m(e){var i,r=t,o=0;do{do{if(e(r))return!0}while((r=n.parent(o++))instanceof Ce&&(i=r))}while((r instanceof I||r instanceof K)&&ei(r.body,i))}function _(e){return m((function(n){return n===e}))}function b(e){if(e instanceof De)return r&&(!(t=e.value)||t instanceof cn&&"void"==t.operator);if(e instanceof $e){var t=n.loopcontrol_target(e);return e instanceof qe?_(Ut(t)):!(t instanceof R)&&_(t)}}function w(n){if(b(n)){for(var t=e.length;--t>f;){var i=e[t];if(i instanceof be){if(i.name.definition().preinit)return}else if((i instanceof Re||i instanceof Le)&&!y(i.definitions,(function(e){return!e.name.match_symbol((function(e){return e instanceof $n&&e.definition().preinit}))})))return}return 1}}function x(){var n=[],t=!1,i=e.splice(f+1).filter((function(e){return e instanceof de?(n.push(e),!1):(Pt(e)&&(t=!0),!0)}));return[].push.apply(t?i:e,n),i}function k(e,n){e=It(e);for(var t,i=e;(t=i[i.length-1])!==n;)i=t.body;return i.pop(),n.value&&i.push(Dt(F,n.value,{body:n.value.expression})),e}function E(n){for(var t=n+1;t<e.length&&Qt(e[t]);t++);return t}}(e,n),0<n.sequences_limit&&(function(e,n){if(!(e.length<2)){for(var t=[],i=0,r=0,o=e.length;r<o;r++){var a,f=e[r];f instanceof F?(t.length>=n.sequences_limit&&c(),a=f.body,(a=0<t.length?a.drop_side_effect_free(n):a)&&jt(t,a)):(Qt(f)||c(),e[i++]=f)}c(),(e.length=i)!=o&&(s=!0)}function c(){var n;t.length&&(n=Ot(t[0],t),e[i++]=Dt(F,n,{body:n}),t=[])}}(e,n),function(e,n){function t(e){r--,s=!0;var n=i.body;return Ot(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var f,c=e[o];if(i&&(c instanceof Ae?!c.value&&Et(a)||(c.value=t(c.value||Dt(rt,c)).optimize(n)):c instanceof V?c.init instanceof Ye||(f=!1,i.body.walk(new ut((function(e){return!!(f||e instanceof K)||(e instanceof ln&&"in"==e.operator?f=!0:void 0)}))),f||(c.init?c.init=t(c.init):(c.init=i.body,r--,s=!0))):c instanceof Z?Pt(c.init)||(c.object=t(c.object)):c instanceof Ce?c.condition=t(c.condition):(c instanceof Me||c instanceof X)&&(c.expression=t(c.expression))),n.option("conditionals")&&c instanceof Ce){var u=[],l=p(c.body,u),d=p(c.alternative,u);if(!1!==l&&!1!==d&&0<u.length){var h=u.length;u.push(Dt(Ce,c,{condition:c.condition,body:l||Dt(z,c.body),alternative:d})),u.unshift(r,1),[].splice.apply(e,u),o+=h,r+=h+1,s=!(i=null);continue}}e[r++]=c,i=c instanceof F?c:null}e.length=r}(e,n)),n.option("join_vars")&&function(e){for(var n,t=0,i=-1;t<e.length;t++){var r,o,a=e[t],f=e[i];if(a instanceof Ye)f&&f.TYPE==a.TYPE?(f.definitions=f.definitions.concat(a.definitions),s=!0):n&&n.TYPE==a.TYPE&&Kt(a)?(n.definitions=n.definitions.concat(a.definitions),s=!0):a instanceof Be?((o=m(f,a))?(o.length&&(f.body=Ot(f,o),i++),s=!0):i++,e[i]=n=a):e[++i]=a;else{if(a instanceof Ae)a.value=c(a.value);else if(a instanceof V)if(o=h(f,a.init))s=!0,a.init=o.length?Ot(a.init,o):null;else{if(f instanceof Be&&(!a.init||a.init.TYPE==f.TYPE)){a.init&&(f.definitions=f.definitions.concat(a.init.definitions)),n=a.init=f,e[i]=u(a),s=!0;continue}if(n&&a.init&&n.TYPE==a.init.TYPE&&Kt(a.init))n.definitions=n.definitions.concat(a.init.definitions),a.init=null,s=!0;else if(a.init instanceof Be&&(n=a.init,o=m(f,a.init))){if(s=!0,0==o.length){e[i]=u(a);continue}f.body=Ot(f,o)}}else if(a instanceof W)n&&n.TYPE==a.init.TYPE&&(r=n.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Rn,(function(e,n){r.push(Dt(Ue,n,{name:n,value:null})),n.definition().references.push(e)})),n.definitions=r,s=!0),a.object=c(a.object);else if(a instanceof Ce)a.condition=c(a.condition);else if(a instanceof F){if(o=h(f,a.body)){if(s=!0,!o.length)continue;a.body=Ot(a.body,o)}}else(a instanceof Me||a instanceof X)&&(a.expression=c(a.expression));e[++i]=n?u(a):a}}function c(e){var n=h(f,e,1);if(!n)return e;s=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),Ot(e,n)}function u(e){return e.transform(new lt((function(e,t,i){if(e instanceof Ye){if(n===e)return e;if(n.TYPE!=e.TYPE)return e;var r=this.parent();return r instanceof W&&r.init===e?e:Kt(e)?(n.definitions=n.definitions.concat(e.definitions),s=!0,r instanceof V&&r.init===e?null:i?v.skip:Dt(z,e)):e}return e instanceof Ve||e instanceof K||!q(e)?e:void 0})))}e.length=i+1}(e),n.option("collapse_vars")&&function(e,n){if(!a.pinned())for(var u,p,d,h=Object.create(null),m=[],_=Object.create(null),g=e.length,b=new lt((function(e,t){if(ve)return e;if(!he)return e!==k[E]?e:++E<k.length?Se(e,b):(he=!0,(C=(q?Be:Ie)(e,0))===e&&(ve=!0),e);var i=b.parent();if(function(e,t){if(e===ue)return!0;if(t instanceof V&&e!==t.init)return!0;if(e instanceof dn)return"="!=e.operator&&P.equivalent_to(e.left);if(e instanceof Qe)return P instanceof rn&&!!P.equivalent_to(e.expression)&&!(ue instanceof te&&!ue.contains_this());if(e instanceof ge)return!n.has_directive("use strict");if(e instanceof O)return!0;if(e instanceof me)return Z&&P.name===e.name.name;if(e instanceof wn)return e.key instanceof T;if(e instanceof L)return!0;if(e instanceof $e)return!0;if(e instanceof Rn){if(e.is_declared(n)){if(e.fixed_value())return!1;if(S(e))return!(t instanceof rn&&t.expression===e)&&f(e.definition())}else if(Te(e,t))return!1;return!de||(Y=!1)}return e instanceof Ne||e instanceof X}(e,i))return ve=!0,e;if(!M&&ze(e,i)&&(M=i),e.single_use&&i instanceof Ue&&i.value===e)return e;if(!(e instanceof $n)&&(H&&P.equivalent_to(e)||Y&&(r=Y(e,this)))){if(!be||M&&(r||!ce||!de))return r||q||(ve=!0),e;if(Wt(e,i))return q&&!r&&(z=!0),e;if(q)return M&&0==$&&($=d-_e),r||_e++,e;if(_e++,s=ve=!0,T.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==D.TYPE)return Dt(dn,D,{operator:"=",left:D.right.left,right:Dt(pn,D,{condition:"&&"==D.operator?D.left:D.left.negate(n),consequent:D.right.right,alternative:e})});if(D instanceof un)return P instanceof Rn&&(P.definition().fixed=!1),Dt(cn,D,D);if(D instanceof Ue){var r=D.name.definition();return r.references.length-r.replaced!=1||n.exposed(r)?Dt(dn,D,{operator:"=",left:Dt(Rn,D.name,D.name),right:D.value}):(r.replaced++,Ft(0,i,e,D.value))}for(var o=D;o.write_only&&(o.write_only=!1,o instanceof dn);)o=o.right;return D}if((qe(e,i)||G(e))&&(C=e)instanceof K&&(ve=!0),e instanceof ne){var a=be;return be=!1,t(e,b),be=a,Ee(e)}return e instanceof _n?(a=be,be=!1,t(e,b),be=a,Ee(e)):e instanceof Xe?(e.name=e.name.transform(b),a=be,be=!1,e.value=e.value.transform(b),be=a,Ee(e)):!(e instanceof j)||e instanceof K||e.variables&&e.variables.all((function(e){return!fe.has(e.name)}))?Se(e,b):(a=be,be=!1,Se(e,b)||t(e,b),be=a,Ee(e))}),Ee),x=new lt((function(e){if(ve)return e;if(!he){if(e!==k[E])return e;switch(E++,k.length-E){case 0:if(he=!0,z)return e;if(e!==D)return e;if(e instanceof Ue)return e;ke.replaced++;var n=x.parent();return n instanceof nn&&n.tail_node()!==e?(q.replaced++,v.skip):ue;case 1:if(!z&&e.body===D)return he=!0,ke.replaced++,q.replaced++,null;default:return Se(e,x)}}if(e instanceof Rn&&e.definition()===ke){if(Wt(e,x.parent()))return e;--_e||(ve=!0);var t=ue.clone();return t.scope=e.scope,t.reference(),_e==$?(ve=!0,Dt(dn,D,{operator:"=",left:e,right:t})):(ke.replaced++,t)}return e instanceof je||e instanceof K?e:void 0}),Ke);0<=--g;){0==g&&n.option("unused")&&function(){var e,i,r=n.self();if(r instanceof te&&!oe(r)&&!r.uses_arguments&&!r.pinned()&&(e=n.parent())instanceof Qe&&e.expression===r&&Gt(e)&&y(e.args,(function(e){return!(e instanceof sn)}))){var o=n.has_directive("use strict");o&&!t(o,r.body)&&(o=!1);for(var s=re(r)?function(e){return e instanceof On&&"await"==e.name}:function(e){return e instanceof hn&&!c.find_parent(K)},f=null,c=new ut((function(e,n){if(!v)return!0;if(s(e)||e instanceof vn)return!(v=null);if(e instanceof Un&&(o||!f))return!(v=null);if(e instanceof Rn&&r.variables.has(e.name)){var t=e.definition().scope;if(t!==a)for(;t=t.parent_scope;)if(t===a)return!0;v=null}if(e instanceof K&&!ie(e)){var i=f;return f=e,n(),f=i,!0}})),l=(u=e.args.slice()).length,p=Object.create(null),d=r.argnames.length;0<=--d;){var h=r.argnames[d],v=u[d];if(h instanceof Xe&&(i=h.value,h=h.name,u[l+d]=i),h instanceof _n){if(!function e(t,i){return i?t instanceof Xe?i.has_side_effects(n)||t.value.has_side_effects(n)||e(t.name,ii(i)&&t.value):t instanceof _n?!(!t.rest||!e(t.rest))||(t instanceof yn?!(i instanceof mn||i.is_string(n))||!y(t.elements,(function(n){return!e(n)})):t instanceof xn?!i.is_defined(n)||!y(t.properties,(function(t){return!(t instanceof T&&t.has_side_effects(n))&&!e(t.value)})):void 0):void 0:!(t instanceof On)}(h,v))continue;m.length=0;break}h.name in p||(p[h.name]=!0,(v=i?!v||ii(v)?i:null:v)||i?v instanceof ee&&v.pinned()?v=null:v&&v.walk(c):v=Dt(rt,h).transform(n),v&&((h=Dt(Ue,h,{name:h,value:v})).name_index=d,h.arg_index=i?l+d:d,m.unshift([h])))}}}();var k=[];for(Fe(e[g]);0<m.length;){k=m.pop();var E=0,D=k[k.length-1],$=-1,z=!1,q=null,C=null,M=null,P=function(e){if(e instanceof dn){var i=e.left;if("="!=e.operator)return i;if(!(i instanceof Rn))return i;var r=i.definition();return a.uses_arguments&&c(r)||n.exposed(r)||(d=Ze(r),r.fixed&&i.fixed&&(o=r.references.filter((function(e){return e.fixed===i.fixed})).length-1)<d&&(d=o,$=0),We(e.right)),i}if(e instanceof ln)return e.right.left;if(e instanceof fn)return e.expression;if(e instanceof Ue&&(r=(i=e.name).definition(),!r.const_redefs&&t(i,r.orig)&&(!a.uses_arguments||!c(r)))){var o=r.orig.length-r.eliminated-(_[r.name]||0);return d=Ze(r),r.fixed&&(d=Math.min(d,r.references.filter((function(n){return!n.fixed||(!n.fixed.assigns||(n=n.fixed.assigns[0],n===i||Ge(n)===e.value))})).length)),1<o&&!(i instanceof Fn)?(We(e.value),Dt(Rn,i,i)):We(e.value)||1==d&&!n.exposed(r)?Dt(Rn,i,i):void 0}}(D),I=P&&P.has_side_effects(n),H=P&&!I&&!At(P,n),Y=function(e){if(!(e instanceof dn&&e.right.single_use)){for(var t,i=Object.create(null),r=new ut((function(e){e instanceof Rn&&(i[e.definition().id]=!0)}));e instanceof dn&&"="==e.operator;)e.left.walk(r),e=e.right;if(e instanceof Un)return a;if(e instanceof Rn){var o=e.evaluate(n);return o===e?a:Je(o,a)}return e.is_truthy()?Je(!0,l):!e.is_constant()||(o=e.evaluate(n),o instanceof T)?P instanceof Rn&&(!!function e(t){return!(t instanceof mn)&&(t instanceof ln&&si[t.operator]?e(t.left)&&e(t.right):!(t instanceof Qe)&&(t instanceof pn?e(t.consequent)&&e(t.alternative):!(t instanceof kn)&&!t.has_side_effects(n)))}(e)&&(e.walk(new ut((function(e){if(t)return!0;e instanceof Rn&&i[e.definition().id]&&(t=!0)}))),!t&&a)):Je(o,a)}function a(n){return e.equivalent_to(n)}}(D);if(H||Y){var Z=D.name instanceof Fn,G=l;if(D.may_throw(n)){if(Z&&re(a))continue;G=o?function(e){return e.has_side_effects(n)}:bn}var J=!1,ae=!1,se=!0,fe=function(e){var t=new w;e instanceof Ue&&(e.name.definition().fixed||(se=!1),t.add(e.name.name,P));var i=a.uses_arguments&&!n.has_directive("use strict"),o=a instanceof Q,s=new ut((function(f){var c,u;f instanceof Rn?(u=f.fixed_value())||(c=(u=f).definition()).undeclared||!c.assignments&&c.escaped&&!c.escaped.cross_scope||!A(c,f.scope,f,s.parent())&&yr(c)||(se=!1):f instanceof Un&&(u=f),u&&t.add(f.name,r(n,s,f,u,0)),i&&f instanceof an&&(a.each_argname((function(e){n.option("reduce_vars")&&!e.definition().assignments||(e.definition().fixed||(se=!1),t.add(e.name,!0))})),i=!1),o&&("Call"==f.TYPE?ae||(u=f.expression)instanceof rn||u instanceof te&&!u.contains_this()||(ae=!0):f instanceof rn&&function e(n){return n instanceof Rn&&!(n=n.fixed_value())||(n instanceof dn?"="==n.operator&&e(n.right):n instanceof rn||n instanceof Un)}(f.expression)&&(f!==P||e instanceof fn?J=!0:ae=!0))}));return e.walk(s),t}(D),ce=function(e){var n=tn(e);return n instanceof Rn&&n.definition().scope.resolve()===a&&!(i&&(fe.has(n.name)&&fe.get(n.name)[0]!==e||D instanceof fn||D instanceof dn&&"="!=D.operator))}(P),ue=Ge(D);I=I||!(D instanceof fn)&&ue.has_side_effects(n);var pe=o||!ce?function(e){return e instanceof _n}:l,de=function(e){if(e instanceof fn)return!1;if(I)return!1;if(q)return!0;if(!(P instanceof Rn))return!1;var n;if(e instanceof Ue)n=1;else{if("="!=e.operator)return!1;n=2}return e=P.definition(),e.references.length-e.replaced==n}(D),he=Z,ve=!1,_e=0,be=!u||!he;if(!be){for(var ye=D.arg_index+1;!ve&&ye<u.length;ye++)u[ye]&&u[ye].transform(b);be=!0}for(var xe=g;!ve&&xe<e.length;xe++)e[xe].transform(b);if(q){if(!_e||_e+z<d){m.push(k),p=!0;continue}_e==$&&(z=!0);var ke=P.definition();for(ve=!1,E=0,he=Z,xe=g;!ve&&xe<e.length;xe++)e[xe].transform(x)||e.splice(xe--,1);_e=D instanceof Ue&&D===k[k.length-1]&&ke.references.length==ke.replaced&&!n.exposed(ke),q.last_ref=!1,q.single_use=!1,s=!0}_e&&!function(t){var i=t.name_index;if(0<=i){var r=a.argnames[i];return r instanceof Xe?(r.value=Dt(Kn,r,{value:0}),r.name.definition().fixed=!1):(t=n.parent().args)[i]&&(t[i]=Dt(Kn,t[i],{value:0}),r.definition().fixed=!1),!0}var o=k.length-1;k[o-1].body===k[o]&&o--;var s=new lt((function(e,n,t){return he||e!==k[E]?e:++E<=o?Se(e,s):(he=!0,e instanceof Ue?(_[e.name.name]=(_[e.name.name]||0)+1,q&&q.replaced++,(e=e.clone()).value=null,e):t?v.skip:null)}),Ke);return he=ve=!1,E=0,e[g].transform(s)}(D)&&e.splice(g,1)}}}function Ee(e){return ve||(C===e&&(ve=!0),M===e&&(M=null)),e}function Se(e,n){if(!(e instanceof j))return e instanceof we&&!e.static?(e.key instanceof T&&(e.key=e.key.transform(n)),e):void 0;if(e instanceof K)return e;if(e instanceof W)return e.object=e.object.transform(n),ve=!0,e;if(e instanceof Me){e.expression=e.expression.transform(n);for(var t=0;!ve&&t<e.body.length;t++){var i=e.body[t];if(i instanceof Pe){if(!he){if(i!==k[E])continue;E++}if(i.expression=i.expression.transform(n),!de)break;Y=!1}}return ve=!0,e}}function Te(e,n){return n instanceof dn?"="==n.operator&&n.left===e:n instanceof Xe?n.name===e:n instanceof yn||n instanceof wn&&n.value===e}function ze(e,n){return n instanceof dn?n.left!==e&&si[n.operator.slice(0,-1)]:n instanceof ln?n.left!==e&&si[n.operator]:n instanceof Qe?n.optional&&n.expression!==e:n instanceof Pe?n.expression!==e:n instanceof pn||n instanceof Ce?n.condition!==e:n instanceof an&&n.optional&&n.expression!==e}function qe(e,t){if(e instanceof hn)return 1;if("Binary"==e.TYPE)return"in"==e.operator&&!mr(e.right);if(e instanceof Qe){var i=e.expression;if(i instanceof Rn&&(p=i.definition(),i=i.fixed_value()),!(i instanceof ee))return!e.is_expr_pure(n);if(p&&br(n,p,i))return 1;if(i.collapse_scanning)return;i.collapse_scanning=!0;var r=be;be=!1;var s=C,c=M;if(y(i.argnames,(function(e){if(e instanceof Xe){if(e.value.transform(b),ve)return;e=e.name}return!(e instanceof _n)})))if(ie(i)&&i.value)i.value.transform(b);else for(var u=0;!ve&&u<i.body.length;u++){var l=i.body[u];if(l instanceof De){l.value&&l.value.transform(b);break}l.transform(b)}else ve=!0;return M=c,C=s,be=r,delete i.collapse_scanning,ve?(ve=!1,1):void 0}if(e instanceof Ae){if(o){if(o.bfinally)return 1;if(o.bcatch&&e instanceof Oe)return 1}return I||P instanceof rn||gn(P)}if(e instanceof le)return n.option("ie")&&e.name&&fe.has(e.name.name);if(e instanceof Un)return en(e);if(e instanceof rn){if(I)return 1;if(r=e.expression,r instanceof Rn&&f(r.definition()))return 1;if(n.option("unsafe")){if(Jt(r)&&Xt[r.name])return;if(wi(r))return}return se?!q&&(o||!ce)&&!e.optional&&r.may_throw_on_access(n):1}if(e instanceof sn)return 1;if(e instanceof Rn){if(en(e))return!Te(e,t);if(I&&gn(e))return 1;var p=e.definition();return(o||p.scope.resolve()!==a)&&!S(e)}return e instanceof Gn?!e.is_expr_pure(n):e instanceof Ue?pe(e.name)||(e.value||t instanceof Le)&&e.name.match_symbol((function(e){return e instanceof $n&&(fe.has(e.name)||I&&gn(e))}),!0):e instanceof vn?1:(e=Wt(e.left,e),e&&(e instanceof rn||pe(e)||e.match_symbol((function(e){return e instanceof Rn&&(fe.has(e.name)||J&&n.exposed(e.definition()))}),!0)))}function Fe(e,n){var t,i,r;k.push(e),e instanceof mn?e.elements.forEach((function(e){Fe(e,n)})):e instanceof dn?((t=e.left)instanceof _n||m.push(k.slice()),Fe(t),Fe(e.right),t instanceof Rn&&"="==e.operator&&(h[t.name]=(h[t.name]||0)+1)):e instanceof hn?Fe(e.expression,n):e instanceof ln?(r=si[e.operator],n&&r&&"??"!=e.operator&&e.right instanceof dn&&"="==e.right.operator&&!(e.right.left instanceof _n)&&m.push(k.slice()),Fe(e.left,!r&&n),Fe(e.right,n)):e instanceof Qe?(Fe(e.expression),e.args.forEach(Fe)):e instanceof Pe?Fe(e.expression):e instanceof pn?(Fe(e.condition),Fe(e.consequent,n),Fe(e.alternative,n)):e instanceof Ye?e.definitions.forEach(Fe):e instanceof on?Fe(e.expression):e instanceof L?(Fe(e.condition),e.body instanceof N||Fe(e.body)):e instanceof Ae?e.value&&Fe(e.value):e instanceof V?(e.init&&Fe(e.init,!0),e.condition&&Fe(e.condition),e.step&&Fe(e.step,!0),e.body instanceof N||Fe(e.body)):e instanceof W?(Fe(e.object),e.body instanceof N||Fe(e.body)):e instanceof Ce?(Fe(e.condition),e.body instanceof N||Fe(e.body),!e.alternative||e.alternative instanceof N||Fe(e.alternative)):e instanceof kn?e.properties.forEach((function(e){k.push(e),e.key instanceof T&&Fe(e.key),e instanceof Sn&&Fe(e.value,n),k.pop()})):e instanceof nn?(i=e.expressions.length-(n?0:1),e.expressions.forEach((function(e,n){Fe(e,n<i)}))):e instanceof F?Fe(e.body,!0):e instanceof sn?Fe(e.expression):e instanceof an?(Fe(e.expression),Fe(e.property)):e instanceof Me?(Fe(e.expression),e.body.forEach(Fe)):e instanceof fn?Ht[e.operator]?m.push(k.slice()):Fe(e.expression):e instanceof Ue?(e.name instanceof Mn&&(e.value?(r=e.name.definition()).references.length>r.replaced&&m.push(k.slice()):_[e.name.name]=(_[e.name.name]||0)+1),e.value&&Fe(e.value)):e instanceof vn&&e.expression&&Fe(e.expression),k.pop()}function Ie(e,n){var t=b.parent(n);return t instanceof mn||t instanceof dn||t instanceof hn||t instanceof ln||t instanceof Qe||t instanceof Pe||t instanceof pn?e:t instanceof Ye?Ve(t,n+1):t instanceof Ae||t instanceof Ce||t instanceof R||t instanceof En||t instanceof rn?e:t instanceof nn?(t.tail_node()===e?Ie:Ve)(t,n+1):t instanceof F?Ve(t,n+1):t instanceof sn||t instanceof Me||t instanceof fn||t instanceof Ue||t instanceof vn?e:null}function He(e,n,t){for(var i;i=e,(e=b.parent(++t))instanceof dn&&e.operator.slice(0,-1)==n||e instanceof ln&&e.operator==n;);return i}function Re(e,n,t,i,r){var o=be;be=!1;var a=C,s=M,f=b.stack;return b.stack=[i],e.transform(b),b.stack=f,M=s,C=a,be=o,ve?(ve=!1,t):n(i,r+1)}function Be(e,n){var t=b.parent(n);if(t instanceof mn)return Be(t,n+1);if(t instanceof dn)return G(t)||t.left.match_symbol((function(e){return e instanceof Rn&&(P.name==e.name||q.name==e.name)}))?e:t.left!==e&&si[i=t.operator.slice(0,-1)]?He(t,i,n):Be(t,n+1);if(t instanceof ln)return t.left!==e&&si[i=t.operator]?He(t,i,n):Be(t,n+1);if(t instanceof Qe)return t;if(t instanceof Pe)return t.expression!==e?e:Be(t,n+1);if(t instanceof pn)return t.condition!==e?e:Be(t,n+1);if(t instanceof Ye)return Ve(t,n+1);if(t instanceof B)return e;if(t instanceof Ae)return Ve(t,n+1);if(t instanceof V)return t.init!==e&&t.condition!==e?e:Be(t,n+1);if(t instanceof W)return t.init!==e?e:Be(t,n+1);if(t instanceof Ce)return t.condition!==e?e:Be(t,n+1);if(t instanceof En){var i=b.parent(n+1);return y(i.properties,(function(e){return e instanceof Sn}))?Be(i,n+2):i}return t instanceof rn?t.expression===e?Be(t,n+1):e:t instanceof nn?(t.tail_node()===e?Be:Ve)(t,n+1):t instanceof F?Ve(t,n+1):t instanceof sn?Be(t,n+1):t instanceof Me?t.expression!==e?e:Be(t,n+1):t instanceof fn?"delete"==t.operator?e:Be(t,n+1):t instanceof Ue?t.name.match_symbol((function(e){return e instanceof $n&&(P.name==e.name||q.name==e.name)}))?e:Be(t,n+1):t instanceof U?t.condition!==e?e:Be(t,n+1):t instanceof vn?Be(t,n+1):null}function Ve(e,n){var t=b.parent(n);if(qe(e,t))return e;if(ze(e,t))return e;if(t instanceof mn)return Ve(t,n+1);if(t instanceof dn)return r(t.left);if(t instanceof hn)return e;if(t instanceof ln)return Ve(t,n+1);if(t instanceof Qe)return Ve(t,n+1);if(t instanceof Pe)return Ve(t,n+1);if(t instanceof pn)return Ve(t,n+1);if(t instanceof Ye)return Ve(t,n+1);if(t instanceof Ae)return Ve(t,n+1);if(t instanceof Ce)return Ve(t,n+1);if(t instanceof R)return e;if(t instanceof En){var i=b.parent(n+1);return y(i.properties,(function(e){return e instanceof Sn}))?Ve(i,n+2):i}return t instanceof rn?(i=t.expression,i===e?Ve(t,n+1):Re(i,Ve,e,t,n)):t instanceof nn||t instanceof F?Ve(t,n+1):t instanceof sn?e:t instanceof Me||t instanceof fn?Ve(t,n+1):t instanceof Ue?r(t.name):t instanceof vn?e:null;function r(i){return G(t)?e:i!==e&&i instanceof _n?Re(i,Ve,e,t,n):Ve(t,n+1)}}function We(e){if(p)p=!1;else if(!(d<1)){var t=e instanceof dn&&"="==e.operator?e.left:e;if(t instanceof Rn){var i=t.definition();if(!i.undeclared&&!f(i)){if(t!==e){if(At(t,n))return;if(i.references.length-i.replaced<2)return;e=D.clone(),e[e instanceof dn?"right":"value"]=t,0<=D.name_index&&(e.name_index=D.name_index,e.arg_index=D.arg_index),D=e}return q=i}}}}function Ze(e){return e.references.length-e.replaced-(h[e.name]||0)}function Ge(e){if(e instanceof dn)return e.right;if(e instanceof ln){var n=e.clone();return n.right=e.right.right,n}return e instanceof Ue?e.value:void 0}function Je(e,t){return function(i,r){if(r.in_boolean_context()){if(e&&i.is_truthy()&&!i.has_side_effects(n))return!0;if(i.is_constant()&&(r=i.evaluate(n),!(r instanceof T)))return!r==!e}return t(i)}}function Ke(e){if(e instanceof nn)switch(e.expressions.length){case 0:return null;case 1:return Ft(0,this.parent(),e,e.expressions[0])}}function en(e){if(e=fe.get(e.name),e&&!y(e,(function(e){return!e})))return e[0]!==P||void(Y=!1)}function gn(e){return e=e.definition(),!(1==e.orig.length&&e.orig[0]instanceof jn)&&(e.scope.resolve()!==a||!(!ae||!n.exposed(e))||!y(e.references,(function(e){return e.scope.resolve()===a})))}function bn(e,n){if(e instanceof dn)return bn(e.left,!0);if(e instanceof fn)return bn(e.expression,!0);if(e instanceof Ue)return e.value&&bn(e.value);if(n){if(e instanceof on)return bn(e.expression,!0);if(e instanceof an)return bn(e.expression,!0);if(e instanceof Rn)return e.definition().scope.resolve()!==a}return!1}}(e,n),s&&0<u--;);return e;function p(e,n){if(!(e instanceof I))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof Be&&Kt(r))n.push(r);else{if(t||Pt(r))return!1;t=r}}return t}function d(e){return e instanceof dn?[e]:e instanceof nn?e.expressions.slice():void 0}function h(e,t,i){var r=d(t);if(r){for(var o=!1,a=r.length-1;0<=--a;){var s,f=r[a];f instanceof dn&&"="==f.operator&&f.left instanceof Rn&&(s=r.slice(a+1),b(f.left,f.right,s)&&(o=!0,r=r.slice(0,a+1).concat(s)))}if(e instanceof Ye){for(i=i||0,a=e.definitions.length;0<=--a;){var c=e.definitions[a];if(c.value){b(c.name,c.value,r)&&(o=!0),function(e,t,i){if(n.option("conditionals")&&!(e.name instanceof _n)){for(var r=!1,o=e.name.definition();t.length>i;){var a=lr(n,o,e.value,t[0]);if(!a)break;e.value=a,t.shift(),r=!0}return r}}(c,r,i)&&(o=!0);break}}e instanceof Be&&_(e.definitions,r,i)&&(o=!0)}return o&&r}}function m(e,n){if(e instanceof F&&!Kt(n)){var t=d(e.body);if(t&&(e=[],_(e,t.reverse(),0)))return n.definitions=e.reverse().concat(n.definitions),t.reverse()}}function _(e,n,t){for(var i=!1;n.length>t;){var r=n[0];if(!(r instanceof dn))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Rn))break;if(Jt(o))break;if(o.scope.resolve()!==a)break;var s=o.definition();if(s.scope!==a)break;if(s.orig.length>s.eliminated+1)break;if("SymbolVar"!=s.orig[0].TYPE)break;o=Dt(Mn,o,o),e.push(Dt(Ue,r,{name:o,value:r.right})),s.orig.push(o),s.replaced++,n.shift(),i=!0}return i}function b(e,t,i){if(t instanceof kn){var r=!1;do{var o=i[0];if(!(o instanceof dn))break;if("="!=o.operator)break;if(!(o.left instanceof rn))break;var s=o.left.expression;if(!(s instanceof Rn))break;if(e.name!=s.name)break;if(!o.right.is_constant_expression(a))break;var f=o.left.property;if((f=f instanceof T?f.evaluate(n):f)instanceof T)break;s="__proto__"==(f=""+f)||n.has_directive("use strict")?function(e){return e=e.key,"string"==typeof e&&e!=f&&"__proto__"!=e}:function(e){var n=e.key;return e instanceof Dn||e instanceof An?"string"==typeof n&&n!=f:"__proto__"!==n}}while(y(t.properties,s)&&(t.properties.push(Dt(Sn,o,{key:f,value:o.right})),i.shift(),r=!0,i.length));return r}}}function ti(e,n,t){var i,r=!1;function o(e){i?(i.push(e),Nt(e)||(i.required=!0)):t.push(e)}n.walk(new ut((function(a,s){if(a instanceof be)return a.extends=null,a.properties=[],o(a),!0;if(a instanceof Ye){var f=[];return a.remove_initializers(e,f)&&T.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",a.start),0<f.length&&(a.definitions=f,o(a)),!0}return a instanceof de?(o(a),!0):a instanceof K||(a instanceof j?(f=i,i=[],s(),i.required?t.push(Dt(I,n,{body:i})):i.length&&[].push.apply(t,i),i=f,!0):void(a instanceof $e||(r=!0)))}))),r&&T.warn("Dropping unreachable code [{file}:{line},{col}]",n.start)}function ii(e,n){return e.is_undefined||e instanceof rt||e instanceof cn&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}function ri(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Jn)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}function oi(e,n){return n||/strict/.test(e.option("pure_getters"))}function ai(e,n,t){switch(n){case"&&":return t.left.is_defined(e)&&t.right.is_defined(e);case"||":return t.left.is_truthy()||t.right.is_defined(e);case"??":return t.left.is_defined(e)||t.right.is_defined(e);default:return!0}}Rn.DEFMETHOD("is_declared",(function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&Xt[this.name]})),(gi=function(e,n){e.DEFMETHOD("is_truthy",n)})(T,l),gi(mn,p),gi(dn,(function(){return"="==this.operator&&this.right.is_truthy()})),gi(ee,p),gi(kn,p),gi(et,p),gi(nn,(function(){return this.tail_node().is_truthy()})),gi(Rn,(function(){var e=this.fixed_value();return!!e&&(this.is_truthy=l,e=e.is_truthy(),delete this.is_truthy,e)})),(gi=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(T,p),gi(mn,l),gi(dn,(function(){var e=this.operator;return"="==e?this.right.is_negative_zero():ri(e.slice(0,-1),this.left,this.right)})),gi(ln,(function(){return ri(this.operator,this.left,this.right)})),gi(Jn,(function(){return 0==this.value&&1/this.value<0})),gi(ee,l),gi(kn,l),gi(et,l),gi(nn,(function(){return this.tail_node().is_negative_zero()})),gi(Rn,(function(){var e=this.fixed_value();return!e||(this.is_negative_zero=p,e=e.is_negative_zero(),delete this.is_negative_zero,e)})),gi(cn,(function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator})),gi=function(e,n){e.DEFMETHOD("_dot_throw",n)},T.DEFMETHOD("may_throw_on_access",(function(e,n){return!e.option("pure_getters")||this._dot_throw(e,n)})),gi(T,oi),gi(mn,l),gi(dn,(function(e){var n=this.operator,t=this.left,i=this.right;return"="!=n?si[n.slice(0,-1)]&&(t._dot_throw(e)||i._dot_throw(e)):!!i._dot_throw(e)&&(!(t instanceof Rn)||!(i instanceof ln&&"||"==i.operator&&t.name==i.left.name)||i.right._dot_throw(e))})),gi(ln,(function(e){return si[this.operator]&&(this.left._dot_throw(e)||this.right._dot_throw(e))})),gi(ge,l),gi(pn,(function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)})),gi(Jn,l),gi(on,(function(e,n){return!!oi(e,n)&&(n=this.expression,n instanceof Rn&&(n=n.fixed_value()),!("prototype"==this.property&&a(n)))})),gi(ee,l),gi(tt,p),gi(kn,(function(e,n){return oi(e,n)&&!y(this.properties,(function(t){return t instanceof Sn&&("__proto__"!==t.key||!t.value._dot_throw(e,n))}))})),gi(Un,(function(e,n){return oi(e,n)&&!this.scope.resolve().new})),gi(nn,(function(e){return this.tail_node()._dot_throw(e)})),gi(Rn,(function(e,n){return!!this.is_undefined||!!oi(e,n)&&((!Jt(this)||!this.is_declared(e))&&(!this.is_immutable()&&(n=this.definition(),f(n)&&!n.scope.rest&&y(n.scope.argnames,(function(e){return e instanceof Fn}))?2<n.scope.uses_arguments:(n=this.fixed_value(),!n||(this._dot_throw=p,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=l,!1))))))})),gi(cn,(function(){return"void"==this.operator})),gi(un,l),gi(rt,p),(gi=function(e,n){e.DEFMETHOD("is_defined",n)})(T,l),gi(mn,p),gi(dn,(function(e){var n=this.operator;return"="==n?this.right.is_defined(e):ai(e,n.slice(0,-1),this)})),gi(ln,(function(e){return ai(e,this.operator,this)})),gi(pn,(function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)})),gi(Jn,p),gi(ot,l),gi(ee,p),gi(kn,p),gi(nn,(function(e){return this.tail_node().is_defined(e)})),gi(Rn,(function(e){if(this.is_undefined)return!1;if(Jt(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();return!!n&&(this.is_defined=l,e=n.is_defined(e),delete this.is_defined,e)})),gi(cn,(function(){return"void"!=this.operator})),gi(un,p),gi(rt,l),function(e){e(T,l),e(dn,(function(e){return"="==this.operator&&this.right.is_boolean(e)}));var n=b("in instanceof == != === !== < <= >= >");e(ln,(function(e){return n[this.operator]||si[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)})),e(st,p);var t=b("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(Qe,(function(e){return!!e.option("unsafe")&&(e=this.expression,e instanceof on&&(t[e.property]||"test"==e.property&&e.expression instanceof et))})),e(pn,(function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)})),e(en,l),e(nn,(function(e){return this.tail_node().is_boolean(e)})),e(Rn,(function(e){var n=this.fixed_value();return!!n&&(this.is_boolean=l,e=n.is_boolean(e),delete this.is_boolean,e)}));var i=b("! delete");e(cn,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_boolean",n)})),function(e){e(T,l);var n=b("- * / % ** & | ^ << >> >>>");e(dn,(function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)})),e(ln,(function(e){return!!n[this.operator]||"+"==this.operator&&(this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e))}));var t=b(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(Qe,(function(e){return!!e.option("unsafe")&&(e=this.expression,e instanceof on&&(t[e.property]||Jt(e.expression)&&"Math"==e.expression.name))})),e(pn,(function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})),e(en,l),e(Kn,p),e(nn,(function(e){return this.tail_node().is_number(e)})),e(Rn,(function(e){var n=this.fixed_value();return!!n&&(this.is_number=l,e=n.is_number(e),delete this.is_number,e)}));var i=b("+ - ~ ++ --");e(fn,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_number",n)})),function(e){e(T,l),e(dn,(function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}})),e(ln,(function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}));var n=b(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(Qe,(function(e){return!!e.option("unsafe")&&(e=this.expression,e instanceof on&&n[e.property])})),e(pn,(function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})),e(nn,(function(e){return this.tail_node().is_string(e)})),e(Xn,p),e(Rn,(function(e){var n=this.fixed_value();return!!n&&(this.is_string=l,e=n.is_string(e),delete this.is_string,e)})),e(Gn,(function(e){return!this.tag||wr(e,this.tag)})),e(cn,(function(){return"typeof"==this.operator}))}((function(e,n){e.DEFMETHOD("is_string",n)}));var si=b("&& || ??");function ci(e){T.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function li(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function pi(e,n,t){return li(Dt(F,e,{body:e}),Dt(F,n,{body:n}),t).body}function di(e,n,t,i){return(k(e)?pi:li)(n,t,i)}function hi(e){var n=Object.create(null);return Object.keys(e).forEach((function(t){n[t]=b(e[t])})),n}function vi(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof $))return t}}function mi(){return this.value?Dt(De,this.value,{value:this.value}):vi(this.body)}function _i(e,n){var t=n.evaluate(e);return t===n?n:di(e,n,$t(t,n).optimize(e),e.eval_threshold)}gi=function(e,n){e.DEFMETHOD("_find_defs",n)},Q.DEFMETHOD("resolve_defines",(function(e){return e.option("global_defs")?(this.figure_out_scope({ie:e.option("ie")}),this.transform(new lt((function(n){var t=n._find_defs(e,"");if(t){for(var i,r=0,o=n;(i=this.parent(r++))&&i instanceof rn&&i.expression===o;)o=i;if(!Wt(o,i))return t;ci(n)}})))):this})),gi(T,u),gi(on,(function(e,n){return this.expression._find_defs(e,"."+this.property+n)})),gi($n,(function(e){this.definition().global&&x(e.option("global_defs"),this.name)&&ci(this)})),gi(Rn,(function(e,n){if(this.definition().global)return e=e.option("global_defs"),n=this.name+n,x(e,n)?function e(n,t){if(n instanceof T)return n.clone(!0);if(Array.isArray(n))return Dt(mn,t,{elements:n.map((function(n){return e(n,t)}))});if(n&&"object"==(0,i.Z)(n)){var r,o=[];for(r in n)x(n,r)&&o.push(Dt(Sn,t,{key:r,value:e(n[r],t)}));return Dt(kn,t,{properties:o})}return $t(n,t)}(e[n],this):void 0})),se.DEFMETHOD("first_statement",mi),fe.DEFMETHOD("first_statement",mi),ee.DEFMETHOD("first_statement",(function(){return vi(this.body)})),ee.DEFMETHOD("length",(function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof Xe);n++);return n}));var gi=["constructor","toString","valueOf"],bi=hi({Array:["indexOf","join","lastIndexOf","slice"].concat(gi),Boolean:gi,Function:gi,Number:["toExponential","toFixed","toPrecision"].concat(gi),Object:gi,RegExp:["exec","test"].concat(gi),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(gi)}),yi=hi({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]});function wi(e){if(e instanceof on){var n=e.expression;if(Jt(n)){var t=yi[n.name];return t&&(t[e.property]||"Math"==n.name&&"random"==e.property)}}}function xi(e){return Dt(cn,e,{operator:"!",expression:e})}function ki(e,n,t){return e=xi(e),t?(t=Dt(F,n,{body:n}),li(e,t)===t?n:e):li(e,n)}!function(e){e(T,l),e(Jn,p),e(et,l);var n=b("! ~ - + void");e(cn,(function(){return n[this.operator]&&this.expression instanceof Jn}))}((function(e,n){e.DEFMETHOD("is_constant",n)})),function(e){T.DEFMETHOD("evaluate",(function(e,n){if(!e.option("evaluate"))return this;var t=[];e=this._eval(e,n,t,1);return t.forEach((function(e){delete e._eval})),n||!e||e instanceof RegExp||"function"!=typeof e&&"object"!=(0,i.Z)(e)?e:this}));var n=new ut((function(e){e instanceof dn&&t(e.left),e instanceof fn&&Ht[e.operator]&&t(e.expression)}));function t(e){e instanceof yn?e.elements.forEach(t):e instanceof xn?e.properties.forEach((function(e){t(e.value)})):e instanceof rn?t(e.expression):e instanceof Rn&&e.definition().references.forEach((function(e){delete e._eval}))}e(D,(function(){throw new Error(_("Cannot evaluate a statement [{file}:{line},{col}]",this.start))})),e(ne,d),e(Qn,d),e(ge,d),e(T,d),e(Jn,(function(){return this.value})),e(dn,(function(e,r,o,a){var s=this.left;if(!r){if(!(s instanceof Rn))return this;if(!x(s,"_eval")){if(!s.fixed)return this;var f=s.definition();if(!f.fixed)return this;if(f.undeclared)return this;if(f.last_ref!==s)return this;if("m"==f.single_use)return this}}return f=this.operator,f=!x(s,"_eval")&&s instanceof Rn&&s.fixed&&s.definition().fixed?s:"="==f?this.right:Dt(ln,this,{operator:f.slice(0,-1),left:s,right:this.right}),s.walk(n),a=f._eval(e,r,o,a),"object"==(0,i.Z)(a)?this:(t(s),a)})),e(nn,(function(e,t,i,r){if(!t)return this;for(var o=this.expressions,a=0,s=o.length-1;a<s;a++)o[a].walk(n);var f=o[s];r=f._eval(e,t,i,r);return r===f?this:r})),e(ee,(function(e){return e.option("unsafe")?(e=function(){},e.node=this,e.toString=function(){return"function(){}"},e):this})),e(mn,(function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof ot)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}));var r=b("__proto__ toString valueOf");e(kn,(function(e,n,t,i){if(e.option("unsafe")){for(var o={},a=0;a<this.properties.length;a++){var s=this.properties[a];if(!(s instanceof Sn))return this;var f=s.key;if(f instanceof T&&(f=f._eval(e,n,t,i))===s.key)return this;if(r[f])return this;if(o[f]=s.value._eval(e,n,t,i),o[f]===s.value)return this}return o}return this}));var o=b("! typeof void");e(cn,(function(e,r,a,s){var f=this.expression,c=this.operator;if(e.option("typeofs")&&"typeof"==c&&(f instanceof ee||f instanceof Rn&&f.fixed_value()instanceof ee))return"function";var u=f instanceof Rn&&f.definition();o[c]||u&&u.fixed||s++,f.walk(n);var l=f._eval(e,r,a,s);if(l===f)return r&&"void"==c?void 0:this;switch(c){case"!":return!l;case"typeof":return l instanceof RegExp?this:(0,i.Z)(l);case"void":return;case"~":return~l;case"-":return-l;case"+":return+l;case"++":case"--":if(!u)return this;if(!r){if(u.undeclared)return this;if(u.last_ref!==f)return this}return x(f,"_eval")&&(l=+(c[0]+1)+ +l),t(f),l}return this})),e(un,(function(e,i,r,o){var a=this.expression;if(a instanceof Rn){if(!x(a,"_eval")){if(!a.fixed)return this;if(!i){var s=a.definition();if(!s.fixed)return this;if(s.undeclared)return this;if(s.last_ref!==a)return this}}}else if(!i)return this;return a instanceof Rn&&a.definition().fixed||o++,a.walk(n),o=a._eval(e,i,r,o),o===a?this:(t(a),+o)}));var a=b("&& || === !==");e(ln,(function(e,n,t,r){a[this.operator]||r++;var o=this.left._eval(e,n,t,r);if(o===this.left)return this;if(this.operator==(o?"||":"&&"))return o;var s,f=this.right._eval(e,n&&!(o&&"object"==(0,i.Z)(o)),t,r);if(f===this.right)return this;switch(this.operator){case"&&":s=o&&f;break;case"||":s=o||f;break;case"??":s=null==o?f:o;break;case"|":s=o|f;break;case"&":s=o&f;break;case"^":s=o^f;break;case"+":s=o+f;break;case"-":s=o-f;break;case"*":s=o*f;break;case"/":s=o/f;break;case"%":s=o%f;break;case"<<":s=o<<f;break;case">>":s=o>>f;break;case">>>":s=o>>>f;break;case"==":s=o==f;break;case"===":s=o===f;break;case"!=":s=o!=f;break;case"!==":s=o!==f;break;case"<":s=o<f;break;case"<=":s=o<=f;break;case">":s=f<o;break;case">=":s=f<=o;break;case"**":s=Math.pow(o,f);break;case"in":if(f&&"object"==(0,i.Z)(f)&&x(f,o)){s=!0;break}default:return this}return isNaN(s)?e.find_parent(X)?this:s:e.option("unsafe_math")&&!n&&s&&"number"==typeof s&&("+"==this.operator||"-"==this.operator)&&(n=Math.max(0,c(o),c(f)),n<16)?+s.toFixed(n):s;function c(e){return e=/(\.[0-9]*)?(e.+)?$/.exec(+e),(e[1]||".").length-1-(e[2]||"").slice(1)}})),e(pn,(function(e,n,t,i){var r=this.condition._eval(e,n,t,i);return r===this.condition?this:(r=r?this.consequent:this.alternative,i=r._eval(e,n,t,i),i===r?this:i)})),e(Rn,(function(e,n,t,r){var o,a=this.fixed_value();if(!a)return this;if(x(a,"_eval"))o=a._eval();else{if(this._eval=d,o=a._eval(e,n,t,r),delete this._eval,o===a)return this;a._eval=function(){return o},t.push(a)}return o&&"object"==(0,i.Z)(o)&&!function(e,n){var t=e.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new ut((function(n){return!!i||(n===e?i=!0:n instanceof K||void 0)}))),i;default:return n<=t.depth}}(this,r)?this:o}));var s={Array:Array,Math:Math,Number:Number,Object:Object,String:String},f=hi({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),c=b("global ignoreCase multiline source");function u(e,n,t,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a],f=s._eval(n,t,i,r);if(s===f)return;o.push(f)}return o}e(rn,(function(e,n,t,r){if(e.option("unsafe")){var o,a=this.expression;if(!Jt(a)&&(null==(o=a._eval(e,n,t,r+1))||o===a))return this;var u=this.property;if(u instanceof T&&(u=u._eval(e,n,t,r))===this.property)return this;if(void 0===o){if(r=f[a.name],!r||!r[u])return this;o=s[a.name]}else if(o instanceof RegExp){if(!c[u])return this}else if("object"==(0,i.Z)(o)){if(!x(o,u))return this}else if("function"==typeof o)switch(u){case"name":return o.node.name?o.node.name.name:"";case"length":return o.node.length();default:return this}return o[u]}return this})),e(Qe,(function(e,t,i,r){var o=this.expression,a=o instanceof Rn?o.fixed_value():o;if(a instanceof se||a instanceof me||a instanceof le){if(a.evaluating)return this;if(a.name&&0<a.name.definition().recursive_refs)return this;if(this.is_expr_pure(e))return this;var f=u(this.args,e,t,i,r);if(!y(a.argnames,(function(n,o){if(n instanceof Xe){if(!f)return;if(void 0===f[o]){var a=n.value._eval(e,t,i,r);if(a===n.value)return;f[o]=a}n=n.name}return!(n instanceof _n)})))return this;if(a.rest instanceof _n)return this;if(!f&&!t)return this;var c=a.first_statement();if(!(c instanceof De)){if(t){a.walk(n);var l=!1;if(a.evaluating=!0,P(a,new ut((function(n){return!!l||(n instanceof De?(n.value&&void 0!==n.value._eval(e,!0,i,r)&&(l=!0),!0):n instanceof K&&n!==a||void 0)}))),delete a.evaluating,!l)return}return this}if(!(d=c.value))return;var p=[];return f&&(!y(a.argnames,(function(e,n){return v(e,f[n])}))||a.rest&&!v(a.rest,f.slice(a.argnames.length)))&&!t||(t&&a.argnames.forEach((function(e){e instanceof Xe&&e.value.walk(n)})),a.evaluating=!0,d=d._eval(e,t,i,r),delete a.evaluating),p.forEach((function(e){delete e._eval})),d===c.value?this:d}if(e.option("unsafe")&&o instanceof rn){var d;c=o.property;if(c instanceof T&&(c=c._eval(e,t,i,r))===o.property)return this;if(o=o.expression,Jt(o)){var h=yi[o.name];if(!h||!h[c])return this;d=s[o.name]}else{if(null==(d=o._eval(e,t,i,r+1))||d===o)return this;if(h=bi[d.constructor.name],!h||!h[c])return this;if(d instanceof RegExp&&d.global&&!(o instanceof et))return this}if(!(f=u(this.args,e,t,i,r)))return this;if("replace"==c&&"function"==typeof f[1])return this;try{return d[c].apply(d,f)}catch(o){T.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{d instanceof RegExp&&(d.lastIndex=0)}}return this;function v(e,n){var t=(e=e instanceof Xe?e.name:e).definition();if(t.orig[t.orig.length-1]!==e)return!1;var i=n;return t.references.forEach((function(e){e._eval=function(){return i},p.push(e)})),!0}})),e(en,d),e(Gn,(function(e,n,t,i){if(!e.option("templates"))return this;if(this.tag){if(!wr(e,this.tag))return this;f=function(e){return e}}var r=u(this.expressions,e,n,t,i);if(!r)return this;for(var o=!1,a=f(this.strings[0]),s=0;s<r.length;s++)a+=r[s]+f(this.strings[s+1]);return o?(this._eval=d,this):a;function f(e){return"string"!=typeof(e=xr(e))&&(o=!0),e}}))}((function(e,n){e.DEFMETHOD("_eval",n)})),(gi=function(e,n){e.DEFMETHOD("negate",(function(e,t){return n.call(this,e,t)}))})(T,(function(){return xi(this)})),gi(D,(function(){throw new Error("Cannot negate a statement")})),gi(ln,(function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ki(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),ki(this,t,n)}return xi(this)})),gi(ye,(function(){return xi(this)})),gi(pn,(function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),ki(this,t,n)})),gi(te,(function(){return xi(this)})),gi(nn,(function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),Ot(this,n)})),gi(cn,(function(){return"!"==this.operator?this.expression:xi(this)}));var Ei=b("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),Si=b("Map Set WeakMap WeakSet");function Ti(e){for(;(e=e.tail_node())instanceof Rn;)if(!(e=e.fixed_value()))return!0;return!(e instanceof mn||"Binary"==e.TYPE&&!si[e.operator]||e instanceof Jn||e instanceof ee||e instanceof kn&&y(e.properties,(function(e){return!(e instanceof Dn||e instanceof sn)}))||e instanceof Un||e instanceof fn)}function Ai(e,n,t){return!y(e,t?function(e){return e instanceof sn?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function Di(e,n){return!e.expression.is_string(n)||e.expression.has_side_effects(n)}function Oi(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function $i(e,n){return!!e.may_throw(n)||!((e=e instanceof Rn?e.fixed_value():e)instanceof ee)||!!Oi(e.argnames,n)||!!Oi(e.body,n)||ie(e)&&e.value&&e.value.may_throw(n)}function zi(e,n){for(var t=e.length;0<=--t;)if(!e[t].is_constant_expression(n))return!1;return!0}function qi(e){return e&&e.aborts()}function Ci(){var e=this.body.length;return 0<e&&qi(this.body[e-1])}Qe.DEFMETHOD("is_expr_pure",(function(e){if(e.option("unsafe")){var n=this.expression;if(Jt(n)){if(Ei[n.name])return!0;if(this instanceof en&&Si[n.name])return!0}if(wi(n))return!0}return e.option("annotations")&&this.pure||!e.pure_funcs(this)})),Gn.DEFMETHOD("is_expr_pure",(function(e){var n=this.tag;if(!n)return!0;if(e.option("unsafe")){if(Jt(n)&&Ei[n.name])return!0;if(n instanceof on&&Jt(n.expression)){var t=yi[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return!e.pure_funcs(this)})),T.DEFMETHOD("is_call_pure",l),Qe.DEFMETHOD("is_call_pure",(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof on))return!1;var t,i=n.expression,r=n.property;if(i instanceof mn)t=bi.Array;else if(i.is_boolean(e))t=bi.Boolean;else if(i.is_number(e))t=bi.Number;else if(i instanceof et)t=bi.RegExp;else if(i.is_string(e)){if(t=bi.String,"replace"==r&&(i=this.args[1],i&&!i.is_string(e)))return!1}else n.may_throw_on_access(e)||(t=bi.Object);return t&&t[r]})),(gi=function(e,n){e.DEFMETHOD("has_side_effects",n)})(T,p),gi(mn,(function(e){return Ai(this.elements,e,Di)})),gi(dn,(function(e){var n=this.left;if(!(n instanceof rn))return!0;var t=n.expression;return!(t instanceof Un)||!t.scope.resolve().new||n instanceof an&&n.property.has_side_effects(e)||this.right.has_side_effects(e)})),gi(ln,(function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!mr(this.right)})),gi(N,(function(e){return Ai(this.body,e)})),gi(Qe,(function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||Ai(this.args,e,Di)})),gi(Pe,(function(e){return this.expression.has_side_effects(e)||Ai(this.body,e)})),gi(ge,(function(e){var n=this.extends;return!(!n||s(n=n instanceof Rn?n.fixed_value():n))||Ai(this.properties,e)})),gi(we,(function(e){return this.key instanceof T&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)})),gi(pn,(function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)})),gi(Jn,l),gi(Ye,(function(e){return Ai(this.definitions,e)})),gi(yn,(function(e){return Ai(this.elements,e)})),gi(wn,(function(e){return this.key instanceof T&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),gi(xn,(function(e){return Ai(this.properties,e)})),gi(on,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)})),gi(z,l),gi(Ce,(function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)})),gi(Y,(function(e){return this.body.has_side_effects(e)})),gi(ee,l),gi(kn,(function(e){return Ai(this.properties,e,(function(e,n){return e=e.expression,Ti(e)||e.has_side_effects(n)}))})),gi(Un,l),gi(En,(function(e){return this.key instanceof T&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),gi(nn,(function(e){return Ai(this.expressions,e)})),gi(F,(function(e){return this.body.has_side_effects(e)})),gi(an,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)})),gi(Me,(function(e){return this.expression.has_side_effects(e)||Ai(this.body,e)})),gi($n,l),gi(Rn,(function(e){return!this.is_declared(e)||!S(this,e)})),gi(Gn,(function(e){return!this.is_expr_pure(e)||Ai(this.expressions,e)})),gi(Ne,(function(e){return Ai(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)})),gi(fn,(function(e){return Vt[this.operator]||this.expression.has_side_effects(e)})),gi(Ue,(function(){return this.value})),(gi=function(e,n){e.DEFMETHOD("may_throw",n)})(T,p),gi(Jn,l),gi(_n,p),gi(z,l),gi(ee,l),gi(Un,l),gi($n,l),gi(mn,(function(e){return Oi(this.elements,e)})),gi(dn,(function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Rn)&&this.left.may_throw(e)})),gi(ln,(function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!mr(this.right)})),gi(N,(function(e){return Oi(this.body,e)})),gi(Qe,(function(e){return!!Oi(this.args,e)||!this.is_expr_pure(e)&&(this.may_throw=p,e=$i(this.expression,e),delete this.may_throw,e)})),gi(Pe,(function(e){return this.expression.may_throw(e)||Oi(this.body,e)})),gi(pn,(function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)})),gi(Xe,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)})),gi(Ye,(function(e){return Oi(this.definitions,e)})),gi(on,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)})),gi(Ce,(function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)})),gi(Y,(function(e){return this.body.may_throw(e)})),gi(kn,(function(e){return Oi(this.properties,e)})),gi(En,(function(e){return this.value.may_throw(e)||this.key instanceof T&&this.key.may_throw(e)})),gi(De,(function(e){return this.value&&this.value.may_throw(e)})),gi(nn,(function(e){return Oi(this.expressions,e)})),gi(F,(function(e){return this.body.may_throw(e)})),gi(an,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)})),gi(Me,(function(e){return this.expression.may_throw(e)||Oi(this.body,e)})),gi(Rn,(function(e){return!this.is_declared(e)||!S(this,e)})),gi(Gn,(function(e){return!!Oi(this.expressions,e)||!this.is_expr_pure(e)&&(!!this.tag&&(this.may_throw=p,e=$i(this.tag,e),delete this.may_throw,e))})),gi(Ne,(function(e){return(this.bcatch?this.bcatch.may_throw(e):Oi(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)})),gi(fn,(function(e){return this.expression.may_throw(e)&&!("typeof"==this.operator&&this.expression instanceof Rn)})),gi(Ue,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)})),(gi=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(T,l),gi(mn,(function(e){return zi(this.elements,e)})),gi(ln,(function(e){return this.left.is_constant_expression(e)&&this.right.is_constant_expression(e)&&("in"!=this.operator||mr(this.right))})),gi(ge,(function(e){var n=this.extends;return!(n&&!s(n))&&zi(this.properties,e)})),gi(we,(function(e){return"string"==typeof this.key&&(!this.value||this.value.is_constant_expression(e))})),gi(Jn,p),gi(ee,(function(e){var n=this,i=!0,r=[];return n.walk(new ut((function(o,a){if(!i)return!0;if(o instanceof j)return o===n?void 0:(r.push(o),a(),r.pop(),!0);if(o instanceof Rn){if(n.inlined||o.redef)return!(i=!1);if(n.variables.has(o.name))return!0;var s=o.definition();return!!t(s.scope,r)||(e&&!s.redefined()&&(a=e.find_variable(o.name),a?a===s:s.undeclared)?(i="f",!0):!(i=!1))}return o instanceof Un?(ie(n)&&y(r,(function(e){return!(e instanceof K)||ie(e)}))&&(i=!1),!0):void 0}))),i})),gi(kn,(function(e){return zi(this.properties,e)})),gi(En,(function(e){return"string"==typeof this.key&&this.value.is_constant_expression(e)})),gi(fn,(function(e){return this.expression.is_constant_expression(e)})),(gi=function(e,n){e.DEFMETHOD("aborts",n)})(D,h),gi(Te,d),gi(I,Ci),gi(Fe,Ci),gi(Ce,(function(){return this.alternative&&qi(this.body)&&qi(this.alternative)&&this}));var Mi=b(["use asm","use strict"]);function Fi(e,n,t){switch(e.body.length){case 0:return t?v.skip:Dt(z,e);case 1:var i=e.body[0];return Nt(i)?n instanceof R&&i instanceof de?e:i:e}return e}function ji(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof yn&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=e.rest.rest))}function Pi(e,n){if(!n.option("arrows"))return e;ji(e,n);var t=ni(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof De){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}e($,(function(e,n){return!n.option("directives")||Mi[e.value]&&n.has_directive(e.value)===e?e:Dt(z,e)})),e(O,(function(e,n){return n.option("drop_debugger")?Dt(z,e):e})),e(Y,(function(e,n){return n.option("dead_code")&&e.body instanceof ze&&n.loopcontrol_target(e.body)===e.body?Dt(z,e):n.option("unused")&&0==e.label.references.length?e.body:e})),e($e,(function(e,n){if(!n.option("dead_code"))return e;var t,i=e.label;return i&&(t=n.loopcontrol_target(e),e.label=null,n.loopcontrol_target(e)===t?g(i.thedef.references,e):e.label=i),e})),e(N,(function(e,n){return e.body=ni(e.body,n),e})),e(I,(function(e,n){return e.body=ni(e.body,n),Fi(e,n.parent())})),e(ee,(function(e,n){return ji(e,n),e.body=ni(e.body,n),e})),e(se,Pi),e(fe,Pi),e(le,(function(e,n){ji(e,n),e.body=ni(e.body,n);var t=n.parent();if(n.option("inline"))for(var i=0;i<e.body.length;i++){var r=e.body[i];if(!(r instanceof $)){if(r instanceof De){if(i!=e.body.length-1)break;var o=r.value;if(!o||"Call"!=o.TYPE)break;if(o.is_expr_pure(n))break;var a=o.expression;if(a instanceof Rn){if(e.name&&e.name.definition()===a.definition())break;a=a.fixed_value()}if(!(a instanceof me||a instanceof le))break;if(a.rest)break;if(a.uses_arguments)break;if(a===o.expression){if(a.parent_scope!==e)break;if(!y(a.enclosed,(function(n){return n.scope!==e})))break}if(a.name&&(t instanceof Se||t instanceof Tn)&&t.value===n.self())break;if(a.contains_this())break;var s=a.argnames.length;if(0<s&&n.option("inline")<2)break;if(s>e.argnames.length)break;if(!y(e.argnames,(function(e){return e instanceof Fn})))break;if(!y(o.args,(function(e){return!(e instanceof sn)})))break;for(var f=0;f<s;f++){var c=o.args[f];if(!(c instanceof Rn))break;if(c.definition()!==e.argnames[f].definition())break}if(f<s)break;for(;f<o.args.length&&!o.args[f].has_side_effects(n);f++);if(f<o.args.length)break;if(s<e.argnames.length&&!n.drop_fargs(e,t)){if(!n.drop_fargs(a,o))break;for(;a.argnames.push(a.make_var(Fn,a,"argument_"+s)),++s<e.argnames.length;);}return o.expression}break}}return e}));var Ni=b("arguments await yield");function Ii(e,n){for(var t=n.length;0<=--t;)n[t]||(n[t]=Dt(ot,e))}function Hi(e,n){var t=Dt(ye,e,e);return t.name=n?null:Dt(In,e.name,e.name),t}function Yi(e,n){var t;switch(e.CTOR){case he:t=ce;break;case ve:t=ue;break;case me:t=le;break;case _e:t=pe}var i=Dt(t,e,e);return i.name=n?null:Dt(Pn,e.name,e.name),i}function Ri(e,n){e.walk(new ut((function(t){return t instanceof De?(n(t),!0):t instanceof K&&t!==e||void 0})))}function Li(e){var n=Object.create(null);return Ri(e,(function(e){e=e.value,(e=e&&e.tail_node())instanceof Rn&&(e=e.definition().id,n[e]=(n[e]||0)+1)})),n}function Bi(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function Ui(e,n){Ri(e,(function(e){e.in_bool=!0;var t,i=e.value;i&&((t=er(n,i))?t instanceof T||(i=i.drop_side_effect_free(n),e.value=i?Ot(e.value,[i,Dt(Kn,e.value,{value:1})]):Dt(Kn,e.value,{value:1})):(i=i.drop_side_effect_free(n),e.value=i?Ot(e.value,[i,Dt(Kn,e.value,{value:0})]):null))}))}function Vi(e,n){return e.name&&n.option("ie")?(e=e.name.definition(),!n.exposed(e)&&y(e.references,(function(e){return!(e instanceof Rn)}))):1}function Wi(e,n,t,i){for(var r=e.length,o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof sn?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return o.length?a?o:e:null}function Zi(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Gi(e){return e instanceof sn?Dt(mn,e,{elements:[e]}):e}function Ji(e,n){var t,i=ie(n),r=re(n),o=!1;if(i&&e.option("arrows")?n.value?r&&!_r(e,n.value)||(n.value=n.value.drop_side_effect_free(e)):o=!0:(n instanceof ce||n instanceof le)&&(o=!n.name||(t=n.name.definition()).references.length==t.replaced),o&&(n.process_expression(!1,(function(n){var t=n.value;if(t){if(r&&!_r(e,t))return n;t=t.drop_side_effect_free(e,!0)}return t?Dt(F,n,{body:t}):Dt(z,n)})),Ri(n,(function(n){var t=n.value;t&&(r&&!_r(e,t)||(n.value=t.drop_side_effect_free(e)))}))),r&&e.option("awaits")){o&&n.process_expression("awaits",(function(n){var t=n.body;if(t instanceof hn){if(_r(e,t.expression)){if(!(t=t.expression.drop_side_effect_free(e,!0)))return Dt(z,n);n.body=t}}else if(t instanceof nn){for(var i=t.expressions,r=i.length;0<=--r;){var o=i[r];if(!(o instanceof hn))break;if(!_r(e,o.expression))break;if(i[r]=o.expression.drop_side_effect_free(e))break}switch(r){case-1:return Dt(z,n);case 0:n.body=i[0];break;default:i.length=r+1}}return n}));var a,s=!o&&n.name||i&&n.value&&!_r(e,n.value),f=new ut((function(t){return!!s||(f.parent()===n&&t.may_throw(e)||t instanceof hn||t instanceof J?s=!0:t instanceof De?t.value&&!_r(e,t.value)?s=!0:void 0:t instanceof K&&t!==n||void 0)}));if(n.walk(f),!s){switch(n.CTOR){case fe:a=se;break;case ce:a=le;break;case ue:a=pe}return Dt(a,n,n)}}return o&&n.clone()}function Xi(e,n,t){for(var i=[],r=[],o=e.properties,a=0;a<o.length;a++){var f=o[a];if(f.key instanceof T&&i.push(f.key),f.static&&f.value&&f instanceof xe&&f.value.has_side_effects(n)){if(f.value.contains_this())return e;r.push(f.value)}}var c=e.extends;if(c&&((c=!s(c=c instanceof Rn?c.fixed_value():c))||i.unshift(e.extends)),i=Wi(i,n,t),r=Wi(r,n,t=!i&&t),!i){if(!c&&!r)return null;i=[]}return c&&((c=Hi(e,!0)).properties=[],i.length&&c.properties.push(Dt(Se,e,{key:Ot(e,i),value:Dt(le,e,{argnames:[],body:[]}).init_vars(c)})),i=[c]),r&&i.push(Dt(Qe,e,{expression:Dt(se,e,{argnames:[],body:[],value:Ot(e,r)}).init_vars(e.parent_scope),args:[]})),Ot(e,i)}function Ki(e,n,t){t=t||$e;var i=!1,r=new ut((function(n){return!!(i||n instanceof K)||(n instanceof t&&r.loopcontrol_target(n)===e?i=!0:void 0)}));return n instanceof Y&&r.push(n),r.push(e),e.body.walk(r),i}function Qi(e,n,t){if(e instanceof ln)if(e.left instanceof Xn){if(e.right instanceof cn&&"typeof"==e.right.operator){var i=e.right.expression;if(Jt(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new ut((function(e){if(e instanceof K){var n=a.parent();return!(n instanceof Qe&&n.expression===e)||void 0}e instanceof Rn&&e.definition()===o&&(e.defined=!0)})),r.walk(a))}}}else switch(e.operator){case"&&":Qi(e.left,n),Qi(e.right,n);break;case"||":Qi(f(e.left),t),Qi(f(e.right),t)}function f(e){if(e instanceof ln)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function er(e,n,t){return!!n.truthy||!(n.falsy&&!t)&&(!!n.is_truthy()||n.evaluate(e,!0))}function nr(e,n){var t,i=0,r=!1,o=e.self();if(!q(o))for(;;){if(t=o,(o=e.parent(i++))instanceof ln){var a=o.operator;if(!si[a])return;var s=o.left;if(s===t)continue;if(f(s))switch(a){case"&&":n[r?"falsy":"truthy"]=!0;break;case"||":case"??":n[r?"truthy":"falsy"]=!0}}else if(o instanceof pn){if(a=o.condition,a===t)continue;if(f(a))switch(t){case o.consequent:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}}else{if(o instanceof Ae)break;if(o instanceof Ce)break;if(o instanceof nn){if(o.expressions[0]===t)continue}else if(o instanceof F)break}return}for(;;){if(t=o,(o=e.parent(i++))instanceof I){if(o.body[0]===t)continue}else if(o instanceof Ce&&f(o.condition))switch(t){case o.body:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}return}function f(e){return n.equivalent_to(e)||e instanceof cn&&"!"==e.operator&&n.equivalent_to(e.expression)&&(r=!0)}}function tr(e){return function(n,t){var i=!1;return this.definitions.forEach((function(r){r.value&&(i=!0),r.name.match_symbol((function(i){i instanceof $n&&t.push(Dt(Ue,i,{name:i,value:e(n,i)}))}),!0)})),i}}function ir(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof Pn?3:2)}function rr(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function or(e){return Dt(Be,e,{definitions:e.definitions.map((function(e){return Dt(Ue,e,{name:e.name.convert_symbol(Mn,(function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e,e=t.scope.resolve(),t.scope!==e&&((t.scope=e).variables.set(t.name,t),e.enclosed.push(t),e.var_names()[t.name]=!0)})),value:e.value})}))})}function ar(e,n){return!!n.fixed_value()&&(n=n.definition(),ir(n)&&yr(n)&&!rr(e,n))}function sr(e,n){return n.option("varify")&&y(e.definitions,(function(e){return!e.name.match_symbol((function(e){if(e instanceof $n)return!ar(n,e)}),!0)}))?or(e):e}function fr(e,n){if(n.option("optional_chains")&&e.terminal)do{var t=e.expression;if(e.optional){var i=er(n,t,!0);if(null==i)return Dt(cn,e,{operator:"void",expression:t}).optimize(n);i instanceof T||(e.optional=!1)}}while(("Call"==(e=t).TYPE||e instanceof rn)&&!e.terminal)}function cr(e){var n=e.expression;if(!(n instanceof nn))return e;var t=n.expressions.slice();n=e.clone();return n.expression=t.pop(),t.push(n),Ot(e,t)}function ur(e,n,t){var i=e.expression,r=i instanceof Rn?i.fixed_value():i;if(r instanceof ee&&!r.uses_arguments&&!r.pinned()&&!(t&&t.indexOf(r)<0)&&y(s=e.args,(function(e){return!(e instanceof sn)}))){var o=r.argnames;i=r===i&&!r.name;if(r.rest){if(!i||!n.option("rests"))return;for(var a=o.length,s=s.slice(0,a);s.length<a;)s.push(Dt(rt,e).optimize(n));s.push(Dt(mn,e,{elements:e.args.slice(a)})),o=o.concat(r.rest),r.rest=null}else s=s.slice(),o=o.slice();for(var f=0,c=0,u=i&&n.option("default_values"),p=i&&n.drop_fargs(r,e)?function(e,t){return!e||(e instanceof yn?0==e.elements.length&&!e.rest&&t instanceof mn:e instanceof xn?0==e.properties.length&&!e.rest&&t&&!t.may_throw_on_access(n):e.__unused)}:l,d=[],h=0;h<s.length;h++){var v=o[h];if(u&&v instanceof Xe&&s[h].is_defined(n)&&(o[h]=v=v.name),!v||"__unused"in v){var m=s[h].drop_side_effect_free(n);if(p(v)){v&&o.splice(h,1),s.splice(h,1),m&&d.push(m),h--;continue}if(m)d.push(m),s[f++]=Ot(e,d),d=[];else if(v){if(!d.length){s[f++]=Dt(Kn,s[h],{value:0});continue}s[f++]=Ot(e,d),d=[]}}else{if(p(v,s[h])){m=s[h].drop_side_effect_free(n),o.splice(h,1),s.splice(h,1),m&&d.push(m),h--;continue}d.push(s[h]),s[f++]=Ot(e,d),d=[]}c=f}for(;h<o.length;h++)p(o[h])&&o.splice(h--,1);r.argnames=o,s.length=c,e.args=s,d.length&&(r=Ot(e,d),s.push(s.length<o.length?Dt(cn,e,{operator:"void",expression:r}):r))}}function lr(e,n,t,i){if(i instanceof ln&&("&&"==i.operator||"||"==i.operator)&&i.right instanceof dn&&"="==i.right.operator&&i.right.left instanceof Rn&&i.right.left.definition()===n&&!t.has_side_effects(e)&&r(i.left)&&r(i.right.right))return n.replaced++,"&&"==i.operator?Dt(pn,i,{condition:i.left,consequent:i.right.right,alternative:t}):Dt(pn,i,{condition:i.left,consequent:t,alternative:i.right.right});function r(t){if(!t.has_side_effects(e)){var i=!1;return t.walk(new ut((function(e){return!!i||(e instanceof Rn&&e.definition()===n?i=!0:void 0)}))),!i}}}K.DEFMETHOD("merge_variables",(function(e){if(e.option("merge_vars")){var n,t,i={},r=this,o=[],s=[],f=0,u=new w,l=Object.create(null),p=Object.create(null),d=new ut((function(o,s){if(o instanceof dn){var f=o.left,c=o.right;if(f instanceof _n){c.walk(d);var p=new ut((function(e){if(!(e instanceof _n))return e instanceof Xe?(D(),e.value.walk(d),O(),e.name.walk(p)):e instanceof wn?e.key instanceof T?(D(),(i.block=e).key.walk(d),e.value.walk(p),O()):e.value.walk(p):e instanceof Rn?$(e):e.walk(d),!0}));return f.walk(p),!0}return si[o.operator.slice(0,-1)]?(f.walk(d),D(),c.walk(d),f instanceof Rn&&$(f),O(),!0):f instanceof Rn?("="!=o.operator&&$(f,!0),c.walk(d),$(f),!0):void 0}if(o instanceof ln)return si[o.operator]?(o.left.walk(d),D(),o.right.walk(d),O(),!0):void 0;var h,v;if(o instanceof ze)return(h=d.loopcontrol_target(o))instanceof R||z(h),!0;if(o instanceof Qe)return f=(_=o.expression).tail_node(),a(f)?(_!==f&&_.expressions.slice(0,-1).forEach((function(e){e.walk(d)})),o.args.forEach((function(e){e.walk(d)})),f.walk(d),!0):(s(),b(_));if(o instanceof pn)return o.condition.walk(d),D(),o.consequent.walk(d),O(),D(),o.alternative.walk(d),O(),!0;if(o instanceof qe)return(h=d.loopcontrol_target(o))instanceof B&&z(h),!0;if(o instanceof B){D(),i.block=o,i.loop=!0;var m=i;return o.body.walk(d),i.inserted===o&&(i=m),o.condition.walk(d),O(),!0}if(o instanceof V)return o.init&&o.init.walk(d),D(),i.block=o,i.loop=!0,o.condition&&o.condition.walk(d),o.body.walk(d),o.step&&o.step.walk(d),O(),!0;if(o instanceof W)return o.object.walk(d),D(),i.block=o,i.loop=!0,o.init.walk(d),o.body.walk(d),O(),!0;if(o instanceof Ce)return o.condition.walk(d),D(),o.body.walk(d),O(),o.alternative&&(D(),o.alternative.walk(d),O()),!0;if(o instanceof Y)return D(),i.block=o,m=i,o.body.walk(d),i.inserted===o&&(i=m),O(),!0;if(o instanceof K)return D(),(i.block=o)===r&&(t=i),o instanceof ee&&(o.name&&(l[o.name.definition().id]=!1),p=o.uses_arguments&&!d.has_directive("use strict")?function(e){e instanceof Fn&&(l[e.definition().id]=!1)}:function(e){e instanceof Fn&&$(e)},v=new ut((function(e){if(e instanceof $n&&(l[e.definition().id]=!1),e instanceof Rn){var n=e.definition(),t=o.variables.get(e.name);return t&&(t===n||n.undeclared||o.parent_scope.find_variable(e.name)===n)?(l[n.id]=!1,l[t.id]=!1):(t=i,O(),$(e,!0),i=t),!0}})),o.argnames.forEach((function(e){e.mark_symbol(p,v)})),o.rest&&o.rest.mark_symbol(p,v)),ae(o,d),O(),!0;if(o instanceof an){var _=o.expression;return o.optional?(_.walk(d),D(),o.property.walk(d),O()):s(),b(_)}if(o instanceof Me)return o.expression.walk(d),m=i,o.body.forEach((function(e){e instanceof je||(e.expression.walk(d),m===i&&D())})),i=m,o.body.forEach((function(e){D(),i.block=o;var n=i;P(e,d),i.inserted===o&&(i=n),O()})),!0;if(o instanceof zn||o instanceof Cn)return!(l[o.definition().id]=!1);if(o instanceof Rn)return $(o,!0),!0;if(o instanceof Ne)return _=n,m=i,P(n=o,d),i=m,o.bcatch&&(o.bcatch.argname&&o.bcatch.argname.mark_symbol((function(e){e instanceof Hn&&(e=e.definition(),l[e.id]=!1,(e=e.redefined())&&(l[e.id]=!1))}),d),o.bfinally||(n=_)?P(o.bcatch,d):(D(),P(o.bcatch,d),O())),n=_,i=m,o.bfinally&&o.bfinally.walk(d),!0;if(o instanceof fn){if(!Ht[o.operator])return;var g=o.expression;return g instanceof Rn?($(g,!0),!0):void 0}return o instanceof Ue?(g=o.value,g?g.walk(d):g=i.block instanceof W&&i.block.init===d.parent(),o.name.mark_symbol(g?function(e){if(e instanceof $n)return e instanceof Mn?$(e):l[e.definition().id]=!1,!0}:function(e){if(e instanceof $n){var n=e.definition().id;return e instanceof Mn?n in l?l[n]&&l[n].push(e):u.add(n,e):l[n]=!1,!0}},d),!0):o instanceof U?(D(),i.block=o,i.loop=!0,s(),O(),!0):void 0;function b(n){return!e.option("ie")||(n=tn(n))instanceof Rn&&n.walk(d),!0}}));d.directives=Object.create(e.directives),r.walk(d);for(var h=Object.create(null);o.length&&s.length;){var v=o.pop(),m=v.definition;if(m.id in p&&l[m.id]){for(var _={start:l[m.id].start};m.id in h;)m=h[m.id];_.end=l[m.id].end;var g=[];do{var b=s.pop();if(b&&!(b.index>v.index)){var k=b.definition.id,E=l[k];if(E){if(_.start.block===E.start.block&&C(_,E)&&(!_.start.loop&&yr(m)||C(E,_))&&(!e.option("webkit")||c(m)===c(b.definition))&&y(E,(function(e){return e.scope.find_variable(m.name)===m}))){var S=[],A=[];E.forEach((function(e){e.thedef=m,e.name=m.name,(e instanceof Rn?A:S).push(e)})),m.orig=S.concat(m.orig),m.references=A.concat(m.references),m.fixed=b.definition.fixed&&m.fixed,h[k]=m;break}g.unshift(b)}}}while(s.length);g.length&&(s=s.concat(g))}}}function D(){i=Object.create(i)}function O(){i=Object.getPrototypeOf(i)}function $(a,c){var d,h,v=a.definition(),m=i;if(n&&(D(),m=i,O()),v.id in l){if(!(h=l[v.id]))return;if(h.start.block!==m.block)return l[v.id]=!1;if(h.push(a),h.end=m,v.id in p)s[p[v.id]]=null;else if(!c)return}else{if((d=r.variables.get(v.name))!==v)return d&&t===m&&(l[d.id]=!1),l[v.id]=!1;if(e.exposed(v)||Ni[a.name])return l[v.id]=!1;if((h=u.get(v.id)||[]).push(a),l[v.id]=h,!c)return h.start=m,o.push({index:f++,definition:v});if(m.block!==r)return l[v.id]=!1;h.start=t}p[v.id]=s.length,s.push({index:f++,definition:v})}function z(e){for(var n=[];;){if(x(i,"block")){var t=i.block;if((t=t instanceof Y?t.body:t)===e)break}n.push(i),O()}for(i.inserted=i.block,D();n.length;){var r=n.pop();D(),x(r,"block")&&(i.block=r.block),x(r,"loop")&&(i.loop=r.loop)}}function q(e,n){return e===n||e.isPrototypeOf(n)}function C(e,n){return q(e.start,e.end)||q(e.start,n.start)}})),K.DEFMETHOD("drop_unused",(function(e){if(e.option("unused")){var n=this,i=!(n instanceof Q)||e.toplevel.funcs,r=!(n instanceof Q)||e.toplevel.vars,a=/keep_assign/.test(e.option("unused"))?l:function(n,t){var i,r=!1;if(n instanceof dn?!n.write_only&&"="!=n.operator||(i=o(n.left,t)):n instanceof fn&&n.write_only&&(i=o(n.expression,t)),i instanceof Rn&&(t=i.definition(),!c[t.id]&&!e.exposed(t)&&S(i,e,r)))return i;function o(n,t){if(n instanceof rn){var i=n.expression;if(!i.may_throw_on_access(e,!0))return r=!0,t&&n instanceof an&&t.unshift(n.property),o(i,t)}else if(n instanceof dn&&"="==n.operator)return n.write_only="p",i=o(n.right),t?(t.assign=n,i instanceof Rn?i:n.left):i;return n}},s=Object.create(null),c=Object.create(null),p=function(i){return(p=function n(i,r,o){var a=e.parent(r);return a?(i=a instanceof ee&&t(i,a.argnames),n(a,r+1,i?function(e){var n=o(e);return n||((n=a.variables.get(e))&&(e=n.orig[0],e instanceof Fn||e instanceof Pn)?n:void 0)}:a.variables?function(e){return o(e)||a.variables.get(e)}:o)):o}(n,0,u))(i)},d=Object.create(null),h=[],_=Object.create(null),g=Object.create(null),b=Object.create(null),x=Object.create(null);n instanceof Q&&e.top_retain&&n.variables.each((function(n){!e.top_retain(n)||n.id in _||(_[n.id]=!0,h.push(n))}));var k=new w,A=new w,D=this;(q=new ut((function(t,o){if(t instanceof ee&&t.uses_arguments&&!q.has_directive("use strict")&&t.each_argname((function(e){e=e.definition(),e.id in _||(_[e.id]=!0,h.push(e))})),t!==n){if(D===n){if(t instanceof be){var a=t.name.definition();i&&!a.exported||a.id in _||(_[a.id]=!0,h.push(a)),t.extends&&t.extends.walk(q);var s=!1;return q.parent()instanceof We&&(s=!0,c[a.id]=!0),t.properties.forEach((function(e){var n;e.key instanceof T&&e.key.walk(q),e.value&&(s||e instanceof xe&&e.static?(n=D,D=t,e.value.walk(q),D=n):A.add(a.id,e.value))})),!0}if(t instanceof de){if(a=t.name.definition(),i&&!a.exported||a.id in _||(_[a.id]=!0,h.push(a)),A.add(a.id,t),!(q.parent()instanceof We))return!0;c[a.id]=!0}if(t instanceof Ye)return t.definitions.forEach((function(n){var i=n.value,o=i&&(n.name instanceof _n||i.has_side_effects(e)),a=o&&"="==i.tail_node().operator;n.name.mark_symbol((function(e){if(e instanceof $n){var s,f=e.definition();return x[f.id]=(x[f.id]||0)+1,t instanceof Be&&f.orig[0]instanceof Hn&&(s=f.redefined())&&(x[s.id]=(x[s.id]||0)+1),f.id in _||r&&!f.exported&&(t instanceof Re?!f.redefined():!f.const_redefs)&&(t instanceof Be||ir(f))||(_[f.id]=!0,h.push(f)),i&&(o?a&&ge(f,e,b[f.id]):A.add(f.id,i),k.add(f.id,n)),!0}}),q),o&&i.walk(q)})),!0;if(t instanceof Fn)return a=t.definition(),x[a.id]=(x[a.id]||0)+1,k.add(a.id,t),!0;if(t instanceof qn)return(a=t.definition()).id in _||r&&ir(a)||(_[a.id]=!0,h.push(a)),!0}return Ee(t,o,!0)}}))).directives=Object.create(e.directives),n.walk(q);var O=e.option("keep_fnames")?l:e.option("ie")?function(n){return!e.exposed(n)&&n.references.length==n.replaced}:function(e){return!(e.id in _)||!(e.orig.length-e.eliminated<2)&&(e.orig[1]instanceof Fn||y(e.references,(function(e){return!e.in_arg})))};e.option("ie")&&A.each((function(e,n){n in _||e.forEach((function(e){e.walk(new ut((function(e){return e instanceof le&&e.name&&!O(e.name.definition())?(e.walk(q),!0):e instanceof K||void 0})))}))}));for(var q=new ut(Ee),C=0;C<h.length;C++){var M=A.get(h[C].id);M&&M.forEach((function(e){e.walk(q)}))}Object.keys(s).forEach((function(e){var n,t=s[e];t?(t=t.reduce((function(e,n){return n.forEach((function(n){m(e,n)})),e}),[]),n=(k.get(e)||[]).filter((function(e){return o(e instanceof fn?function(n){return n===e}:function(n){return n===e||!(n instanceof fn)&&J(n)===J(e)},t)})),t.length==n.length?s[e]=n:delete s[e]):delete s[e]}));var j=[],P=[],H=[],R=[],L=new lt((function(n){if(n instanceof Xe)return Se(L,n);if(n instanceof _n&&n.rest&&(n.rest=n.rest.transform(L)),n instanceof yn){for(var t=!n.rest,i=n.elements.length;0<=--i;){var r=n.elements[i].transform(L);r?(n.elements[i]=r,t=!1):t?n.elements.pop():n.elements[i]=Dt(ot,n.elements[i])}return n}if(n instanceof xn){var o=[];return n.properties.forEach((function(t){var i,r=!1;t.key instanceof T&&(t.key=t.key.transform(B),r=t.key.has_side_effects(e)),(r||n.rest)&&((i=t.value)instanceof Xe?i.name:i)instanceof $n?(t.value=t.value.transform(B),o.push(t)):(i=!(i=t.value.transform(L))&&n.rest?t.value instanceof yn?Dt(yn,t.value,{elements:[]}):Dt(xn,t.value,{properties:[]}):i)&&(t.value=i,o.push(t))})),n.properties=o,n}return n instanceof $n?n.definition().id in _?n:null:void 0})),B=new lt((function(t,o,c){var u,l,p,h=B.parent();if(r){var m,g,b=[],w=a(t,b);if(w){if(g=t,l=(u=w).definition(),(!(p=_[l.id])||g[g instanceof dn?"left":"expression"]===u&&(p===u&&l.references.length-l.replaced==1||fe(l,g)<0))&&(t instanceof dn&&(m=we(t),!0===t.write_only&&(m=m.drop_side_effect_free(e))),m=m||Dt(Kn,t,{value:0})),m)switch(!b.assign||(g=b.assign.drop_side_effect_free(e))&&(g.write_only=!0,b.unshift(g)),h instanceof nn&&h.tail_node()!==t&&!m.has_side_effects(e)||b.push(m),b.length){case 0:return v.skip;case 1:return Ft(0,h,t,b[0].transform(B));default:return Ot(t,b.map((function(e){return e.transform(B)})))}}else if(t instanceof un&&t.expression instanceof Rn&&fe(t.expression.definition(),t)<0)return Dt(cn,t,{operator:"+",expression:t.expression})}if(t instanceof Qe&&H.push(t),D===n){if(i&&t!==n&&t instanceof be){var k=t.name.definition();if(!(k.id in _))return U(t.name,"Dropping unused class {name}"),k.eliminated++,o(t,B),h instanceof We?Hi(t,!0):(ge=(ge=t.drop_side_effect_free(e,!0))===t?Hi(t,!0):ge)?Dt(F,t,{body:ge}):c?v.skip:Dt(z,t)}if(t instanceof ye&&t.name&&O(t.name.definition())&&P.push(t),t instanceof ee){if(i&&t!==n&&t instanceof de&&!((k=t.name.definition()).id in _))return U(t.name,"Dropping unused function {name}"),k.eliminated++,h instanceof We?(xe(),Yi(t,!0)):c?v.skip:Dt(z,t);if(t instanceof te&&t.name&&O(t.name.definition())&&P.push(t),!(t instanceof ne)){t.rest&&((m=t.rest.transform(L))instanceof _n&&!m.rest&&(!t.uses_arguments||B.has_directive("use strict"))&&(m instanceof yn?0==m.elements.length&&(m=null):0==m.properties.length&&(m=null)),t.rest=m);for(var E=t.argnames,A=e.drop_fargs(t,h)&&!t.rest,$=A?-1:t.length(),q=E.length;0<=--q;)(w=E[q])instanceof Fn?(k=w.definition()).id in _?(A=!1,fe(k,w)<0&&(w.__unused=null)):A?(U(w,"Dropping unused function argument {name}"),E.pop()):w.__unused=!0:w.transform(L)?A=!1:A?(U(w.name,"Dropping unused default argument {name}"),E.pop()):$<q?(U(w.name,"Dropping unused default argument assignment {name}"),w.name.__unused=!0,E[q]=w.name):(U(w.name,"Dropping unused default argument value {name}"),w.value=Dt(Kn,w,{value:0}));R.push(t)}}if(t instanceof Ie&&t.argname instanceof _n&&t.argname.transform(L),t instanceof Ye&&!(h instanceof W&&h.init===t)){var C=[],M=[],Z=[],J=[],Q=0,ae=t instanceof Be;switch(t.definitions.forEach((function(n){n.value&&(n.value=n.value.transform(B));var i=n.value;if(n.name instanceof _n){var o=Te(n.name,i,(function(e){return!r||e.definition().id in _||m(e)||ae&&!S(e)?e:null}),!0);o.name?(n=Dt(Ue,n,{name:o.name,value:i=o.value}),g()):o.value&&J.push(o.value)}else{var a,s,c,u,l,p=n.name.definition(),d=ae?S(n.name):ir(p);if(d&&r&&!(p.id in _))m(n.name)?((i=i&&i.drop_side_effect_free(e))&&J.push(i),1<x[p.id]?(T.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",G(n.name)),x[p.id]--,p.eliminated++):(n.value=null,M.push(n))):((i=i&&!i.single_use&&i.drop_side_effect_free(e))?(T.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",G(n.name)),J.push(i)):U(n.name,"Dropping unused variable {name}"),p.eliminated++);else if(i&&fe(p,n)<0&&((i=i.drop_side_effect_free(e))&&(T.warn("Side effects in last use of variable {name} [{file}:{line},{col}]",G(n.name)),J.push(i)),i=null,j.push(n)),i||t instanceof Le)if(e.option("functions")&&!e.option("ie")&&d&&1==x[p.id]&&0==p.assignments&&i instanceof te&&!f(p)&&!ie(i)&&(u=i,0==(l=p.references).length?u===n.name.fixed_value():y(l,(function(e){return u===e.fixed_value()})))&&(c=i,ae&&!e.has_directive("use strict")&&c instanceof le?h instanceof N||h instanceof V&&h.init===t||h instanceof Ce:h instanceof K)&&!1!==(a=function(e,n){if(!e.name)return null;var t,i=e.name.definition();if(1<i.orig.length)return null;if(0<i.assignments)return!1;if(i.name==n)return i;switch(n){case"await":t=re;break;case"yield":t=oe}return y(i.references,(function(i){var r=i.scope;if(r.find_variable(n)===p){if(t)do{if(r=r.resolve(),t(r))return}while(r!==e&&(r=r.parent_scope));return 1}}))&&i}(i,n.name.name))){switch(T.warn("Declaring {name} as function [{file}:{line},{col}]",G(n.name)),i.CTOR){case ce:s=he;break;case ue:s=ve;break;case le:s=me;break;case pe:s=_e}o=Dt(s,n,i),o.name=Dt(jn,n.name,n.name);var v=n.name.scope.resolve().def_function(o.name);a&&a.forEach((function(e){e.name=v.name,e.thedef=v,e.reference()})),C.push(o)}else d&&1<x[p.id]&&!(h instanceof Ve)&&p.orig.indexOf(n.name)>p.eliminated&&(x[p.id]--,Q++),g();else h instanceof Ve?g():d&&1<x[p.id]?(T.info("Dropping declaration of variable {name} [{file}:{line},{col}]",G(n.name)),x[p.id]--,p.eliminated++):M.push(n)}function m(e){var n=e.definition();return n.orig[0]instanceof Hn&&n.scope.resolve()===e.scope.resolve()}function g(){0<J.length&&(0==Z.length?C.push(Dt(F,t,{body:Ot(t,J)})):i?(J.push(i),n.value=Ot(i,J)):n.value=Dt(cn,n,{operator:"void",expression:Ot(n,J)}),J=[]),Z.push(n)}})),M.length){case 0:if(0==Z.length)break;if(Z.length==Q){[].unshift.apply(J,Z.map((function(e){T.info("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",G(e.name));var n=e.name.definition(),t=Dt(Rn,e.name,e.name);return n.references.push(t),t=Dt(dn,e,{operator:"=",left:t,right:e.value}),e=fe(n,e),0<=e&&(s[n.id][e]=t),n.eliminated++,t})));break}case 1:if(0==Z.length){var se=M[0].name.definition().id;if(se in d){t.definitions=M,d[se].init=t;break}}default:t.definitions=M.concat(Z),C.push(t)}return 0<J.length&&C.push(Dt(F,t,{body:Ot(t,J)})),X(C,t,c)}if(t instanceof dn)return o(t,B),t.left instanceof _n?(ge=Te(t.left,t.right,(function(e){return e}),!0===t.write_only)).name?Dt(dn,t,{operator:t.operator,left:ge.name,right:ge.value}):ge.value||(h instanceof nn&&h.tail_node()!==t?v.skip:Dt(Kn,t,{value:0})):t;if(t instanceof Y&&t.body instanceof V){if(o(t,B),t.body instanceof I){var ge=t.body;return t.body=ge.body.pop(),ge.body.push(t),c?v.splice(ge.body):ge}return t}return t instanceof K?(xe(),t):t instanceof qn?!e.option("imports")||t.definition().id in _?t:c?v.skip:null:void 0}function xe(){var e=D;o(D=t,B),D=e}}),(function(n,t){if(n instanceof I)return Fi(n,B.parent(),t);if(n instanceof V)return n.init instanceof I&&(a=n.init,n.init=a.body.pop(),a.body.push(n)),n.init instanceof me?((a=a||Dt(I,n,{body:[n]})).body.splice(-1,0,n.init),n.init=null):n.init instanceof F?n.init=n.init.body:Yt(n.init)&&(n.init=null),a?t?v.splice(a.body):a:n;if(n instanceof Z){if(!r||!e.option("loops"))return;if(!Yt(n.body))return;var i=ke(n);if(!i)return;var o=i.definition();if(o.id in _)return;U(i,"Dropping unused loop variable {name}"),d[o.id]===n&&delete d[o.id];var a=[];i=n.object.drop_side_effect_free(e);return i&&(T.warn("Side effects in object of for-in loop [{file}:{line},{col}]",i.start),a.push(Dt(F,n,{body:i}))),n.init instanceof Ye&&o.orig[0]instanceof Hn&&a.push(n.init),X(a,n,t)}return n instanceof Je?(n.properties&&0==n.properties.length&&(n.properties=null),n):n instanceof nn&&!(1<n.expressions.length)?Ft(0,B.parent(),n,n.expressions[0]):void 0}));B.push(e.parent()),n.transform(B),n instanceof ee&&1==n.body.length&&n.body[0]instanceof $&&"use strict"==n.body[0].value&&(n.body.length=0),j.forEach((function(e){e.value=null})),P.forEach((function(e){e.name=null})),H.forEach((function(n){ur(n,e,R)}))}function U(e,n){T[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",G(e))}function G(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function J(e){return e[e instanceof dn?"right":"value"]}function X(e,n,t){switch(e.length){case 0:return t?v.skip:Dt(z,n);case 1:return e[0];default:return t?v.splice(e):Dt(I,n,{body:e})}}function ae(e,t){return e.scope.resolve()===n&&(e.fixed&&t.fixed||(s[e.id]=!1),!1!==s[e.id])}function se(e,n){s[e.id]||(s[e.id]=[]),n.fixed.assigns&&m(s[e.id],n.fixed.assigns)}function fe(e,n){return e=s[e.id],e&&e.indexOf(n)}function ge(e,n,t){e.id in _||(n&&t?(_[e.id]=n,h.push(e)):(g[e.id]=n,b[e.id]=t))}function we(n){var t=n.right;return n.write_only&&t instanceof ln&&si[t.operator]&&t.left instanceof Rn&&n.left instanceof Rn?(n=n.left.definition(),t.left.definition()!==n||t.right.has_side_effects(e)?t:(ae(n,t.left)&&se(n,t.left),t.right)):t}function ke(e){var n=e.init;if(n instanceof Ye)return(n=n.definitions[0].name)instanceof $n&&n;for(;n instanceof rn;)n=n.expression.tail_node();return n instanceof Rn?n:void 0}function Ee(t,i,o){t instanceof dn&&t.left instanceof Rn&&(s=t.left.definition()).scope.resolve()===n&&k.add(s.id,t),t instanceof fn&&t.expression instanceof Rn&&(s=t.expression.definition()).scope.resolve()===n&&k.add(s.id,t);var s,c=[],u=a(t,c);if(u&&((m=u.definition()).scope.resolve()===n||n.variables.get(u.name)===m)&&(!f(m)||y(n.argnames,(function(e){return!e.match_symbol((function(e){if(e instanceof Fn)return e=e.definition(),e.references.length>e.replaced}),!0)})))){if("p"===t.write_only&&t.right.may_throw_on_access(e,!0))return;var l,v=c.assign;return v&&(v.write_only=!0,v.walk(q)),c.forEach((function(e){e.walk(q)})),t instanceof dn&&(v=we(t),c=!1,o&&!0===t.write_only&&!v.has_side_effects(e)?A.add(m.id,v):(v.walk(q),c="="==v.tail_node().operator),t.left===u?t.write_only&&!c||ge(m,u,b[m.id]):(l=u.fixed_value())&&l.is_constant()||ge(m,g[m.id],!0)),ae(m,u)&&Wt(u,t)!==u&&se(m,u),!0}if(t instanceof Z){if(t.init instanceof Rn&&D===n&&((l=t.init.definition().id)in d||(d[l]=t)),!r||!e.option("loops"))return;if(!Yt(t.body))return;if(t.init.has_side_effects(e))return;if(!(u=ke(t)))return;if((s=u.definition()).scope.resolve()!==n&&(u=p(u.name),u===s||u&&u.redefined()===s))return;return t.object.walk(q),!0}if(t instanceof Rn)return(m=t.definition()).id in _||(_[m.id]=!0,h.push(m)),E(m.scope,t.scope)&&(!(s=m.redefined())||s.id in _||(_[s.id]=!0,h.push(s))),ae(m,t)&&se(m,t),!0;if(t instanceof K){var m=D;return D=t,i(),D=m,!0}}function Se(n,t){if(t.value=t.value.transform(B),!t.name.transform(n)){if(t.name instanceof _n)return null;if(n=t.value.drop_side_effect_free(e),!n)return null;U(t.name,"Side effects in default value of unused variable {name}"),t.name.__unused=null,t.value=n}return t}function Te(n,t,i,r){var o=new lt((function(n){if(n instanceof Xe){if(!(e.option("default_values")&&t&&t.is_defined(e))){var f=r;r=!1;var c=Se(o,n);return r=f,!c&&r&&t&&(t=t.drop_side_effect_free(e)),c}n=n.name}if(n instanceof yn){f=r;var u=t;t instanceof Rn&&(r=!1,t=t.fixed_value());var l=t instanceof mn&&t.elements,p=[],d=r&&[],h=0;if(n.elements.forEach((function(e,n){(t=l&&l[n])instanceof ot?t=null:t instanceof sn&&(r&&(d.length=h,Ii(u,d),[].push.apply(d,l.slice(n)),u.elements=d),t=l=!1),(e=e.transform(o))&&(p[h]=e),r&&t&&(d[h]=t),!e&&!t&&r&&l||h++})),t=l&&Dt(mn,u,{elements:l.slice(n.elements.length)}),n.rest&&(c=r,r=!1,n.rest=n.rest.transform(e.option("rests")?o:B),r=c,n.rest&&(p.length=h)),r&&(t=(t=t&&!n.rest?t.drop_side_effect_free(e):t)instanceof mn?t.elements:t instanceof nn?t.expressions:t&&[t])&&t.length&&(d.length=h,[].push.apply(d,t)),t=u,r=f,l&&d&&(Ii(t,d),t.elements=d),!n.rest&&(t instanceof mn||t&&t.is_string(e)))switch(p.length){case 0:return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;var m=p[0];if(!(m instanceof On))break;return t=Dt(an,n,{expression:t,property:Dt(Kn,n,{value:0})}),m}return Ii(n,p),n.elements=p,n}if(n instanceof xn){var _,g;f=r,u=t;t instanceof Rn&&(r=!1,t=t.fixed_value()),t instanceof kn&&(_=[],g=Object.create(null),t.properties.forEach((function(n,t){if(n instanceof sn)return g=!1;var i=n.key;(i=i instanceof T?i.evaluate(e,!0):i)instanceof T?g=!1:!g||n instanceof An||(g[i]=n),_[t]=i}))),n.rest&&(t=!1,n.rest=n.rest.transform(e.option("rests")?o:B));var b=Object.create(null),y=r&&Object.create(null),w=[];if(n.properties.map((function(n){var t=n.key;return t instanceof T&&(n.key=t=t.transform(B),t=t.evaluate(e,!0)),t instanceof T?y=!1:b[t]=!(t in b),t})).forEach((function(e,i){var f,c=n.properties[i];e instanceof T?(t=r=!1,f=c.value.transform(o)||s(c.value)):(r=y&&b[e],(!(i=g&&g[e])||(t=i.value)instanceof ne)&&(t=!1),(f=c.value.transform(o))?y&&(y[e]=!1):((n.rest||a(c))&&(f=s(c.value)),!y||e in y||(i?(y[e]=i,null===t&&(g[e]=a(i)&&Dt(Sn,i,{key:i.key,value:Dt(Kn,i,{value:0})}))):y[e]=!0)),t&&(i.value=t)),f&&(c.value=f,w.push(c))})),t=u,r=f,y&&_&&(t.properties=v(t.properties,(function(t,i){if(t instanceof sn)return t;var r=_[i];if(r instanceof T)return t;if(r in y){if(i=y[r],!i)return t;if(i===t)return g[r]||v.skip}else if(n.rest)return t;return r=t.value.drop_side_effect_free(e),r?(t.value=r,t):a(t)?Dt(Sn,t,{key:t.key,value:Dt(Kn,t,{value:0})}):v.skip}))),t&&!n.rest)switch(w.length){case 0:if(t.may_throw_on_access(e,!0))break;return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;var x=w[0];if(x.key instanceof T)break;if(!(x.value instanceof On))break;return t=Dt(an,n,{expression:t,property:$t(x.key,x)}),x.value}return n.properties=w,n}return!(n=n instanceof ot?null:i(n))&&r&&t&&(t=t.drop_side_effect_free(e)),n}));return{name:n.transform(o),value:t};function a(n){return n.key instanceof T&&n.key.has_side_effects(e)}function s(n){return n instanceof Xe?s(n.name):n instanceof _n?(null===t?t=Dt(Kn,n,{value:0}):t&&(!0===t.tail_node().write_only||t.may_throw_on_access(e,!0))&&(t=Dt(mn,n,{elements:t instanceof nn?t.expressions:[t]})),Dt(xn,n,{properties:[]})):(n.__unused=null,n)}}})),K.DEFMETHOD("hoist_declarations",(function(e){var n,t,i,r,o,a,s,f,c,u,l;e.has_directive("use asm")||(n=e.option("hoist_funs"),t=e.option("hoist_vars"),i=this,t&&(r=0,i.walk(new ut((function(e){return 1<r||e instanceof Ve||e instanceof K&&e!==i||(e instanceof Be?(r++,!0):void 0)}))),r<=1&&(t=!1)),(n||t)&&(o=Object.create(null),a=[],s=[],f=new w,c=0,u=new lt((function(r,l,p){if(r!==i){if(r instanceof $)return a.push(r),p?v.skip:Dt(z,r);var d;if(r instanceof de)return n?(d=u.parent())instanceof Ve||d instanceof We||d!==i&&e.has_directive("use strict")?r:(s.push(r),p?v.skip:Dt(z,r)):r;if(r instanceof Be){if(!t)return r;if((d=u.parent())instanceof Ve)return r;if(!y(r.definitions,(function(e){return e=e.name,e instanceof Mn&&!o[e.name]&&i.find_variable(e.name)===e.definition()})))return r;r.definitions.forEach((function(e){f.set(e.name.name,e),++c}));var h=r.to_assignments();if(d instanceof W&&d.init===r){if(h)return h;var m=r.definitions[0].name;return Dt(Rn,m,m)}return d instanceof V&&d.init===r?h:h?Dt(F,r,{body:h}):p?v.skip:Dt(z,r)}return r instanceof K?r:r instanceof zn?(o[r.name]=!0,r):void 0}})),i.transform(u),0<c&&(l=[],i instanceof ee&&i.each_argname((function(e){f.del(e.name)})),f.each((function(e,n){(e=e.clone()).value=null,l.push(e),f.set(n,e)})),0<l.length&&(function e(n){for(;n.length;){var t=n[0];if(t instanceof F){var i,r,o,a=t.body;if(a instanceof dn&&"="==a.operator&&(i=a.left)instanceof On&&f.has(i.name)){if((o=f.get(i.name)).value)break;var s=a.right;s instanceof nn&&(s=s.clone()),o.value=s,g(l,o),l.push(o),n.shift();continue}if(a instanceof nn&&(r=a.expressions[0])instanceof dn&&"="==r.operator&&(i=r.left)instanceof On&&f.has(i.name)){if((o=f.get(i.name)).value)break;o.value=r.right,g(l,o),l.push(o),t.body=Ot(a,a.expressions.slice(1));continue}}if(t instanceof z)n.shift();else{if(!(t instanceof I)||e(t.body))break;n.shift()}}return n.length}(i.body),l=Dt(Be,i,{definitions:l}),s.push(l))),i.body=a.concat(s,i.body)))})),K.DEFMETHOD("process_boolean_returns",u),me.DEFMETHOD("process_boolean_returns",(function(e){var n;e.option("booleans")&&(n=Li(this),Bi(this.name.definition(),n,e)&&(e.parent()instanceof We||Ui(this,e)))})),le.DEFMETHOD("process_boolean_returns",(function(e){if(e.option("booleans")){var n=Li(this);if(!this.name||Bi(this.name.definition(),n,e)){var t=e.parent();if(t instanceof dn){if("="!=t.operator)return;if(!((i=t.left)instanceof Rn))return;if(!Bi(i.definition(),n,e))return}else if(t instanceof Qe&&t.expression!==this){var i,r=t.expression;if(!((r=r instanceof Rn?r.fixed_value():r)instanceof ee))return;if(r.uses_arguments||r.pinned())return;if((i=(i=r.argnames[t.args.indexOf(this)])instanceof Xe?i.name:i)instanceof Fn&&!Bi(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;if(e.pop(),t=e.in_boolean_context(),e.push(this),!t)return}Ui(this,e)}}})),j.DEFMETHOD("var_names",(function(){var e=this._var_names;return e||(this._var_names=e=Object.create(null),this.enclosed.forEach((function(n){e[n.name]=!0})),this.variables.each((function(n,t){e[t]=!0}))),e})),K.DEFMETHOD("make_var",(function(e,n,i){var r=[this];n instanceof $n&&n.definition().references.forEach((function(e){var n=e.scope;if(!t(n,r))for(;m(r,n),(n=n.parent_scope)&&n!==this;);}));for(var o=i=i.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),a=0;!y(r,(function(e){return!e.var_names()[o]}));a++)o=i+"$"+a;n=Dt(e,n,{name:o,scope:this});var s=this.def_variable(n);return r.forEach((function(e){e.enclosed.push(s),e.var_names()[o]=!0})),n})),K.DEFMETHOD("hoist_properties",(function(e){var n,t,i;function r(n,i,r){if(n instanceof On){var o=n.definition();return o.assignments==r?!o.direct_access&&1!=o.escaped.depth&&o.references.length-o.replaced!=r&&!o.single_use&&!t(o)&&n.fixed_value()===i&&i instanceof kn&&0<i.properties.length&&y(i.properties,Dr)&&y(o.references,(function(e){return e.fixed_value()===i}))&&S(n,e):void 0}}e.option("hoist_props")&&!e.has_directive("use asm")&&(t=(n=this)instanceof Q&&e.top_retain||l,i=Object.create(null),n.transform(new lt((function(e,t){if(e instanceof dn){if("="!=e.operator)return;if(!e.write_only)return;if(!r(e.left,e.right,1))return;t(e,this);var o=new w,a=[],s=[];return e.right.properties.forEach((function(t){var i=c(Mn,e.left,t.key);s.push(Dt(Ue,e,{name:i,value:null})),i=Dt(Rn,e,{name:i.name,scope:n,thedef:i.definition()}),i.reference(),a.push(Dt(dn,e,{operator:"=",left:i,right:t.value}))})),i[e.left.definition().id]=o,n.body.splice(n.body.indexOf(this.stack[1])+1,0,Dt(Be,e,{definitions:s})),Ot(e,a)}if(e instanceof K)return e===n?void 0:e;if(e instanceof Ue&&r(e.name,e.value,0)){t(e,this);o=new w;var f=[];return e.value.properties.forEach((function(n){f.push(Dt(Ue,e,{name:c(e.name.CTOR,e.name,n.key),value:n.value}))})),i[e.name.definition().id]=o,v.splice(f)}function c(e,t,i){return t=n.make_var(e,t,t.name+"_"+i),o.set(i,t.definition()),t}}))),n.transform(new lt((function(e,n){if(e instanceof rn){if(!(e.expression instanceof Rn))return;var t=i[e.expression.definition().id];if(!t)return;return t=t.get(e.get_property()),t=Dt(Rn,e,{name:t.name,scope:e.expression.scope,thedef:t}),t.reference(),t}if(e instanceof Rn&&e.definition().id in i)return Dt(kn,e,{properties:[]})}))))})),(gi=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(T,d),gi(ne,h),gi(mn,(function(e,n){return n=Wi(this.elements,e,n,Zi),n?n===this.elements&&y(n,(function(e){return e instanceof sn}))?this:Ot(this,n.map(Gi)):null})),gi(dn,(function(e){var n=this.left;if(n instanceof rn){var t=n.expression;if(t.may_throw_on_access(e,!0))return this;if(e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)?this:(t=this.right,!si[this.operator.slice(0,-1)]&&(this.write_only=!0,tn(n).is_constant_expression(e.find_parent(K)))?t.drop_side_effect_free(e):this)})),gi(hn,(function(e){if(!e.option("awaits"))return this;var n=this.expression;if(!_r(e,n))return this;var t=this.clone();return t.expression=n.drop_side_effect_free(e)||Dt(Kn,this,{value:0}),t})),gi(ln,(function(e,n){var t=this.left,i=this.right,r=this.operator;if("in"==r&&!mr(i))return(o=t.drop_side_effect_free(e,n))===t?this:((s=this.clone()).left=o||Dt(Kn,t,{value:0}),s);var o,a=i.drop_side_effect_free(e,n);if(!a)return t.drop_side_effect_free(e,n);if(si[r]&&a.has_side_effects(e)){var s=this;return a!==i&&((s=s.clone()).right=a.drop_side_effect_free(e)),"??"==r?s:(r=Dt(ln,this,{operator:"&&"==r?"||":"&&",left:t.negate(e,n),right:s.right}),(n?pi:li)(s,r))}return(o=t.drop_side_effect_free(e,n))?(a=a.drop_side_effect_free(e))?Ot(this,[o,a]):o:a})),gi(Qe,(function(e,n){var t=this;if(t.is_expr_pure(e)){t.pure&&T.warn("Dropping __PURE__ call [{file}:{line},{col}]",t.start);var i=Wi(t.args,e,n,Zi);return i&&Ot(t,i.map(Gi))}var r=t.expression;if(t.is_call_pure(e))return(a=t.args.slice()).unshift(r.expression),(a=Wi(a,e,n,Zi))&&Ot(t,a.map(Gi));if(e.option("yields")&&oe(r)){i=t.clone(),i.expression=Dt(le,r,r),i.expression.body=[];var o=i.transform(e);if(o!==i)return o.drop_side_effect_free(e,n)}if(o=Ji(e,r),o&&((t=t.clone()).expression=o,r._squeezed&&(t.expression._squeezed=!0)),t instanceof en){var a;o=r;if((o=o instanceof Rn?o.fixed_value():o)instanceof ee){if(function(e,n){e.new=!0;var t=y(e.body,(function(e){return!e.has_side_effects(n)}))&&y(e.argnames,(function(e){return!e.match_symbol(l)}))&&!(e.rest&&e.rest.match_symbol(l));return delete e.new,t}(o,e))return(a=t.args.slice()).unshift(r),(a=Wi(a,e,n,Zi))&&Ot(t,a.map(Gi));o.contains_this()||(t=Dt(Qe,t,t))}}return t.call_only=!0,t})),gi(ye,(function(e,n){var t=this.name;return t&&t.fixed_value()!==this&&0<t.definition().references.length?this:Xi(this,e,n)})),gi(pn,(function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie")&&(n=[],i instanceof le&&(n.push(i),i=null),r instanceof le&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=Dt(ln,this,{operator:"&&",left:this.condition,right:i}):t=r?Dt(ln,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie")?(t&&n.push(t),0==n.length?null:Ot(this,n)):t)})),gi(Jn,h),gi(be,(function(e,n){return Xi(this,e,n)})),gi(on,(function(e,n){var t=this.expression;return!this.optional&&t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)})),gi(le,(function(e){return Vi(this,e)?null:this})),gi(te,h),gi(kn,(function(e,n){var t=[];return this.properties.forEach((function(e){e instanceof sn?t.push(e):(e.key instanceof T&&t.push(e.key),t.push(e.value))})),n=Wi(t,e,n,(function(e,n,t){var i=e.expression;return Ti(i)?e:i.drop_side_effect_free(n,t)})),n?n!==t||y(n,(function(e){return!(e instanceof sn)}))?Ot(this,n.map((function(e){return e instanceof sn?Dt(kn,e,{properties:[e]}):e}))):this:null})),gi(Un,h),gi(nn,(function(e,n){var t=Wi(this.expressions,e,n);if(!t)return null;var i,r,o,a=t.length-1,s=t[a];return e.option("awaits")&&0<a&&s instanceof hn&&s.expression.is_constant()&&(t=t.slice(0,-1),s.expression=t[--a],t[a]=s),e.option("conditionals")&&0<a&&(i=t[a-1])instanceof dn&&"="==i.operator&&(o=i.left)instanceof Rn&&(r=lr(e,o.definition(),i.right,s))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i.drop_side_effect_free(e,n))),t===this.expressions?this:Ot(this,t)})),gi(an,(function(e,n){var t=this.expression,i=this.property;if(t.may_throw_on_access(e)){if(!this.optional)return this;if(i.has_side_effects(e)){if(!(i=i.drop_side_effect_free(e)))return t.drop_side_effect_free(e,n);var r=this.clone();return r.property=i,r}}return(t=t.drop_side_effect_free(e,n))?(i=i.drop_side_effect_free(e))?Ot(this,[t,i]):t:i.drop_side_effect_free(e,n)})),gi(Rn,(function(e){return this.is_declared(e)&&S(this,e)?null:this})),gi(Gn,(function(e,n){var t=this;if(t.is_expr_pure(e)){var i=t.expressions;return 0==i.length?null:Ot(t,i).drop_side_effect_free(e,n)}return n=t.tag,e=Ji(e,n),e&&((t=t.clone()).tag=e,n._squeezed&&(t.tag._squeezed=!0)),t})),gi(fn,(function(e,n){var t=this.expression;if(Vt[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Rn&&S(t,e))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&Zt(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i})),e(F,(function(e,n){if(n.option("side_effects")){var t=e.body;n=t.drop_side_effect_free(n,!0);if(!n)return T.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),Dt(z,e);if(n!==t)return Dt(F,e,{body:n})}return e})),e(U,(function(e,n){return n.option("loops")?Dt(V,e,e).optimize(n):e})),e(B,(function(e,n){if(!n.option("loops"))return e;var i=er(n,e.condition);if(!(i instanceof T)){if(i&&!Ki(e,n.parent(),qe))return Dt(V,e,{body:Dt(I,e.body,{body:[e.body,Dt(F,e.condition,{body:e.condition})]})}).optimize(n);if(!Ki(e,n.parent()))return Dt(I,e.body,{body:[e.body,Dt(F,e.condition,{body:e.condition})]}).optimize(n)}if(e.body instanceof I&&!Ki(e,n.parent(),qe)){for(var r=e.body.body,o=r.length;0<=--o;){var a=r[o];if(a instanceof Ce&&!a.alternative&&a.body instanceof ze&&n.loopcontrol_target(a.body)===e){if(s(a.condition))break;e.condition=Dt(ln,e,{operator:"&&",left:a.condition.negate(n),right:e.condition}),r.splice(o,1)}else if(a instanceof F){if(s(a.body))break;e.condition=Ot(e,[a.body,e.condition]),r.splice(o,1)}else if(!Qt(a,!0))break}e.body=Fi(e.body,n.parent())}return e.body instanceof z?Dt(V,e,e).optimize(n):e.body instanceof F?Dt(V,e,{condition:Ot(e.condition,[e.body.body,e.condition]),body:Dt(z,e)}).optimize(n):e;function s(n){var i=!1;return n.walk(new ut((function(n){return!!i||(n instanceof Rn?(t(n.definition(),e.enclosed)||(i=!0),!0):void 0)}))),i}})),e(V,(function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t=er(n,e.condition);if(t)t instanceof T||(e.body=Dt(I,e.body,{body:[Dt(F,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code"))return t=[],q(e.init)?t.push(e.init):e.init&&t.push(Dt(F,e.init,{body:e.init})),t.push(Dt(F,e.condition,{body:e.condition})),ti(n,e.body,t),Dt(I,e,{body:t}).optimize(n)}return function e(n,t){var i=a(n.body);if(t.option("dead_code")&&(i instanceof ze||i instanceof qe&&s(i)||i instanceof Ae)){var r=[];q(n.init)?r.push(n.init):n.init&&r.push(Dt(F,n.init,{body:n.init}));var o=s(i)||i instanceof Ae;return n.condition&&o?r.push(Dt(Ce,n,{condition:n.condition,body:i,alternative:null})):n.condition?r.push(Dt(F,n.condition,{body:n.condition})):o&&r.push(i),ti(t,n.body,r),Dt(I,n,{body:r})}if(i instanceof Ce){if((o=a(i.body))instanceof ze&&!s(o))return n.condition?n.condition=Dt(ln,n.condition,{left:n.condition,operator:"&&",right:i.condition.negate(t)}):n.condition=i.condition.negate(t),r=It(i.alternative),ti(t,i.body,r),f(r);if((o=a(i.alternative))instanceof ze&&!s(o))return n.condition?n.condition=Dt(ln,n.condition,{left:n.condition,operator:"&&",right:i.condition}):n.condition=i.condition,r=It(i.body),ti(t,i.alternative,r),f(r)}return n;function a(e){return e instanceof I?e.body[0]:e}function s(e){return t.loopcontrol_target(e)!==t.self()}function f(i){return n.body instanceof I?(n.body=n.body.clone(),n.body.body=i.concat(n.body.body.slice(1)),n.body=n.body.transform(t)):n.body=Dt(I,n.body,{body:i}).transform(t),e(n,t)}}(e,n)})),e(W,(function(e,n){var t;return n.option("varify")&&Pt(e.init)&&((t=e.init.definitions[0].name)instanceof _n||t instanceof Cn)&&!t.match_symbol((function(e){if(e instanceof $n)return e=e.definition(),!yr(e)||rr(n,e)}),!0)&&(e.init=or(e.init)),e})),e(Ce,(function(e,n){if(Yt(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;if(n.option("booleans")&&!e.condition.has_side_effects(n)&&nr(n,e.condition),n.option("dead_code")){var t=er(n,e.condition);if(!t){T.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var i=[Dt(F,e.condition,{body:e.condition})];return ti(n,e.body,i),e.alternative&&i.push(e.alternative),Dt(I,e,{body:i}).optimize(n)}if(!(t instanceof T))return T.warn("Condition always true [{file}:{line},{col}]",e.condition.start),i=[Dt(F,e.condition,{body:e.condition}),e.body],e.alternative&&ti(n,e.alternative,i),Dt(I,e,{body:i}).optimize(n)}var r=e.condition.negate(n),o=e.condition.print_to_string().length,a=r.print_to_string().length,s=a<o;e.alternative&&s&&(s=!1,e.condition=r,u=e.body,e.body=e.alternative||Dt(z,e),e.alternative=u);i=[];var f=[],c=[],u=(t=p(e.body,i,f,c),p(e.alternative,i,f,c));if(t&&u)return 0<f.length&&i.push(Dt(Be,e,{definitions:f})),0==t.length?i.push(Dt(F,e.condition,{body:0<u.length?Dt(ln,e,{operator:"||",left:e.condition,right:Ot(e.alternative,u)}).transform(n):e.condition.clone()}).optimize(n)):0==u.length?(o===a&&!s&&e.condition instanceof ln&&"||"==e.condition.operator&&(s=!0),i.push(Dt(F,e,{body:Dt(ln,e,{operator:s?"||":"&&",left:s?r:e.condition,right:Ot(e.body,t)}).transform(n)}).optimize(n))):i.push(Dt(F,e,{body:Dt(pn,e,{condition:e.condition,consequent:Ot(e.body,t),alternative:Ot(e.alternative,u)})}).optimize(n)),c.forEach((function(e){e.definition().references.push(e)})),Dt(I,e,{body:i}).optimize(n);if((e=Yt(e.body)?Dt(Ce,e,{condition:r,body:e.alternative,alternative:null}):e).body instanceof Ae&&e.alternative instanceof Ae&&e.body.TYPE==e.alternative.TYPE){var l=Dt(e.body.CTOR,e,{value:Dt(pn,e,{condition:e.condition,consequent:e.body.value||Dt(rt,e.body).transform(n),alternative:e.alternative.value||Dt(rt,e.alternative).transform(n)})});return l instanceof De&&(l.in_bool=e.body.in_bool||e.alternative.in_bool),l}return qi((e=e.body instanceof Ce&&!e.body.alternative&&!e.alternative?Dt(Ce,e,{condition:Dt(ln,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null}):e).body)&&e.alternative?(l=e.alternative,e.alternative=null,Dt(I,e,{body:[e,l]}).optimize(n)):qi(e.alternative)?(i=e.body,e.body=e.alternative,e.condition=s?r:e.condition.negate(n),e.alternative=null,Dt(I,e,{body:[e,i]}).optimize(n)):(n.option("typeofs")&&Qi(e.condition,e.body,e.alternative),e);function p(e,t,i,r){if(null==e)return[];if(e instanceof I){for(var o=[],a=0;a<e.body.length;a++){var s=e.body[a];if(s instanceof de)t.push(s);else if(!(s instanceof z))if(s instanceof F){if(!n.option("sequences")&&0<o.length)return;o.push(s.body)}else{if(!(s instanceof Be))return;if(!n.option("sequences")&&0<o.length)return;s.remove_initializers(n,i),s.definitions.forEach(f)}}return o}if(e instanceof de)return t.push(e),[];if(e instanceof z)return[];if(e instanceof F)return[e.body];if(e instanceof Be)return o=[],e.remove_initializers(n,i),e.definitions.forEach(f),o;function f(e){e.value&&o.push(Dt(dn,e,{operator:"=",left:e.name.convert_symbol(Rn,(function(e){r.push(e)})),right:e.value}))}}})),e(Me,(function(e,n){if(!n.option("switches"))return e;if(!n.option("dead_code"))return e;for(var i,r,o,a=[],s=[],f=[],c=0,u=e.body.length;c<u;c++){if((i=e.body[c])instanceof je){var l=a[a.length-1];if(r||x(i.body[0],n)&&(!l||qi(l))){E(i,l);continue}r=i}else{var p=i.expression,d=Dt(ln,e,{operator:"===",left:e.expression,right:p}).evaluate(n,!0);if(!d){p.has_side_effects(n)&&f.push(p),E(i,a[a.length-1]);continue}if(!(d instanceof T))for(r&&(d=a.indexOf(r),a.splice(d,1),E(r,a[d-1]),r=null),p.has_side_effects(n)?o=i:r=i=Dt(je,i,i);++c<u;)E(e.body[c],i)}if(u<=c+1||qi(i)){l=a[a.length-1];var h,v=i.body;if(qi(l))switch(l.body.length-v.length){case 1:if(!x(h=l.body[l.body.length-1],n))break;v=v.concat(h);case 0:var m=Dt(I,l,l),_=Dt(I,i,{body:v});m.equivalent_to(_)&&(l.body=[])}}f.length&&(i instanceof je?a.push(Dt(Pe,e,{expression:Ot(e,f),body:[]})):(f.push(i.expression),i.expression=Ot(e,f)),f=[]),a.push(i)}for(f.length&&!o&&a.push(Dt(Pe,e,{expression:Ot(e,f),body:[]}));i=a[a.length-1];){if(x(h=i.body[i.body.length-1],n)&&i.body.pop(),i===r){if(!Lt(i))break}else{if(i.expression.has_side_effects(n))break;if(r){if(!Lt(r))break;if(a[a.length-2]!==r)break;r.body=r.body.concat(i.body),i.body=[]}else if(!Lt(i))break}E(i),a.pop()===r&&(r=null)}if(!i)return s.push(Dt(F,e.expression,{body:e.expression})),f.length&&s.push(Dt(F,e,{body:Ot(e,f)})),Dt(I,e,{body:s}).optimize(n);if(i===r)for(;(i=a[a.length-2])&&!(i instanceof je)&&Lt(i);){if((p=i.expression).has_side_effects(n)){if((l=a[a.length-3])&&!qi(l))break;r.body.unshift(Dt(F,e,{body:p}))}E(i),a.splice(-2,1)}if(a[0].body=s.concat(a[0].body),e.body=a,n.option("conditionals"))switch(a.length){case 1:if(!k(a[0]))break;return p=a[0].expression,v=a[0].body.slice(),a[0]!==r&&a[0]!==o?Dt(Ce,e,{condition:Dt(ln,e,{operator:"===",left:e.expression,right:p}),body:Dt(I,e,{body:v}),alternative:null}).optimize(n):(p&&v.unshift(Dt(F,p,{body:p})),v.unshift(Dt(F,e.expression,{body:e.expression})),Dt(I,e,{body:v}).optimize(n));case 2:if(!t(r,a)||!k(a[1]))break;var g=(v=a[0].body.slice()).length&&x(v[v.length-1],n);if(g&&v.pop(),!y(v,k))break;var b=a[1].body.length&&Dt(I,a[1],a[1]),w=Dt(Ce,e,{condition:Dt(ln,e,a[0]===r?{operator:"!==",left:e.expression,right:a[1].expression}:{operator:"===",left:e.expression,right:a[0].expression}),body:Dt(I,a[0],{body:v}),alternative:g&&b||null});return(w=!g&&b?Dt(I,e,{body:[w,b]}):w).optimize(n)}return e;function x(n,t){return n instanceof ze&&t.loopcontrol_target(n)===e}function k(n){var t=!1,i=new ut((function(e){if(t||e instanceof ee||e instanceof F)return!0;x(e,i)&&(t=!0)}));return i.push(e),n.walk(i),!t}function E(e,t){t&&!qi(t)?t.body=t.body.concat(e.body):ti(n,e,s)}})),e(Ne,(function(e,n){if(e.body=ni(e.body,n),n.option("dead_code")){if(Lt(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol((function(e){return e instanceof Hn&&!S(e)}),!0))){var t=[];return e.bcatch&&(ti(n,e.bcatch,t),t.forEach((function(e){e instanceof Be&&e.definitions.forEach((function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)}))}))),t.unshift(Dt(I,e,e).optimize(n)),e.bfinally&&t.push(Dt(I,e.bfinally,e.bfinally).optimize(n)),Dt(I,e,{body:t}).optimize(n)}if(e.bfinally&&Lt(e.bfinally)){if(t=Dt(I,e.bfinally,e.bfinally).optimize(n),t=e.body.concat(t),!e.bcatch)return Dt(I,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e})),Re.DEFMETHOD("remove_initializers",tr((function(e,n){return Dt(rt,n).optimize(e)}))),Le.DEFMETHOD("remove_initializers",tr(h)),Be.DEFMETHOD("remove_initializers",tr(h)),Ye.DEFMETHOD("to_assignments",(function(){var e=this.definitions.reduce((function(e,n){var t,i,r=n.name.definition(),o=n.value;return o&&(o instanceof nn&&(o=o.clone()),t=Dt(Rn,n.name,n.name),i=Dt(dn,n,{operator:"=",left:t,right:o}),e.push(i),t.fixed=function(){return i.right},t.fixed.assigns=[i],r.references.forEach((function(e){e=e.fixed&&e.fixed.assigns,e&&e[0]===n&&(e[0]=i)})),r.references.push(t)),r.eliminated++,r.single_use=!1,e}),[]);return 0==e.length?null:Ot(this,e)})),e(Re,sr),e(Le,sr),e(Qe,(function(e,n){var t=e.expression,i=fr(e,n);if(i)return i;if(n.option("sequences"))if(t instanceof rn){if((k=cr(t))!==t)return i=e.clone(),i.expression=k.expressions.pop(),k.expressions.push(i),k.optimize(n)}else if(!zt(0,t.tail_node())&&(k=cr(e))!==e)return k.optimize(n);if(n.option("unused")&&ur(e,n),n.option("unsafe"))if(Jt(t))switch(t.name){case"Array":if(1==e.args.length){if((u=e.args[0])instanceof Kn)try{var r=u.value;if(6<r)break;for(var o=Array(r),a=0;a<r;a++)o[a]=Dt(ot,e);return Dt(mn,e,{elements:o})}catch(i){T.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:r,file:e.start.file,line:e.start.line,col:e.start.col});break}if(!u.is_boolean(n)&&!u.is_string(n))break}return Dt(mn,e,{elements:e.args});case"Object":if(0==e.args.length)return Dt(kn,e,{properties:[]});break;case"String":if(0==e.args.length)return Dt(Xn,e,{value:""});if(1==e.args.length)return Dt(ln,e,{operator:"+",left:Dt(Xn,e,{value:""}),right:e.args[0]}).optimize(n);break;case"Number":if(0==e.args.length)return Dt(Kn,e,{value:0});if(1==e.args.length)return Dt(cn,e,{operator:"+",expression:Dt(ln,e,{operator:"+",left:Dt(Xn,e,{value:""}),right:e.args[0]})}).optimize(n);break;case"Boolean":if(0==e.args.length)return Dt(ft,e).optimize(n);if(1==e.args.length)return Dt(cn,e,{operator:"!",expression:Dt(cn,e,{operator:"!",expression:e.args[0]})}).optimize(n);break;case"RegExp":var s=[];if(y(e.args,(function(e){var t=e.evaluate(n);return s.unshift(t),e!==t})))try{return di(n,e,Dt(et,e,{value:RegExp.apply(RegExp,s)}))}catch(i){T.warn("Error converting {expr} [{file}:{line},{col}]",{expr:e,file:e.start.file,line:e.start.line,col:e.start.col})}}else if(t instanceof on)switch(t.property){case"toString":var f=t.expression;if(0==e.args.length&&!(f.may_throw_on_access(n)||f instanceof Vn))return Dt(ln,e,{operator:"+",left:Dt(Xn,e,{value:""}),right:f}).optimize(n);break;case"join":if(t.expression instanceof mn&&e.args.length<2)e:{var c=e.args[0];if(0==t.expression.elements.length&&!(c instanceof sn))return c?Ot(e,[c,Dt(Xn,e,{value:""})]).optimize(n):Dt(Xn,e,{value:""});if(!(c&&(c=c.evaluate(n))instanceof T)){o=[];var u,l=[];for(a=0;a<t.expression.elements.length;a++){var d=t.expression.elements[a];if((O=d.evaluate(n))!==d)l.push(O);else{if(d instanceof sn)break e;0<l.length&&(o.push(Dt(Xn,e,{value:l.join(c)})),l.length=0),o.push(d)}}return 0<l.length&&o.push(Dt(Xn,e,{value:l.join(c)})),1==o.length?o[0].is_string(n)?o[0]:Dt(ln,o[0],{operator:"+",left:Dt(Xn,e,{value:""}),right:o[0]}):""==c?(u=o[0].is_string(n)||o[1].is_string(n)?o.shift():Dt(Xn,e,{value:""}),o.reduce((function(e,n){return Dt(ln,n,{operator:"+",left:e,right:n})}),u).optimize(n)):((R=e.clone()).expression=R.expression.clone(),R.expression.expression=R.expression.expression.clone(),R.expression.expression.elements=o,di(n,e,R))}}break;case"charAt":if(e.args.length<2)return(R=Dt(ln,e,{operator:"||",left:Dt(an,e,{expression:t.expression,property:e.args.length?Dt(ln,e.args[0],{operator:"|",left:Dt(Kn,e,{value:0}),right:e.args[0]}):Dt(Kn,e,{value:0})}).optimize(n),right:Dt(Xn,e,{value:""})})).is_string=p,R.optimize(n);break;case"apply":if(2==e.args.length&&e.args[1]instanceof mn)return(N=e.args[1].elements.slice()).unshift(e.args[0]),Dt(Qe,e,{expression:Dt(on,t,{expression:t.expression,property:"call"}),args:N}).optimize(n);break;case"call":if(f=t.expression,(f=f instanceof Rn?f.fixed_value():f)instanceof ee&&!f.contains_this())return(e.args.length?Ot(this,[e.args[0],Dt(Qe,e,{expression:t.expression,args:e.args.slice(1)})]):Dt(Qe,e,{expression:t.expression,args:[]})).optimize(n)}if(n.option("unsafe_Function")&&Jt(t)&&"Function"==t.name){if(0==e.args.length)return Dt(le,e,{argnames:[],body:[]}).init_vars(t.scope);if(y(e.args,(function(e){return e instanceof Xn})))try{var h=Bt(g="n(function("+e.args.slice(0,-1).map((function(e){return e.value})).join()+"){"+e.args[e.args.length-1].value+"})"),v={ie:n.option("ie")};h.figure_out_scope(v);var m,_=new fi(n.options);(h=h.transform(_)).figure_out_scope(v),h.compute_char_frequency(v),h.mangle_names(v),h.walk(new ut((function(e){return!!m||(e instanceof ee?(m=e,!0):void 0)})));var g=ui();return I.prototype._codegen.call(m,g),e.args=[Dt(Xn,e,{value:m.argnames.map((function(e){return e.print_to_string()})).join()}),Dt(Xn,e.args[e.args.length-1],{value:g.get().replace(/^\{|\}$/g,"")})],e}catch(i){if(!(i instanceof Mt))throw i;T.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),T.warn(i.toString())}}var w=t instanceof Rn?t.fixed_value():t,k=n.parent(),E=n.self(),S=(_=w instanceof ee&&(!re(w)||n.option("awaits")&&k instanceof hn)&&(!oe(w)||n.option("yields")&&E instanceof vn&&E.nested),v=_&&w.first_statement(),0),A=!1,D=!y(e.args,(function(e){return!(e instanceof sn)}));h=_&&y(w.argnames,(function(n,t){if(1==S&&e.args[t]instanceof sn&&(S=2),n instanceof Xe){if(t=1==(S=S||1)&&e.args[t],t&&!ii(t)&&(S=2),U(n.value))return;n=n.name}return!(n instanceof _n&&(A=!0,U(n)))}))&&!(w.rest instanceof _n&&U(w.rest)),g=h&&n.option("inline")&&!e.is_expr_pure(n);if(g&&v instanceof De){var O=v.value;if(t===w&&!w.name&&(!O||O.is_constant_expression())&&X(w))return Ot(e,G(O)).optimize(n)}if(_){var $=!1;if(g&&!w.uses_arguments&&!w.pinned()&&!(w.name&&w instanceof te)&&(t===w||!br(n,Y=t.definition(),w)&&w.is_constant_expression(St(n)))&&!D&&(O=function(e){var t=w.body.length;if(t<2&&(e=ae(e)))return e;if(n.option("inline")<3)return!1;e=null;for(var i=0;i<t;i++){var r=w.body[i];if(r instanceof Be){var o=$||!Kt(r);if(o&&($=!0,e))return!1}else if(!(r instanceof he||r instanceof me||r instanceof z)){if(e)return!1;e=r}}return ae(e)}(v))&&!w.contains_this()){var q,C,M,j,P=t===w||Y.single_use&&Y.references.length-Y.replaced==1;if(function(){if(!(S||A||$||w.rest)&&!(n.option("inline")<2&&w.argnames.length)&&w.variables.all((function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Fn}))){var t,i=!1,r=J(),o=[],a=!1;if(O.walk(new ut((function(e,s){if(i)return!0;if(!(e instanceof ln&&si[e.operator]||e instanceof pn)){if(e instanceof K)return i=!0;if(r&&e instanceof On&&r[e.name])return i=!0;if(e instanceof Rn){var f=e.definition();return w.variables.get(e.name)!==f?void(o=null):f.init instanceof de||Wt(e,this.parent())?i=!0:(f=se(f),t<f||(t=f),o?void(a?o=null:o.push(w.argnames[f])):void 0)}return e.has_side_effects(n)?(s(),a=!0):void 0}o=null}))),!i){var s=e.args.length;if(o&&w.argnames.length>=s){for(s=w.argnames.length;s-- >t&&w.argnames[s]===o.pop(););s++}var f=a&&!o&&n.find_parent(K);return s<=t||y(e.args.slice(t,s),f?function(e){return e.is_constant_expression(f)}:function(e){return!e.has_side_effects(n)})}}}()){var N=e.args.slice(),H=[];N.push(O.clone(!0).transform(new lt((function(n){if(n instanceof Rn){var t=n.definition();if(w.variables.get(n.name)!==t)return H.push(n),n;var i=se(t);t=N[i];return t?(N[i]=null,i=this.parent(),i?Ft(0,i,n,t):t):Dt(rt,e)}}))));var Y=w.inlined;t!==w&&(w.inlined=!0);var R=Ot(e,N.filter((function(e){return e}))).optimize(n);if(w.inlined=Y,R=Ft(0,k,E,R),P||li(R,e)===R)return H.forEach((function(e){e.scope=t===w?w.parent_scope:t.scope,e.reference(),e=e.definition(),P&&e.replaced++,e.single_use=!1})),R;R.has_side_effects(n)||(e.drop_side_effect_free=function(e,n){var t=this.args.slice();return t.unshift(this.expression),Ot(this,t).drop_side_effect_free(e,n)})}if(P&&function(){var e,i=Object.create(null),r=0;j=E;do{if(j.variables&&j.variables.each((function(e){i[e.name]=!0})),e=j,(j=n.parent(r++))instanceof L)M=[];else if(j instanceof V)j.init!==e&&(M=[]);else if(j instanceof W)j.init!==e&&j.object!==e&&(M=[]);else if(j instanceof Rn&&j.fixed_value()instanceof K)return!1}while(!(j instanceof K));if(!(C=j.body.indexOf(e)+1))return!1;if(!X(w))return!1;var o=t!==w||w.parent_scope.resolve()===j;j instanceof Q&&(n.toplevel.vars?i.arguments=!0:o=!1);var a=n.option("inline");if(q=Object.create(i),!function(e,n,t){var i=!1;return w.each_argname((function(r){if(!i&&!r.__unused){if(!t||fe(e,r.name))return i=!0;n[r.name]=!0,M&&M.push(r.definition())}})),!i}(i,q,2<=a&&o))return!1;var s=Object.create(q);return!!function(e,n,t){for(var i=0;i<w.body.length;i++){var r=w.body[i];if(r instanceof de){if(!t||fe(n,r.name.name))return!1;if(!y(r.enclosed,(function(n){return n.scope===r||!e[n.name]})))return!1;M&&M.push(r.name.definition())}else if(r instanceof Be){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(fe(e,a.name))return!1;M&&M.push(a.definition())}}}return!0}(i,s,3<=a&&o)&&(!M||0==M.length||!Er(w,M))}())return w._squeezed=!0,t!==w&&(w.parent_scope=t.scope),R=Ot(e,function(){var n=[],t=[];(1<S||A||w.rest?function(n,t){function i(e,i){var r=i.definition();r.references.push(e),i=Dt(Mn,i,i),r.orig.push(i),ce(n,t,i)}t.push(Dt(dn,e,{operator:"=",left:Dt(yn,e,{elements:w.argnames.map((function(e){return e.__unused?Dt(ot,e):e.convert_symbol(Rn,i)})),rest:w.rest&&w.rest.convert_symbol(Rn,i)}),right:Dt(mn,e,{elements:e.args.slice()})}))}:function(n,t){for(var i=w.argnames.length,r=e.args.length;--r>=i;)t.push(e.args[r]);var o,a=[];for(r=i;0<=--r;){var s=w.argnames[r];o=s instanceof Xe?(a.push(s),s.name):s;var f,c=e.args[r];o.__unused||j.var_names()[o.name]?c&&t.push(c):(f=Dt(Mn,o,o),o.definition().orig.push(f),"__unused"in o?(ce(n,t,f),c&&t.push(c)):(!c&&M&&s===o&&(c=Dt(rt,e)),ce(n,t,f,c)))}for(n.reverse(),t.reverse(),r=a.length;0<=--r;){var u,l=a[r];"__unused"in l.name?t.push(l.value):(u=Dt(Rn,l.name,l.name),l.name.definition().references.push(u),t.push(Dt(dn,l,{operator:"=",left:u,right:l.value})))}})(n,t);var i=function(e,n){for(var t=[C,0],i=[],r=[],o=[],a=0;a<w.body.length;a++){var s=w.body[a];if(s instanceof de)M?((p=Dt(Mn,s.name,ue(s.name))).definition().orig.push(p),ce(e,n,p,Yi(s,!0))):(c=s.name.definition(),j.functions.set(c.name,c),j.variables.set(c.name,c),j.enclosed.push(c),j.var_names()[c.name]=!0,t.push(s));else if(s instanceof Be)for(var f=0;f<s.definitions.length;f++){var c,u,l=s.definitions[f],p=ue(l.name);ce(i,r,p,l.value),M&&!x(q,p.name)&&(c=w.variables.get(p.name),u=Dt(Rn,p,p),c.references.push(u),o.push(Dt(dn,l,{operator:"=",left:u,right:Dt(rt,p)})))}}return[].push.apply(e,i),[].push.apply(n,o),[].push.apply(n,r),t}(n,t);return t.push(O),n.length&&i.push(Dt(Be,w,{definitions:n})),[].splice.apply(j.body,i),w.enclosed.forEach((function(e){j.var_names()[e.name]||(j.enclosed.push(e),j.var_names()[e.name]=!0)})),t}()).optimize(n),Ft(0,k,E,R)}if(n.option("side_effects")&&h&&y(w.body,Yt)&&(w===t?Vi(w,n):!S&&!A&&!w.rest)&&(!ie(w)||!w.value)&&X(w))return Ot(e,G()).optimize(n)}if(n.option("drop_console")&&t instanceof rn){for(var B=t.expression;B.expression;)B=B.expression;if(Jt(B)&&"console"==B.name)return Dt(rt,e).optimize(n)}return n.option("negate_iife")&&k instanceof F&&Zt(E)?e.negate(n,!0):_i(n,e);function U(e){var n=!1;return e.walk(new ut((function(e){return!!n||(e instanceof Rn&&w.variables.get(e.name)===e.definition()?n=!0:void 0)}))),n}function Z(e){return Dt(on,e,{expression:Dt(mn,e,{elements:[]}),property:"e"})}function G(n){var t,i,r=e.args.slice(),o=1<S||A||w.rest;return(o||D)&&(r=[Dt(mn,e,{elements:r})]),o?(t=new lt((function(e,n){if(e instanceof Xe)return Dt(Xe,e,{name:e.name.transform(t)||Z(e),value:e.value});if(e instanceof yn){var i=[];return e.elements.forEach((function(e,n){(e=e.transform(t))&&(i[n]=e)})),Ii(e,i),Dt(yn,e,{elements:i})}if(e instanceof xn){var r=[],o=[];return e.properties.forEach((function(n){var i=n.key,a=n.value.transform(t);a?(o.length&&(i instanceof T||(i=$t(i,n)),o.push(i),i=Ot(e,o),o=[]),r.push(Dt(wn,n,{key:i,value:a}))):i instanceof T&&o.push(i)})),o.length&&r.push(Dt(wn,e,{key:Ot(e,o),value:Z(e)})),Dt(xn,e,{properties:r})}return e instanceof Fn?null:void 0})),i=[],w.argnames.forEach((function(e,n){(e=e.transform(t))&&(i[n]=e)})),(o=w.rest&&w.rest.transform(t))&&(i.length=w.argnames.length),Ii(w,i),r[0]=Dt(dn,e,{operator:"=",left:Dt(yn,w,{elements:i,rest:o}),right:r[0]})):w.argnames.forEach((function(e){e instanceof Xe&&r.push(e.value)})),r.push(n||Dt(rt,e)),r}function J(){var e=[],t=j||n.find_parent(K);return re(t)&&e.push("await"),oe(t)&&e.push("yield"),e.length&&b(e)}function X(e){var n=J();if(!n)return 1;var t=!0,i=new ut((function(e){if(!t)return!0;if(e instanceof K){if(e===w)return;if(ie(e))for(var r=0;t&&r<e.argnames.length;r++)e.argnames[r].walk(i);else e instanceof de&&n[e.name.name]&&(t=!1);return!0}e instanceof On&&n[e.name]&&e!==w.name&&(t=!1)}));return e.walk(i),t}function ne(){return e.call_only?Dt(Kn,e,{value:0}):Dt(rt,e)}function ae(n){return n?n instanceof De?n.value||ne():n instanceof F?e.call_only?n.body:Dt(cn,n,{operator:"void",expression:n.body}):void 0:ne()}function se(e){for(var n=w.argnames.length;0<=--n;)if(w.argnames[n].definition()===e)return n}function fe(e,n){return e[n]||Tt[n]||j.var_names()[n]}function ce(n,t,i,r){var o=i.definition();j.var_names()[i.name]||(j.var_names()[i.name]=!0,n.push(Dt(Ue,i,{name:i,value:null}))),j.variables.set(i.name,o),j.enclosed.push(o),r&&(i=Dt(Rn,i,i),o.references.push(i),t.push(Dt(dn,e,{operator:"=",left:i,right:r})))}function ue(e){var n=e.definition().redefined();return n&&((e=e.clone()).thedef=n),e}})),e(en,(function(e,n){if(n.option("sequences")){var t=cr(e);if(t!==e)return t.optimize(n)}if(n.option("unused")&&ur(e,n),n.option("unsafe")&&(t=e.expression,Jt(t)))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return Dt(Qe,e,e).transform(n)}return e})),e(nn,(function(e,n){var t=function(){if(!n.option("side_effects"))return e.expressions;var t=[],i=k(n),r=e.expressions.length-1;return e.expressions.forEach((function(e,o){(e=o<r?e.drop_side_effect_free(n,i):e)&&(jt(t,e),i=!1)})),t}(),i=t.length-1;return function(){for(var e=1;e<i;e++){var o=t[e-1],a=r(o);if(a){var s=t[e];if(n.option("conditionals")){var f=lr(n,a,o.right,s);if(f){o.right=f,t.splice(e--,1),i--;continue}}n.option("dead_code")&&r(s)===a&&s.right.is_constant_expression(a.scope.resolve())&&(t[--e]=o.right)}}}(),function(){if(n.option("side_effects")){for(;0<i&&ii(t[i],n);)i--;i<t.length-1&&(t[i]=Dt(cn,e,{operator:"void",expression:t[i]}),t.length=i+1)}}(),0==i?(e=Ft(0,n.parent(),n.self(),t[0]))instanceof nn?e:e.optimize(n):(e.expressions=t,e);function r(e){return e instanceof dn&&"="==e.operator&&e.left instanceof Rn&&e.left.definition()}})),e(un,(function(e,n){if(n.option("sequences")){var t=cr(e);if(t!==e)return t.optimize(n)}return _i(n,e)}));var pr=b("+ -"),dr=b("* / %");e(cn,(function(e,n){var t=e.operator,i=e.expression;if(n.option("evaluate")&&"delete"==t&&!a(i))return Ot(e,[i,Dt(ct,e)]).optimize(n);if(n.option("sequences")&&function(){switch(t){case"delete":return!a(i.tail_node());case"typeof":return!Jt(i.tail_node());default:return!0}}()){var r=cr(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")&&"void"==t)return(i=i.drop_side_effect_free(n))?(e.expression=i,e):Dt(rt,e).optimize(n);if(n.option("booleans")){if("!"==t&&i.is_truthy())return Ot(e,[i,Dt(ft,e)]).optimize(n);if(n.in_boolean_context())switch(t){case"!":if(i instanceof cn&&"!"==i.operator)return i.expression;i instanceof ln&&(e=di(n,e,i.negate(n,k(n))));break;case"typeof":T.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var o=[Dt(ct,e)];return i instanceof Rn&&S(i,n)||o.unshift(i),Ot(e,o).optimize(n)}}return"-"==t&&i instanceof at&&(i=i.transform(n)),n.option("evaluate")&&i instanceof ln&&pr[t]&&dr[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?Dt(ln,e,{operator:i.operator,left:Dt(cn,i.left,{operator:t,expression:i.left}),right:i.right}):"-"==t&&(i instanceof Kn||i instanceof at)?e:_i(n,e);function a(e){return e instanceof at||e instanceof it||e instanceof Zn||e instanceof rn||e instanceof Rn||e instanceof rt}})),e(hn,(function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=cr(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){var i=e.expression;if(i instanceof hn)return i.optimize(n);if(i instanceof cn){if(i.expression instanceof hn)return i.optimize(n);if("void"==i.operator)return Dt(cn,e,{operator:"void",expression:Dt(hn,e,{expression:i.expression})}).optimize(n)}for(var r,o=0,a=e;r=n.parent(o++);a=r){if(ie(r)){if(r.value===a)return i.optimize(n)}else if(r instanceof De){var s=!0;do{if(a=r,(r=n.parent(o++))instanceof Ne&&(r.bfinally||r.bcatch)!==a){s=!1;break}}while(r&&!(r instanceof K));if(s)return i.optimize(n)}else if(r instanceof nn&&r.tail_node()===a)continue;break}}return e})),e(vn,(function(e,n){if(!n.option("yields"))return e;if(n.option("sequences")){var t=cr(e);if(t!==e)return t.optimize(n)}return t=e.expression,e.nested&&"Call"==t.TYPE&&(n=t.clone().optimize(n),"Call"!=n.TYPE)?n:e})),ln.DEFMETHOD("lift_sequences",(function(e){if(this.left instanceof rn){if(!(this.left.expression instanceof nn))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),Ot(this,n)}if(this.left instanceof nn)return n=this.left.expressions.slice(),(t=this.clone()).left=n.pop(),n.push(t),Ot(this,n);if(this.right instanceof nn){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Rn,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),Ot(this,n);if(0<o)return(t=this.clone()).right=Ot(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),Ot(this,n)}return this}));var hr=b("indexOf lastIndexOf"),vr=b("== === != !== * & | ^");function mr(e){return e instanceof dn?"="==e.operator&&mr(e.right):e instanceof nn?mr(e.tail_node()):e instanceof Rn?mr(e.fixed_value()):e instanceof mn||e instanceof ge||e instanceof ee||e instanceof en||e instanceof kn}function _r(e,n){if(n.is_constant())return!0;if(n instanceof dn)return"="!=n.operator||_r(e,n.right);if(n instanceof ln)return!si[n.operator]||_r(e,n.left)&&_r(e,n.right);if(n instanceof pn)return _r(e,n.consequent)&&_r(e,n.alternative);if(n instanceof nn)return _r(e,n.tail_node());if(n instanceof Rn){var t=n.fixed_value();return t&&_r(e,t)}return n instanceof Gn?!n.tag||wr(e,n.tag):n instanceof fn||void 0}function gr(e,n){return n instanceof on?gr(e,n.expression):n instanceof an?gr(e,n.expression)&&gr(e,n.property):n instanceof On||!n.has_side_effects(e)}function br(e,n,t){var i=0,r=e.self();do{if(r===t)return r;if(a(r)&&r.name&&r.name.definition()===n)return r}while(r=e.parent(i++))}function yr(e){var n=e.scope.resolve();return y(e.references,(function(e){return n===e.scope.resolve()}))}function wr(e,n){return e.option("unsafe")&&n instanceof on&&"raw"==n.property&&Jt(n.expression)&&"String"==n.expression.name}function xr(e){var n=!1;if(e=e.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,(function(e,t){if(t=Ct(t),"string"==typeof t)return t;n=!0})),!n)return e}function kr(e,n){return e instanceof Rn||e.TYPE===n.TYPE}function Er(e,n){var i=!1,r=new ut((function(e){return!!i||(e instanceof Rn&&t(e.definition(),n)?i=!0:void 0)})),o=new ut((function(n){if(i)return!0;if(n instanceof ee&&n!==e){if(!(n.name||re(n)||oe(n))){var t=o.parent();if(t instanceof Qe&&t.expression===n)return}return n.walk(r),!0}}));return e.walk(o),i}e(ln,(function(e,n){function t(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function i(n){t()&&(n&&(e.operator=n),n=e.left,e.left=e.right,e.right=n)}function r(){var t=e.right;e.left=Dt(ln,e,{operator:e.operator,left:e.left,right:t.left,start:e.left.start,end:t.left.end}),e.right=t.right,e.left=e.left.transform(n)}if(!vr[e.operator]||!e.right.is_constant()||e.left.is_constant()||e.left instanceof ln&&Rt[e.left.operator]>=Rt[e.operator]||i(),n.option("sequences")){var o=e.lift_sequences(n);if(o!==e)return o.optimize(n)}if(n.option("assignments")&&si[e.operator]){var a=e.right;if(e.left instanceof Rn&&a instanceof dn&&"="==a.operator&&e.left.equivalent_to(a.left))return e.right=a.right,a.right=e,a}if(n.option("comparisons"))switch(e.operator){case"===":case"!==":if(ii(e.left,n)&&e.right.is_defined(n))return T.warn("Expression always defined [{file}:{line},{col}]",e.start),Ot(e,[e.right,Dt("==="==e.operator?ft:ct,e)]).optimize(n);var s=!0;(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean(n)&&e.right.is_boolean(n)||gr(n,e.left)&&e.left.equivalent_to(e.right))&&(e.operator=e.operator.slice(0,2));case"==":case"!=":if(!s&&ii(e.left,n))e.left=Dt(tt,e.left);else if(n.option("typeofs")&&e.left instanceof Xn&&"undefined"==e.left.value&&e.right instanceof cn&&"typeof"==e.right.operator){var f=e.right.expression;(f instanceof Rn?!f.is_declared(n):f instanceof rn&&n.option("ie"))||(e.right=f,e.left=Dt(rt,e.left).optimize(n),2==e.operator.length&&(e.operator+="="))}else if(e.left instanceof Rn&&e.right instanceof Rn&&e.left.definition()===e.right.definition()&&mr(e.left))return Dt("="==e.operator[0]?ct:ft,e).optimize(n);break;case"&&":case"||":if((d=(d=e.left).operator==e.operator?d.right:d)instanceof ln&&d.operator==("&&"==e.operator?"!==":"===")&&e.right instanceof ln&&d.operator==e.right.operator&&(ii(d.left,n)&&e.right.left instanceof tt||d.left instanceof tt&&ii(e.right.left,n))&&!d.right.has_side_effects(n)&&d.right.equivalent_to(e.right.right))return f=Dt(ln,e,{operator:d.operator.slice(0,-1),left:Dt(tt,e),right:d.right}),d!==e.left?Dt(ln,e,{operator:e.operator,left:e.left.left,right:f}):f}var c,u,l=!1,p=n.parent();if(n.option("booleans")){var d=e.left;if(si[e.operator]&&!d.has_side_effects(n)){if(d.equivalent_to(e.right))return Ft(0,p,n.self(),d).optimize(n);nr(n,d)}l=n.in_boolean_context()}if(l)switch(e.operator){case"+":var h=e.left.evaluate(n),v=e.right.evaluate(n);if(h&&"string"==typeof h)return T.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),Ot(e,[e.right,Dt(ct,e)]).optimize(n);if(v&&"string"==typeof v)return T.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),Ot(e,[e.left,Dt(ct,e)]).optimize(n);break;case"==":if(e.left instanceof Xn&&""==e.left.value&&e.right.is_string(n))return Dt(cn,e,{operator:"!",expression:e.right}).optimize(n);break;case"!=":if(e.left instanceof Xn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n)}if(n.option("comparisons")&&e.is_boolean(n)){if((!(p instanceof ln)||p instanceof dn)&&(a=di(n,e,Dt(cn,e,{operator:"!",expression:e.negate(n,k(n))})),a!==e))return a;switch(e.operator){case">":i("<");break;case">=":i("<=")}}if(n.option("conditionals")&&si[e.operator]&&e.right instanceof ln&&e.operator==e.right.operator&&r(),n.option("strings")&&"+"==e.operator){if(e.right instanceof Xn&&""==e.right.value&&e.left.is_string(n))return e.left.optimize(n);if(e.left instanceof Xn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n);if(e.left instanceof ln&&"+"==e.left.operator&&e.left.left instanceof Xn&&""==e.left.left.value&&e.right.is_string(n)&&(e.left.right.is_constant()||!e.right.has_side_effects(n)))return e.left=e.left.right,e.optimize(n);e.right instanceof ln&&e.operator==e.right.operator&&(e.left.is_string(n)&&e.right.is_string(n)||e.right.left.is_string(n)&&(e.left.is_constant()||!e.right.right.has_side_effects(n)))&&r()}if(n.option("evaluate")){var m,_=!0;switch(e.operator){case"&&":if(!(h=er(n,e.left)))return T.warn("Condition left of && always false [{file}:{line},{col}]",e.start),Ft(0,p,n.self(),e.left).optimize(n);if(!(h instanceof T))return T.warn("Condition left of && always true [{file}:{line},{col}]",e.start),Ot(e,[e.left,e.right]).optimize(n);if(v=e.right.evaluate(n)){if(!(v instanceof T)&&(l||"&&"==p.operator&&p.left===n.self()))return T.warn("Dropping side-effect-free && [{file}:{line},{col}]",e.start),e.left.optimize(n)}else{if(l)return T.warn("Boolean && always false [{file}:{line},{col}]",e.start),Ot(e,[e.left,Dt(ft,e)]).optimize(n);e.falsy=!0}if("||"==e.left.operator&&!(b=er(n,e.left.right)))return Dt(pn,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n);break;case"??":var g=!0;case"||":var b;h=er(n,e.left,g);if(g?null==h:!h)return T.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:g?"nulish":"false",file:e.start.file,line:e.start.line,col:e.start.col}),Ot(e,[e.left,e.right]).optimize(n);if(!(h instanceof T))return T.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:g?"defined":"true",file:e.start.file,line:e.start.line,col:e.start.col}),Ft(0,p,n.self(),e.left).optimize(n);if(v=e.right.evaluate(n)){if(!(g||v instanceof T)){if(l)return T.warn("Boolean || always true [{file}:{line},{col}]",e.start),Ot(e,[e.left,Dt(ct,e)]).optimize(n);e.truthy=!0}}else if(l||"||"==p.operator&&p.left===n.self())return T.warn("Dropping side-effect-free {operator} [{file}:{line},{col}]",{operator:e.operator,file:e.start.file,line:e.start.line,col:e.start.col}),e.left.optimize(n);if(!g&&"&&"==e.left.operator&&(b=er(n,e.left.right))&&!(b instanceof T))return Dt(pn,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n);break;case"+":if((e=(e=e.left instanceof Jn&&e.right instanceof ln&&"+"==e.right.operator&&e.right.left instanceof Jn&&e.right.is_string(n)?Dt(ln,e,{operator:"+",left:Dt(Xn,e.left,{value:""+e.left.value+e.right.left.value,start:e.left.start,end:e.right.left.end}),right:e.right.right}):e).right instanceof Jn&&e.left instanceof ln&&"+"==e.left.operator&&e.left.right instanceof Jn&&e.left.is_string(n)?Dt(ln,e,{operator:"+",left:e.left.left,right:Dt(Xn,e.right,{value:""+e.left.right.value+e.right.value,start:e.left.right.start,end:e.right.end})}):e).right instanceof cn&&"-"==e.right.operator&&e.left.is_number(n)){e=Dt(ln,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof cn&&"-"==e.left.operator&&t()&&e.right.is_number(n)){e=Dt(ln,e,{operator:"-",left:e.right,right:e.left.expression});break}if(n.option("unsafe_math")&&e.left instanceof ln&&Rt[e.left.operator]==Rt[e.operator]&&e.right.is_constant()&&(e.right.is_boolean(n)||e.right.is_number(n))&&e.left.is_number(n)&&!e.left.right.is_constant()&&(e.left.left.is_boolean(n)||e.left.left.is_number(n))){e=Dt(ln,e,{operator:e.left.operator,left:Dt(ln,e,{operator:e.operator,left:e.right,right:e.left.left}),right:e.left.right});break}case"-":if(e.right instanceof cn&&"-"==e.right.operator&&e.left.is_number(n)&&e.right.expression.is_number(n)){e=Dt(ln,e,{operator:"+",left:e.left,right:e.right.expression});break}case"*":case"/":_=n.option("unsafe_math"),"+"!=e.operator&&["left","right"].forEach((function(t){var i=e[t];i instanceof cn&&"+"==i.operator&&((i=i.expression).is_boolean(n)||i.is_number(n)||i.is_string(n))&&(e[t]=i)}));case"&":case"|":case"^":if("-"==e.operator||"/"==e.operator||!e.left.is_boolean(n)&&!e.left.is_number(n)||!e.right.is_boolean(n)&&!e.right.is_number(n)||!t()||e.left instanceof ln&&e.left.operator!=e.operator&&Rt[e.left.operator]>=Rt[e.operator]||(m=Dt(ln,e,{operator:e.operator,left:e.right,right:e.left}),e=e.right instanceof Jn&&!(e.left instanceof Jn)?di(n,m,e):di(n,e,m)),!_||!e.is_number(n))break;!(e.right instanceof ln&&"%"!=e.right.operator&&Rt[e.right.operator]==Rt[e.operator]&&e.right.is_number(n)&&("+"!=e.operator||e.right.left.is_boolean(n)||e.right.left.is_number(n)))||"-"==e.operator&&e.left.is_negative_zero()||!e.right.left.is_constant_expression()&&e.right.right.has_side_effects(n)||(c=e.right.right,u=!1,c.walk(new ut((function(e){if(u)return!0;if(e instanceof dn){if(e.left instanceof rn)return u=!0}else if(e instanceof fn&&Vt[e.operator]&&e.expression instanceof rn)return u=!0}))),u)||"+"!=(e=Dt(ln,e,{operator:E(e.operator,e.right.operator),left:Dt(ln,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})).operator||e.right.is_boolean(n)||e.right.is_number(n)||(e.right=Dt(cn,e.right,{operator:"+",expression:e.right})),e.right instanceof Jn&&e.left instanceof ln&&"%"!=e.left.operator&&Rt[e.left.operator]==Rt[e.operator]&&e.left.is_number(n)&&(e.left.left instanceof Jn?(d=S(e.left,e.operator,e.left.left,e.right,e.left.left.start,e.right.end),e=S(e,e.left.operator,_i(n,d),e.left.right)):e.left.right instanceof Jn&&(m=E(e.left.operator,e.operator),!(m=_i(n,S(e.left,m,e.left.right,e.right))).is_constant()||"-"==e.left.operator&&0!=e.right.value&&0==+m.value&&e.left.left.is_negative_zero()||(e=S(e,e.left.operator,e.left.left,m))))}if(!(p instanceof cn&&"delete"==p.operator)){if(e.left instanceof Kn&&!e.right.is_constant())switch(e.operator){case"+":if(0==e.left.value){if(e.right.is_boolean(n))return Dt(cn,e,{operator:"+",expression:e.right}).optimize(n);if(e.right.is_number(n)&&!e.right.is_negative_zero())return e.right}break;case"*":if(1==e.left.value)return e.right.is_number(n)?e.right:Dt(cn,e,{operator:"+",expression:e.right}).optimize(n)}if(e.right instanceof Kn&&!e.left.is_constant())switch(e.operator){case"+":if(0==e.right.value){if(e.left.is_boolean(n))return Dt(cn,e,{operator:"+",expression:e.left}).optimize(n);if(e.left.is_number(n)&&!e.left.is_negative_zero())return e.left}break;case"-":if(0==e.right.value)return e.left.is_number(n)?e.left:Dt(cn,e,{operator:"+",expression:e.left}).optimize(n);break;case"/":if(1==e.right.value)return e.left.is_number(n)?e.left:Dt(cn,e,{operator:"+",expression:e.left}).optimize(n)}}}if(n.option("typeofs"))switch(e.operator){case"&&":Qi(e.left,e.right,null);break;case"||":Qi(e.left,null,e.right)}if(n.option("unsafe")){var y=A(e.right);if(l&&y&&("=="==e.operator||"!="==e.operator)&&e.left instanceof Kn&&0==e.left.value)return("=="==e.operator?Dt(cn,e,{operator:"!",expression:e.right}):e.right).optimize(n);var w=A(e.left);if(n.option("comparisons")&&function(){switch(e.operator){case"<=":return y&&e.left instanceof Kn&&0==e.left.value;case"<":if(w&&e.right instanceof Kn&&0==e.right.value)return!0;case"==":case"!=":return!!y&&(e.left instanceof Kn&&-1==e.left.value||e.left instanceof cn&&"-"==e.left.operator&&e.left.expression instanceof Kn&&1==e.left.expression.value)}}()){var x=Dt(cn,e,{operator:"!",expression:Dt(cn,e,{operator:"~",expression:w?e.left:e.right})});switch(e.operator){case"<":if(w)break;case"<=":case"!=":x=Dt(cn,e,{operator:"!",expression:x})}return x.optimize(n)}}return _i(n,e);function E(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function S(e,t,i,r,o,a){return"+"==t&&(i.is_boolean(n)||i.is_number(n)||(i=Dt(cn,i,{operator:"+",expression:i})),r.is_boolean(n)||r.is_number(n)||(r=Dt(cn,r,{operator:"+",expression:r}))),Dt(ln,e,{operator:t,left:i,right:r,start:o,end:a})}function A(e){return"Call"==e.TYPE&&e.expression instanceof on&&hr[e.expression.property]}})),e(Ln,(function(e){return e})),e(Rn,(function(e,n){if(!n.option("ie")&&Jt(e)&&(!e.scope.resolve().uses_with||!n.find_parent(X)))switch(e.name){case"undefined":return Dt(rt,e).optimize(n);case"NaN":return Dt(it,e).optimize(n);case"Infinity":return Dt(at,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&Wt(n.self(),t)!==n.self()){var r,o,s,f,u=e.definition(),l=e.fixed_value();t=u.single_use&&!(t instanceof Qe&&t.is_expr_pure(n));if(t)if(a(l)){if(u.scope===e.scope.resolve()&&!u.in_loop||n.option("reduce_funcs")&&1!=u.escaped.depth&&!l.inlined)if(br(n,u,l))t=!1;else if(l.name&&l.name.definition()!==u)t=!1;else if(l.parent_scope!==e.scope||c(u)){if("f"==(t=l.is_constant_expression(e.scope)))for(var p=e.scope;(p instanceof de||p instanceof te)&&(p.inlined=!0),p=p.parent_scope;);}else(l.name&&("await"==l.name.name&&re(l)||"yield"==l.name.name&&oe(l))||l.has_side_effects(n)||n.option("ie")&&l instanceof ge)&&(t=!1);else t=!1;t&&(l.parent_scope=e.scope)}else(!l||0<u.recursive_refs||!l.is_constant_expression()||l.drop_side_effect_free(n))&&(t=!1);if(t)return u.single_use=!1,l._squeezed=!0,l.single_use=!0,a(l=(l=l instanceof be?Hi(l):l)instanceof de?Yi(l):l)&&(p=e.scope.resolve(),l.enclosed.forEach((function(e){l.variables.has(e.name)||p.var_names()[e.name]||(p.enclosed.push(e),p.var_names()[e.name]=!0)}))),0<u.recursive_refs?(r=(m=l.clone(!0)).name.definition(),o=m.variables.get(m.name.name),s=o&&o.orig[0],h=m instanceof ge?(f="def_function",In):(f="def_variable",Pn),s instanceof h||(((s=Dt(h,m.name,m.name)).scope=m).name=s,(o=m[f](s)).recursive_refs=u.recursive_refs),m.walk(new ut((function(e){var n,t;e instanceof $n?e!==s&&((n=e.definition()).orig.push(e),n.eliminated++):e instanceof Rn&&((n=e.definition())===r?e.thedef=n=o:(n.single_use=!1,a(t=e.fixed_value())&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&l.variables.get(t.name.name)===n&&(t.name=t.name.clone(),e.thedef=n=m.variables.get(t.name.name)||m[f](t.name))),n.references.push(e))})))):(l instanceof K?(n.push(l),m=l.optimize(n),n.pop()):m=l.optimize(n),m=m.transform(new lt((function(e,n){return e instanceof K||n(e=e.clone(),this),e})))),u.replaced++,m;var d,h,v,m;t=e.fixed!==u.fixed;if(l&&(t||!1!==u.should_replace)&&(l instanceof Wn?!c(u)&&yr(u)&&(d=l):(v=l.evaluate(n,!0))!==l&&"function"!=typeof v&&(null===v||"object"!=(0,i.Z)(v)||n.option("unsafe_regexp")&&v instanceof RegExp&&!u.cross_loop&&yr(u))&&(d=$t(v,l)),d&&(t||void 0!==u.should_replace||(h=d.optimize(n).print_to_string().length,_(l)||(h=Math.min(h,l.print_to_string().length)),v=u.name.length,n.option("unused")&&!n.exposed(u)&&(v+=(v+2+h)/(u.references.length-u.replaced-u.assignments)),v=h-Math.floor(v),u.should_replace=v<n.eval_threshold),t||u.should_replace)))return _(l)?(m=d.optimize(n))===d&&(m=m.clone(!0)):(m=li(d.optimize(n),l))!==d&&m!==l||(m=m.clone(!0)),u.replaced++,m}return e;function _(e){var n;return e.walk(new ut((function(e){if(n=e instanceof Rn||n)return!0}))),n}})),e(Gn,(function(e,n){if(!n.option("templates"))return e;var t=e.tag;if(!t||wr(n,t)){for(var r,o=[],a=[],s=0;s<e.strings.length;s++){var f,c=e.strings[s];if(t||(f=xr(c))&&(c=h(f)),0<s){var u=e.expressions[s-1],l=function(e){var i=e.evaluate(n);if(i!==e&&!(t&&/\r|\\|`/.test(i)||(i=h(""+i)).length>e.print_to_string().length+"${}".length))return i}(u);if(l){var p;l=a[a.length-1]+l+c;if(t||(0,i.Z)(p=xr(l))==r){a[a.length-1]=p?h(p):l;continue}}o.push(u)}a.push(c),t||(r=(0,i.Z)(f))}if(!t&&1<a.length){if(""==a[a.length-1])return Dt(ln,e,{operator:"+",left:Dt(Gn,e,{expressions:o.slice(0,-1),strings:a.slice(0,-1),tag:t}).transform(n),right:o[o.length-1]}).optimize(n);if(""==a[0]){var d=Dt(ln,e,{operator:"+",left:Dt(Xn,e,{value:""}),right:o[0]});for(s=1;""==a[s]&&s<o.length;s++)d=Dt(ln,e,{operator:"+",left:d,right:o[s]});return di(n,e,Dt(ln,e,{operator:"+",left:d.transform(n),right:Dt(Gn,e,{expressions:o.slice(s),strings:a.slice(s),tag:t}).transform(n)}).optimize(n))}}e.expressions=o,e.strings=a}return _i(n,e);function h(e){return e.replace(/\r|\\|`|\${/g,(function(e){return"\\"+("\r"==e?"r":e)}))}})),e(rt,(function(e,n){if(n.option("unsafe_undefined")){var t=St(n).find_variable("undefined");if(t)return t=Dt(Rn,e,{name:"undefined",scope:t.scope,thedef:t}),t.is_undefined=!0,t}return n=Wt(n.self(),n.parent()),n&&kr(n,e)?e:Dt(cn,e,{operator:"void",expression:Dt(Kn,e,{value:0})})})),e(at,(function(e,n){var t=Wt(n.self(),n.parent());return t&&kr(t,e)||n.option("keep_infinity")&&!t&&!St(n).find_variable("Infinity")?e:Dt(ln,e,{operator:"/",left:Dt(Kn,e,{value:1}),right:Dt(Kn,e,{value:0})})})),e(it,(function(e,n){var t=Wt(n.self(),n.parent());return t&&kr(t,e)||!t&&!St(n).find_variable("NaN")?e:Dt(ln,e,{operator:"/",left:Dt(Kn,e,{value:0}),right:Dt(Kn,e,{value:0})})}));var Sr=b("+ - * / % >> << >>> | ^ &"),Tr=b("* | ^ &");function Ar(e,n){if(e){var t=n.parent();return"Call"!=t.TYPE?1:t.expression!==n.self()||(!(e instanceof Rn)||(e=e.fixed_value()))&&e instanceof ee&&!e.contains_this()}}function Dr(e){return e instanceof Sn&&"string"==typeof e.key&&!(e instanceof Tn&&e.value.contains_super())}e(dn,(function(e,n){if(n.option("dead_code"))if(e.left instanceof rn){if("="==e.operator){if(e.__drop){var t=[e.left.expression];return e.left instanceof an&&t.push(e.left.property),t.push(e.right),Ot(e,t).optimize(n)}if(e.left.equivalent_to(e.right)&&!e.left.has_side_effects(n))return e.right;if(t=e.left.expression,t instanceof ee||!n.has_directive("use strict")&&t instanceof Jn&&!t.may_throw_on_access(n))return e.left instanceof on?e.right:Ot(e,[e.left.property,e.right]).optimize(n)}}else if(e.left instanceof Rn&&S(e.left,n)){if("="==e.operator&&e.left.equivalent_to(e.right)&&!((u=n.parent())instanceof cn&&"delete"==u.operator))return e.right;if(e.left.is_immutable())return v();var i,r,o=e.left.definition(),a=o.scope.resolve(),s=a===n.find_parent(ee),f=0,u=n.self();if(!a.uses_arguments||!c(o)||n.has_directive("use strict"))do{if(i=u,(u=n.parent(f++))instanceof dn){if(u.left instanceof Rn&&u.left.definition()===o){if(h(f,u))break;return v(o)}if(u.left.match_symbol((function(e){if(e instanceof rn)return!0})))break}else{if(u instanceof Ae){if(!s)break;if(h(f,u))break;if(Er(a,[o]))break;return v(o)}if(u instanceof F){if(!s)break;if(Er(a,[o]))break;do{if(r=u,(u=n.parent(f++))===a&&ei(u.body,r))return v(o)}while(l=r,(p=u)instanceof I||p instanceof Ie||p instanceof He?ei(p.body,l):p instanceof Ce?p.body===l||p.alternative===l:p instanceof Ne?p.bfinally?p.bfinally===l:p.bcatch===l:void 0);break}if(u instanceof Ue&&u.name instanceof $n&&u.name.definition()===o){if(h(f,u))break;return v(o)}}}while(function(e,n){if(n instanceof ln)return n.right===e||n.right.is_constant_expression(a);if(n instanceof pn)return n.condition!==e||n.consequent.is_constant_expression(a)&&n.alternative.is_constant_expression(a);if(n instanceof nn){var t=n.expressions,i=t.indexOf(e);if(i<0)return!1;for(var r=t.length;--r>i;)if(!t[r].is_constant_expression(a))return!1;return!0}return n instanceof cn||void 0}(i,u))}var l,p;if(n.option("sequences")){var d=e.lift_sequences(n);if(d!==e)return d.optimize(n)}if(n.option("assignments")){if("="==e.operator&&e.left instanceof Rn&&e.right instanceof ln){if(e.right.left instanceof Rn&&e.right.left.name==e.left.name&&Sr[e.right.operator])return Dt(dn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.right});if(e.right.right instanceof Rn&&e.right.right.name==e.left.name&&Tr[e.right.operator]&&!e.right.left.has_side_effects(n))return Dt(dn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.left})}if(("-="==e.operator||"+="==e.operator&&(e.left.is_boolean(n)||e.left.is_number(n)))&&e.right instanceof Kn&&1==e.right.value)return d=e.operator.slice(0,-1),Dt(cn,e,{operator:d+d,expression:e.left})}return _i(n,e);function h(t,i){var r=e.right;e.right=Dt(tt,r);var o,s=i.may_throw(n);for(e.right=r;o=n.parent(t++);i=o){if(o===a)return;if(o instanceof Ne){if(o.bfinally&&o.bfinally!==i)return 1;if(s&&o.bcatch&&o.bcatch!==i)return 1}}}function v(t){return t&&(t.fixed=!1),("="!=e.operator?Dt(ln,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}):Ft(0,n.parent(),e,e.right)).optimize(n)}})),e(pn,(function(e,n){if(n.option("sequences")&&e.condition instanceof nn){var t=e.condition.expressions.slice();return e.condition=t.pop(),t.push(e),Ot(e,t)}if(!n.option("conditionals"))return e;var i=e.condition;if(n.option("booleans")&&!i.has_side_effects(n)&&nr(n,i),!(i=er(n,i)))return T.warn("Condition always false [{file}:{line},{col}]",e.start),Ot(e,[e.condition,e.alternative]).optimize(n);if(!(i instanceof T))return T.warn("Condition always true [{file}:{line},{col}]",e.start),Ot(e,[e.condition,e.consequent]).optimize(n);var r=i.negate(n,k(n));di(n,i,r)===r&&(e=Dt(pn,e,{condition:r,consequent:e.alternative,alternative:e.consequent}),r=i,i=e.condition);var o=e.consequent,a=e.alternative;if(gr(n,i)){if(i.equivalent_to(o))return Dt(ln,e,{operator:"||",left:i,right:a}).optimize(n);if(i.equivalent_to(a))return Dt(ln,e,{operator:"&&",left:i,right:o}).optimize(n)}var s=o.tail_node();if(s instanceof dn){var f="="==s.operator;t=f?a.tail_node():a;if((f||o===s)&&t instanceof dn&&s.operator==t.operator&&s.left.equivalent_to(t.left)&&(f&&s.left instanceof Rn||!i.has_side_effects(n)&&m(o)&&m(a)))return Dt(dn,e,{operator:s.operator,left:s.left,right:Dt(pn,e,{condition:i,consequent:_(o),alternative:_(a)})})}if(o.equivalent_to(a))return Ot(e,[i,o]).optimize(n);var c;f=function n(t,r,o){return v(t,r)?(o=t.clone(),o.expression=n(t.expression,r.expression),o):!o&&Dt(pn,e,{condition:i,consequent:t,alternative:r})}(o,a,!0);if(f)return f;if(o instanceof Qe&&a.TYPE==o.TYPE&&0<=(c=h(o,a))&&o.expression.equivalent_to(a.expression)&&!i.has_side_effects(n)&&!o.expression.has_side_effects(n))return s=o.clone(),f=o.args[c],s.args[c]=f instanceof sn?Dt(sn,e,{expression:Dt(pn,e,{condition:i,consequent:f.expression,alternative:a.args[c].expression})}):Dt(pn,e,{condition:i,consequent:f,alternative:a.args[c]}),s;if(o instanceof pn&&o.alternative.equivalent_to(a))return Dt(pn,e,{condition:Dt(ln,e,{left:i,operator:"&&",right:o.condition}),consequent:o.consequent,alternative:a});if(o instanceof pn&&o.consequent.equivalent_to(a))return Dt(pn,e,{condition:Dt(ln,e,{left:r,operator:"||",right:o.condition}),consequent:a,alternative:o.alternative});if(a instanceof pn&&o.equivalent_to(a.consequent))return Dt(pn,e,{condition:Dt(ln,e,{left:i,operator:"||",right:a.condition}),consequent:o,alternative:a.alternative});if(a instanceof pn&&o.equivalent_to(a.alternative))return Dt(pn,e,{condition:Dt(ln,e,{left:r,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:o});if((o instanceof nn||a instanceof nn)&&o.tail_node().equivalent_to(a.tail_node()))return Ot(e,[Dt(pn,e,{condition:i,consequent:g(o),alternative:g(a)}),o.tail_node()]).optimize(n);if(o instanceof ln&&"&&"==o.operator&&o.right.equivalent_to(a))return Dt(ln,e,{operator:"&&",left:Dt(ln,e,{operator:"||",left:r,right:o.left}),right:a}).optimize(n);if(o instanceof ln&&"||"==o.operator&&o.right.equivalent_to(a))return Dt(ln,e,{operator:"||",left:Dt(ln,e,{operator:"&&",left:i,right:o.left}),right:a}).optimize(n);if(a instanceof ln&&"&&"==a.operator&&a.right.equivalent_to(o))return Dt(ln,e,{operator:"&&",left:Dt(ln,e,{operator:"||",left:i,right:a.left}),right:o}).optimize(n);if(a instanceof ln&&"||"==a.operator&&a.right.equivalent_to(o))return Dt(ln,e,{operator:"||",left:Dt(ln,e,{operator:"&&",left:r,right:a.left}),right:o}).optimize(n);var u=n.option("booleans")&&n.in_boolean_context();return p(o)?d(a)?l(i):Dt(ln,e,{operator:"||",left:l(i),right:a}):d(o)?p(a)?l(i.negate(n)):Dt(ln,e,{operator:"&&",left:l(i.negate(n)),right:a}):p(a)?Dt(ln,e,{operator:"||",left:l(i.negate(n)),right:o}):d(a)?Dt(ln,e,{operator:"&&",left:l(i),right:o}):(n.option("typeofs")&&Qi(i,o,a),e);function l(e){return e.is_boolean(n)?e:Dt(cn,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof ct||u&&e instanceof Jn&&e.value||e instanceof cn&&"!"==e.operator&&e.expression instanceof Jn&&!e.expression.value}function d(e){return e instanceof ft||u&&(e instanceof Jn&&!e.value||e instanceof cn&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof cn&&"!"==e.operator&&e.expression instanceof Jn&&e.expression.value}function h(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){if(t[o]instanceof sn!=i[o]instanceof sn)return-3;for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function v(e,n){if(e.TYPE==n.TYPE&&e.optional==n.optional){if(e instanceof Qe)return-1!=h(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof rn||n.expression instanceof rn)||v(e.expression,n.expression);if(e instanceof rn){var t=e.property,i=n.property;return(t instanceof T?t.equivalent_to(i):t==i)&&!(e.expression instanceof Vn||n.expression instanceof Vn)}}}function m(e){return e===e.tail_node()||y(e.expressions.slice(0,-1),(function(e){return!e.has_side_effects(n)}))}function _(e){if(!(e instanceof nn))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),Ot(e,n)}function g(e){return e instanceof nn?Ot(e,e.expressions.slice(0,-1)):Dt(Kn,e,{value:0})}})),e(st,(function(e,n){return n.option("booleans")?n.in_boolean_context()?Dt(Kn,e,{value:+e.value}):(n=n.parent(),n instanceof ln&&("=="==n.operator||"!="==n.operator)?(T.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),Dt(Kn,e,{value:+e.value})):Dt(cn,e,{operator:"!",expression:Dt(Kn,e,{value:1-e.value})})):e})),e(sn,(function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof mn&&!(n.parent()instanceof kn)?v.splice(t.elements.map((function(e){return e instanceof ot?Dt(rt,e).optimize(n):e}))):e})),e(an,(function(e,n){var t=e.expression,i=e.property,r=fr(e,n);if(r)return r;if(n.option("properties")){var a=i.evaluate(n);if(a!==i){"string"==typeof a&&("undefined"==a?a=void 0:(g=parseFloat(a)).toString()==a&&(a=g));i=e.property=li(i,$t(a,i).transform(n));var s=""+a;if(qt(s)&&s.length<=i.print_to_string().length+1)return Dt(on,e,{optional:e.optional,expression:t,property:s}).optimize(n)}}var c,u,l,p,d=n.parent();r=Wt(n.self(),d);if(n.option("arguments")&&t instanceof Rn&&f(c=t.definition())&&!t.in_arg&&i instanceof Kn&&Math.floor(m=i.value)==m&&(u=c.scope)===function(){for(var e,t=0;e=n.parent(t++);)if(e instanceof ee){if(e instanceof ne)return;if(!ie(e))return l=n.parent(t),e}}()&&u.uses_arguments<(r?2:3)){d instanceof cn&&"delete"==d.operator&&(c.deleted||(c.deleted=[]),c.deleted[m]=!0);var h=u.argnames[m];if(c.deleted&&c.deleted[m])h=null;else if(h)(!(h instanceof Fn&&"await"!=h.name&&t.scope.find_variable(h.name)===(v=h.definition()))||(n.has_directive("use strict")||u.name||u.rest||!(l instanceof Qe&&m<l.args.length&&y(l.args.slice(0,m+1),(function(e){return!(e instanceof sn)})))||!y(u.argnames,(function(e){return e instanceof Fn})))&&(E()||v.assignments||1<v.orig.length))&&(h=null);else if((r||!E())&&m<u.argnames.length+5&&n.drop_fargs(u,l)&&!u.rest)for(;m>=u.argnames.length;)h=u.make_var(Fn,u,"argument_"+u.argnames.length),u.argnames.push(h);if(h&&o((function(e){return e.name===h.name}),u.argnames)===h){r&&c.reassigned--;var v=Dt(Rn,e,h);return v.reference(),delete h.__unused,v}}if(r)return e;if(n.option("sequences")&&"Call"!=d.TYPE&&!(d instanceof W&&d.init===e)&&(d=cr(e),d!==e))return d.optimize(n);if(a===i||(_=e.flatten_object(s,n))&&(t=e.expression=_.expression,i=e.property=_.property),n.option("properties")&&n.option("side_effects")&&i instanceof Kn&&t instanceof mn&&y(p=t.elements,(function(e){return!(e instanceof sn)}))){var m,_=p[m=i.value];if(Ar(_,n)){for(var g,b=_ instanceof ot,w=!b,x=[],k=p.length;--k>m;)(g=p[k].drop_side_effect_free(n))&&(x.unshift(g),w&&g.has_side_effects(n)&&(w=!1));for(w||x.unshift(_);0<=--k;)(g=p[k].drop_side_effect_free(n))?x.unshift(g):b?x.unshift(Dt(ot,p[k])):m--;return w?(x.push(_),Ot(e,x).optimize(n)):Dt(an,e,{expression:Dt(mn,t,{elements:x}),property:Dt(Kn,i,{value:m})})}}return _i(n,e);function E(){return!n.option("reduce_vars")||c.reassigned}})),se.DEFMETHOD("contains_super",l),fe.DEFMETHOD("contains_super",l),ee.DEFMETHOD("contains_super",(function(){var e,n=this;return n.walk(new ut((function(t){return!!e||(t instanceof Vn?e=!0:t!==n&&t instanceof K&&!ie(t)||void 0)}))),e})),de.DEFMETHOD("contains_super",l),K.DEFMETHOD("contains_super",l),se.DEFMETHOD("contains_this",l),fe.DEFMETHOD("contains_this",l),T.DEFMETHOD("contains_this",(function(){var e,n=this;return n.walk(new ut((function(t){return!!e||(t instanceof Wn?e=!0:t!==n&&t instanceof K&&!ie(t)||void 0)}))),e})),rn.DEFMETHOD("flatten_object",(function(e,n){if(n.option("properties")&&"__proto__"!==e){var t=this.expression;if(t instanceof kn)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key===e){if(!y(i,Dr))break;if(!Ar(o.value,n))break;if(i=i.map((function(e){return e.value})),o instanceof Tn&&o.value instanceof le&&!(n.parent()instanceof Qe)){if(o.value.uses_arguments)break;i[r]=Dt(se,o.value,o.value)}return Dt(an,this,{expression:Dt(mn,t,{elements:i}),property:Dt(Kn,this,{value:r})})}}}})),e(on,(function(e,n){"arguments"!=e.property&&"caller"!=e.property||T.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(Wt(n.self(),t))return e;var i=fr(e,n);if(i)return i;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof W&&t.init===e)){var r=cr(e);if(r!==e)return r.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof on&&"prototype"==e.expression.property){var o=e.expression.expression;if(Jt(o))switch(o.name){case"Array":e.expression=Dt(mn,e.expression,{elements:[]});break;case"Function":e.expression=Dt(le,e.expression,{argnames:[],body:[]}).init_vars(o.scope);break;case"Number":e.expression=Dt(Kn,e.expression,{value:0});break;case"Object":e.expression=Dt(kn,e.expression,{properties:[]});break;case"RegExp":e.expression=Dt(et,e.expression,{value:/t/});break;case"String":e.expression=Dt(Xn,e.expression,{value:""})}}return r=e.flatten_object(e.property,n),r?r.optimize(n):_i(n,e)})),e(yn,(function(e,n){return n.option("rests")&&e.rest instanceof yn?Dt(yn,e,{elements:e.elements.concat(e.rest.elements),rest:e.rest.rest}):e})),e(wn,(function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof T&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e})),e(kn,(function(e,n){if(!n.option("objects"))return e;var t,i=!1,r=!1,o=!1,a=n.has_directive("use strict"),s=new w,f=[];return e.properties.forEach((function(e){if(!(e instanceof sn))return u(e);r=!0;var t=e.expression;n.option("spreads")&&t instanceof kn&&y(t.properties,(function(e){return!(e instanceof Dn)&&!(e instanceof sn)&&("__proto__"!==e.key||e instanceof An||!e.value.has_side_effects(n))}))?(i=!0,t.properties.forEach((function(e){var t=e.key,i=e instanceof An;if("__proto__"===t){if(!i)return;t=$t(t,e)}u(i?Dt(Sn,e,{key:t,value:Dt(rt,e).optimize(n)}):e)}))):(o=!0,c(),f.push(e))})),c(),i?(r&&o&&1==f.length&&(t=f[0])instanceof En&&t.key instanceof Kn&&(t.key=""+t.key.value),Dt(kn,e,{properties:f})):e;function c(){s.each((function(n){if(1==n.length)return f.push(n[0]);i=!0;var t=a&&!o&&n.pop();f.push(1==n.length?n[0]:Dt(Sn,e,{key:n[0].key,value:Ot(e,n.map((function(e){return e.value})))})),t&&f.push(t)})),s=new w}function u(e){var t=e.key;t instanceof T&&(r=!0,(t=t.evaluate(n))===e.key||"__proto__"===t?o=!0:t=e.key=""+t),Dr(e)?(e.value.has_side_effects(n)&&c(),s.add(t,e)):(c(),f.push(e)),r&&!o&&"string"==typeof t&&C.test(t)&&(o=!0,(e=s.has(t)?s.get(t)[0]:e).key=Dt(Kn,e,{value:+t}))}})),e(De,(function(e,n){return n.option("side_effects")&&e.value&&ii(e.value,n)&&!Et(n.find_parent(K))&&(e.value=null),e}))}((function(e,n){e.DEFMETHOD("optimize",(function(e){return this._optimized||e.has_directive("use asm")?this:(e=n(this,e),e._optimized=!0,e)}))})),function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var n=!1;T.DEFMETHOD("print",(function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}));var t=ui({inline_script:!1,shebang:!1,width:!1});function i(e,n){e.DEFMETHOD("needs_parens",n)}function r(e){var n=e.parent();return!e.has_parens()&&k(e,!1,!0)?this.name||!(n instanceof We):!!(e.option("webkit")&&n instanceof rn&&n.expression===this)||!!(e.option("wrap_iife")&&n instanceof Qe&&n.expression===this)||void 0}function o(e){return!e.has_parens()&&k(e,!0)}function a(e){return e=e.parent(),e instanceof ln?"**"==e.operator&&e.left===this:e instanceof Qe?e.expression===this:e instanceof ge||(e instanceof rn?e.expression===this:e instanceof Gn?e.tag===this:void 0)}function s(e,n){return!!e.terminal&&(n instanceof Qe||n instanceof rn)&&n.expression===e}function f(e,n){return n=n.parent(),n instanceof hn||(n instanceof ln?!(n instanceof dn):n instanceof Qe?n.expression===e:n instanceof ge||(n instanceof pn?n.condition===e:n instanceof rn?n.expression===e:n instanceof Gn?n.tag===e:n instanceof fn||void 0))}function c(e,t,i,r){var o=e.length-1,a=r;r=n;e.forEach((function(e,r){a&&(e instanceof $?"use asm"==e.value&&(n=!0):e instanceof z||(e instanceof F&&e.body instanceof Xn&&i.force_semicolon(),a=!1)),e instanceof z||(i.indent(),e.print(i),r==o&&t||(i.newline(),t&&i.newline()))})),n=r}function p(e,n){n.print("{"),n.with_indent((function(){n.append_comments(e,!0)})),n.print("}")}function d(e,n,t){0<e.body.length?n.with_block((function(){c(e.body,!1,n,t)})):p(e,n)}function h(e,n){return function(t){var i=this;t.print(e),t.space(),t.with_parens((function(){i.init.print(t),t.space(),t.print(n),t.space(),i.object.print(t)})),N(i.body,t)}}function v(e,n){n.with_parens((function(){e.argnames.forEach((function(e,t){t&&n.comma(),e.print(n)})),e.rest&&(e.argnames.length&&n.comma(),n.print("..."),e.rest.print(n))}))}function m(e,n){1==e.argnames.length&&e.argnames[0]instanceof Fn&&!e.rest?e.argnames[0].print(n):v(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):d(e,n,!0)}function _(e,n){e.name&&(n.space(),e.name.print(n)),v(e,n),n.space(),d(e,n,!0)}function g(e){e.print("async"),e.space(),e.print("function"),_(this,e)}function b(e){e.print("async"),e.space(),e.print("function*"),_(this,e)}function y(e){e.print("function*"),_(this,e)}function w(e,n){var t=e.value;re(t)&&(n.print("async"),n.space()),oe(t)&&n.print("*"),M(e,n),_(e.value,n)}function x(e,n){return function(t){t.print(e);var i=this[n];i&&(t.space(),i.print(t)),t.semicolon()}}function E(e,n){n.newline(),e.body.forEach((function(e){n.indent(),e.print(n),n.newline()}))}function S(e){return function(n){n.print(e),n.space(),this.definitions.forEach((function(e,t){t&&n.comma(),e.print(n)}));var t=n.parent();t instanceof R&&t.init===this||n.semicolon()}}function A(e,n,t){var i=!1;t&&e.walk(new ut((function(e){return!!i||(e instanceof ln&&"in"==e.operator?i=!0:e instanceof K&&(!ie(e)||!e.value)||void 0)}))),e.print(n,i)}function D(e,n){if(n.option("annotations")&&e.pure){var t,i=0,r=e;do{if(t=r,(r=n.parent(i++))instanceof Qe&&r.expression===t)return}while(r instanceof rn&&r.expression===t);n.print("string"==typeof e.pure?"/*"+e.pure+"*/":"/*@__PURE__*/")}}function q(e,n){(e.expression instanceof Qe||e.expression instanceof ee)&&n.add_mapping(e.start),n.with_parens((function(){e.args.forEach((function(e,t){t&&n.comma(),e.print(n)}))}))}function C(e,n,t){var i=e.properties;0<i.length?n.with_block((function(){i.forEach((function(e,i){i&&(t||n.print(","),n.newline()),n.indent(),e.print(n)})),n.newline()})):p(e,n)}function M(e,n){var t=e.key;if(t instanceof T)return n.with_square((function(){t.print(n)}));var i=e.start&&e.start.quote;if(n.option("quote_keys")||i&&n.option("keep_quoted_props"))n.print_string(t,i);else if(""+ +t==t&&0<=t)n.print(ne(t));else if(e.private)n.print_name(t);else{if(ht[t]?!n.option("ie"):qt(t))return n.print_name(t),t;n.print_string(t,i)}}function j(e){return function(n){this.static&&(n.print("static"),n.space()),n.print(e),n.space(),M(this,n),_(this.value,n)}}function P(e){var n=e.definition();return n&&n.mangled_name||e.name}function N(e,n){n.option("braces")&&!(e instanceof Re||e instanceof Le)?ae(e,n):e instanceof z?n.force_semicolon():(n.space(),e.print(n))}function L(e,n){return 0<e.args.length||n.option("beautify")}function ne(e){var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i];return Math.floor(e)===e&&(e<0?r.push("-0x"+(-e).toString(16).toLowerCase()):r.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/0+$/.exec(i))?(t=n[0].length,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(r)}function ae(e,n){n.space(),e instanceof z?p(e,n):e instanceof I?e.print(n):n.with_block((function(){n.indent(),e.print(n),n.newline()}))}function me(e,n){e.forEach((function(e){e.DEFMETHOD("add_source_map",n)}))}T.DEFMETHOD("print_to_string",(function(e){return e?(e=ui(e),this.print(e),e.get()):(this.print(t),t.reset())})),i(T,l),i(ce,r),i(ue,r),i(ye,r),i(le,r),i(pe,r),i(kn,o),i(hn,a),i(fn,a),i(nn,(function(e){return e=e.parent(),e instanceof mn||ie(e)&&e.value===this||e instanceof hn||e instanceof ln||e instanceof Qe||e instanceof ge||e instanceof we||e instanceof pn||e instanceof Xe||e instanceof wn||e instanceof We||e instanceof G||e instanceof En||e instanceof rn&&e.expression===this||e instanceof sn||e instanceof Gn&&e.tag===this||e instanceof fn||e instanceof Ue||e instanceof vn})),i(ln,(function(e){var n=e.parent();if(n instanceof hn)return!0;if(n instanceof ln){var t=n.operator,i=Rt[t],r=this.operator;e=Rt[r];return e<i||"??"==t&&("&&"==r||"||"==r)||i==e&&this===n["**"==t?"left":"right"]}return n instanceof Qe?n.expression===this:n instanceof ge||(n instanceof rn?n.expression===this:n instanceof Gn?n.tag===this:n instanceof fn||void 0)})),i(rn,(function(e){return e=e.parent(),e instanceof en&&e.expression===this&&"Call"==tn(this).TYPE||s(this,e)})),i(Qe,(function(e){var n=e.parent();return n instanceof en?n.expression===this:!!(e.option("webkit")&&this.expression instanceof le&&n instanceof rn&&n.expression===this&&(e=e.parent(1),e instanceof dn&&e.left===n))||s(this,n)})),i(en,(function(e){return!L(this,e)&&(e=e.parent(),e instanceof Qe?e.expression===this:e instanceof rn||(e instanceof Gn?e.tag===this:void 0))})),i(Kn,(function(e){return!!e.option("galio")&&(e=e.parent(),e instanceof rn&&e.expression===this&&/^0/.test(ne(this.value)))})),i(se,(function(e){return f(this,e)})),i(dn,(function(e){return!!f(this,e)||(e.option("v8")?this.left instanceof _n:this.left instanceof xn?o(e):void 0)})),i(fe,(function(e){return f(this,e)})),i(pn,(function(e){return f(this,e)})),i(vn,(function(e){return f(this,e)})),e($,(function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()})),e(O,(function(e){e.print("debugger"),e.semicolon()})),e(Q,(function(e){c(this.body,!0,e,!0),e.print("")})),e(Y,(function(e){this.label.print(e),e.colon(),this.body.print(e)})),e(F,(function(e){this.body.print(e),e.semicolon()})),e(I,(function(e){d(this,e)})),e(z,(function(e){e.semicolon()})),e(B,(function(e){var n=this;e.print("do"),ae(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),e.semicolon()})),e(U,(function(e){var n=this;e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),N(n.body,e)})),e(V,(function(e){var n=this;e.print("for"),e.space(),e.with_parens((function(){n.init?(n.init instanceof Ye?n.init.print(e):A(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)})),N(n.body,e)})),e(J,h("for await","of")),e(Z,h("for","in")),e(G,h("for","of")),e(X,(function(e){var n=this;e.print("with"),e.space(),e.with_parens((function(){n.expression.print(e)})),N(n.body,e)})),e(Ve,(function(e){e.print("export"),e.space(),this.body.print(e)})),e(We,(function(e){e.print("export"),e.space(),e.print("default"),e.space();var n=this.body;n.print(e),n instanceof ye&&!n.name||n instanceof be||n instanceof de||n instanceof te&&!n.name&&!ie(n)||e.semicolon()})),e(Ze,(function(e){var n=this;e.print("export"),e.space();var t=n.keys.length;function i(t){var i=n.aliases[t];t=n.keys[t];e.print_name(t),i!=t&&(e.space(),e.print("as"),e.space(),e.print_name(i))}0==t?p(n,e):"*"==n.keys[0]?i(0):e.with_block((function(){e.indent(),i(0);for(var n=1;n<t;n++)e.print(","),e.newline(),e.indent(),i(n);e.newline()})),e.space(),e.print("from"),e.space(),e.print_string(n.path,n.quote),e.semicolon()})),e(Ge,(function(e){e.print("export"),e.space(),C(this,e),e.semicolon()})),e(Je,(function(e){var n=this;e.print("import"),e.space(),n.default&&n.default.print(e),n.all&&(n.default&&e.comma(),n.all.print(e)),n.properties&&(n.default&&e.comma(),C(n,e)),(n.all||n.default||n.properties)&&(e.space(),e.print("from"),e.space()),e.print_string(n.path,n.quote),e.semicolon()})),e(se,(function(e){m(this,e)})),e(fe,(function(e){e.print("async"),e.space(),m(this,e)})),e(ee,(function(e){e.print("function"),_(this,e)})),e(he,g),e(ce,g),e(ve,b),e(ue,b),e(_e,y),e(pe,y),e(ge,(function(e){e.print("class"),this.name&&(e.space(),this.name.print(e)),this.extends&&(e.space(),e.print("extends"),e.space(),this.extends.print(e)),e.space(),C(this,e,!0)})),e(xe,(function(e){this.static&&(e.print("static"),e.space()),M(this,e),this.value&&(e.space(),e.print("="),e.space(),this.value.print(e)),e.semicolon()})),e(ke,j("get")),e(Ee,j("set")),e(Se,(function(e){this.static&&(e.print("static"),e.space()),w(this,e)})),e(De,x("return","value")),e(Oe,x("throw","value")),e(ze,x("break","label")),e(qe,x("continue","label")),e(Ce,(function(e){var n=this;e.print("if"),e.space(),e.with_parens((function(){n.condition.print(e)})),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof Re||t instanceof Le)||n.option("ie")&&t instanceof B)return ae(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Ce){if(!t.alternative)return ae(e.body,n);t=t.alternative}else{if(!(t instanceof H))break;t=t.body}N(e.body,n)}(n,e),e.space(),e.print("else"),n.alternative instanceof Ce?(e.space(),n.alternative.print(e)):N(n.alternative,e)):N(n.body,e)})),e(Me,(function(e){var n=this;e.print("switch"),e.space(),e.with_parens((function(){n.expression.print(e)})),e.space();var t=n.body.length-1;t<0?p(n,e):e.with_block((function(){n.body.forEach((function(n,i){e.indent(!0),n.print(e),i<t&&0<n.body.length&&e.newline()}))}))})),e(je,(function(e){e.print("default:"),E(this,e)})),e(Pe,(function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),E(this,e)})),e(Ne,(function(e){e.print("try"),e.space(),d(this,e),this.bcatch&&(e.space(),this.bcatch.print(e)),this.bfinally&&(e.space(),this.bfinally.print(e))})),e(Ie,(function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens((function(){n.argname.print(e)}))),e.space(),d(n,e)})),e(He,(function(e){e.print("finally"),e.space(),d(this,e)})),e(Re,S("const")),e(Le,S("let")),e(Be,S("var")),e(Ue,(function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=(n=e.parent(1))instanceof V||n instanceof W,A(this.value,e,n))})),e(Xe,(function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)})),e(Qe,(function(e){D(this,e),this.expression.print(e),this.optional&&e.print("?."),q(this,e)})),e(en,(function(e){D(this,e),e.print("new"),e.space(),this.expression.print(e),L(this,e)&&q(this,e)})),e(nn,(function(e){this.expressions.forEach((function(n,t){0<t&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),n.print(e)}))})),e(on,(function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie")&&ht[t]?(e.print(this.optional?"?.[":"["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof Kn&&!/[ex.)]/i.test(e.last())&&e.print("."),e.print(this.optional?"?.":"."),e.add_mapping(this.end),e.print_name(t))})),e(an,(function(e){this.expression.print(e),e.print(this.optional?"?.[":"["),this.property.print(e),e.print("]")})),e(sn,(function(e){e.print("..."),this.expression.print(e)})),e(cn,(function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof cn&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)})),e(un,(function(e){this.expression.print(e),e.print(this.operator)})),e(ln,(function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)})),e(pn,(function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)})),e(hn,(function(e){e.print("await"),e.space(),this.expression.print(e)})),e(vn,(function(e){e.print(this.nested?"yield*":"yield"),this.expression&&(e.space(),this.expression.print(e))})),e(mn,(function(e){var n=this.elements,t=n.length;e.with_square(0<t?function(){e.space(),n.forEach((function(n,i){i&&e.comma(),n.print(e),i===t-1&&n instanceof ot&&e.comma()})),e.space()}:u)})),e(yn,(function(e){var n=this.elements,t=n.length,i=this.rest;e.with_square(t||i?function(){e.space(),n.forEach((function(n,t){t&&e.comma(),n.print(e)})),i?(t&&e.comma(),e.print("..."),i.print(e)):n[t-1]instanceof ot&&e.comma(),e.space()}:u)})),e(wn,(function(e){var n=M(this,e),t=this.value;if(n)if(t instanceof Xe){if(t.name instanceof On&&n==P(t.name))return e.space(),e.print("="),e.space(),void t.value.print(e)}else if(t instanceof On&&n==P(t))return;e.colon(),t.print(e)})),e(xn,(function(e){var n=this.properties,t=n.length,i=this.rest;t||i?e.with_block((function(){n.forEach((function(n,t){t&&(e.print(","),e.newline()),e.indent(),n.print(e)})),i&&(t&&(e.print(","),e.newline()),e.indent(),e.print("..."),i.print(e)),e.newline()})):p(this,e)})),e(kn,(function(e){C(this,e)})),e(Sn,(function(e){M(this,e),e.colon(),this.value.print(e)})),e(Tn,(function(e){w(this,e)})),e(Dn,j("get")),e(An,j("set")),e(On,(function(e){e.print_name(P(this))})),e(Ln,(function(e){var n=P(this);e.print_name(n);var t=this.alias;t!=n&&(e.space(),e.print("as"),e.space(),e.print_name(t))})),e(qn,(function(e){var n=P(this),t=this.key;t&&t!=n&&(e.print_name(t),e.space(),e.print("as"),e.space()),e.print_name(n)})),e(ot,u),e(Gn,(function(e){this.tag&&this.tag.print(e),e.print("`");for(var n=0;n<this.expressions.length;n++)e.print(this.strings[n]),e.print("${"),this.expressions[n].print(e),e.print("}");e.print(this.strings[n]),e.print("`")})),e(Jn,(function(e){e.print(""+this.value)})),e(Xn,(function(e){e.print_string(this.value,this.quote)})),e(Kn,(function(e){var t=this.start;n&&t&&null!=t.raw?e.print(t.raw):e.print(ne(this.value))})),e(et,(function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,(function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"}))+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,(function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})).replace(/[\n\r\u2028\u2029]/g,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))),t=e.parent(),t instanceof ln&&/^in/.test(t.operator)&&t.left===this&&e.print(" ")})),me([T,Y],u),me([mn,I,Ie,Jn,O,Ye,_n,He,Te,ee,en,kn,H,On,Me,Fe,Ne],(function(e){e.add_mapping(this.start)})),me([we,wn,En],(function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)}))}();var li=n("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),pi=li.reduce((function(e,n,t){return e[n]=t,e}),Object.create(null));function di(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=li[t],e);return n}function hi(){var e=Object.create(null),n=[];return n.index=function(t){return x(e,t)||(e[t]=n.length,n.push(t)),e[t]},n}function vi(e){var n,t=hi(),i=e.includeSources&&Object.create(null),r=hi(),o="";e.orig&&Object.keys(e.orig).forEach((function(n){var t=e.orig[n],r=[0,0,1,0,0];if(e.orig[n]={names:t.names,mappings:t.mappings.split(/;/).map((function(e){return r[0]=0,e.split(/,/).map((function(e){return r.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=pi[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(r,e))}))})),sources:t.sources},i&&t.sourcesContent)for(var o=0;o<t.sources.length;o++){var a=t.sourcesContent[o];a&&(i[t.sources[o]]=a)}}));var a=1,s=0,f=0,c=1,l=0,p=0;return{add:e.orig?function(n,t,i,r,o,a){var s=e.orig[n];if(s){var f,c=s.mappings[r-1];if(!c)return;for(var u=0;u<c.length;u++){var l=c[u][0];if(l<=o&&(f=c[u]),o<=l)break}!f||f.length<4?n=null:(n=s.sources[f[1]],r=f[2],o=f[3],4<f.length&&(a=s.names[f[4]]))}d(n,t,i,r,o,a)}:d,setSourceContent:i?function(e,n){e in i||(i[e]=n)}:u,toString:function(){return JSON.stringify({version:3,file:e.filename||void 0,sourceRoot:e.root||void 0,sources:t,sourcesContent:i?t.map((function(e){return i[e]||null})):void 0,names:r,mappings:o})}};function d(i,u,d,h,v,m){if(null!=n||null!=i){if(n=i,a<u)for(s=0;o+=";",++a<u;);else o&&(o+=",");o+=di(d-s),s=d,null!=i&&(i=t.index(i),o+=di(i-f),f=i,o+=di(h-c),c=h,o+=di(v-l),l=v,e.names&&null!=m&&(m=r.index(m),o+=di(m-p),p=m))}}}!function(){var n={Program:function(e){return new Q({start:f(e),end:c(e),body:a(e.body.map(d))})},ArrowFunctionExpression:function(e){var n=[],t=null;e.params.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(d(e))}));var i=new(e.async?fe:se)({start:f(e),end:c(e),argnames:n,rest:t});e=d(e.body);return e instanceof I?(i.body=a(e.body),i.value=null):(i.body=[],i.value=e),i},FunctionDeclaration:function(e){var n=e.async?e.generator?ve:he:e.generator?_e:me,t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:f(e),end:c(e),name:d(e.id),argnames:t,rest:i,body:a(d(e.body).body)})},FunctionExpression:function(e){var n=e.async?e.generator?ue:ce:e.generator?pe:le,t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:f(e),end:c(e),name:d(e.id),argnames:t,rest:i,body:a(d(e.body).body)})},ClassDeclaration:function(e){return new be({start:f(e),end:c(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},ClassExpression:function(e){return new ye({start:f(e),end:c(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},MethodDefinition:function(e){var n=e.key,t=!1,i=(n=e.computed?d(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):u(n),Se),r=d(e.value);switch(e.kind){case"get":i=ke,r=new ne(r);break;case"set":i=Ee,r=new ne(r)}return new i({start:f(e),end:c(e),key:n,private:t,static:e.static,value:r})},PropertyDefinition:function(e){var n=e.key,t=!1;n=e.computed?d(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):u(n);return new xe({start:f(e),end:c(e),key:n,private:t,static:e.static,value:d(e.value)})},ForOfStatement:function(e){return new(e.await?J:G)({start:f(e),end:c(e),init:d(e.left),object:d(e.right),body:d(e.body)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Ne({start:f(e),end:c(e),body:d(e.block).body,bcatch:d(n[0]),bfinally:e.finalizer?new He(d(e.finalizer)):null})},Property:function(e){var n=(e.computed?d:u)(e.key);n={start:f(e),end:c(e),key:n,value:d(e.value)};return"init"==e.kind?new(e.method?Tn:Sn)(n):(n.value=new ne(n.value),"get"==e.kind?new Dn(n):"set"==e.kind?new An(n):void 0)},ArrayExpression:function(e){return new mn({start:f(e),end:c(e),elements:e.elements.map((function(e){return null===e?new ot:d(e)}))})},ArrayPattern:function(e){var n=[],t=null;return e.elements.forEach((function(e){null===e?n.push(new ot):"RestElement"==e.type?t=d(e.argument):n.push(d(e))})),new yn({start:f(e),end:c(e),elements:n,rest:t})},ObjectPattern:function(e){var n=[],t=null;return e.properties.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(new wn(d(e)))})),new xn({start:f(e),end:c(e),properties:n,rest:t})},MemberExpression:function(e){return new(e.computed?an:on)({start:f(e),end:c(e),optional:e.optional,expression:d(e.object),property:e.computed?d(e.property):e.property.name})},MetaProperty:function(e){var n=d(e.meta),t=u(e.property);return"new"==n.name&&"target"==t?new Zn({start:f(e),end:c(e),name:"new.target"}):new on({start:f(e),end:c(e),expression:n,property:t})},SwitchCase:function(e){return new(e.test?Pe:je)({start:f(e),end:c(e),expression:d(e.test),body:e.consequent.map(d)})},ExportAllDeclaration:function(e){var n=e.exported?u(e.exported):"*";return new Ze({start:f(e),end:c(e),aliases:[n],keys:["*"],path:e.source.value})},ExportDefaultDeclaration:function(e){var n=d(e.declaration);if(!n.name)switch(n.CTOR){case he:n=new ce(n);break;case ve:n=new ue(n);break;case be:n=new ye(n);break;case me:n=new le(n);break;case _e:n=new pe(n)}return new We({start:f(e),end:c(e),body:n})},ExportNamedDeclaration:function(e){if(e.declaration)return new Ve({start:f(e),end:c(e),body:d(e.declaration)});if(e.source){var n=[],t=[];return e.specifiers.forEach((function(e){n.push(u(e.exported)),t.push(u(e.local))})),new Ze({start:f(e),end:c(e),aliases:n,keys:t,path:e.source.value})}return new Ge({start:f(e),end:c(e),properties:e.specifiers.map((function(e){var n=new Ln(d(e.local));return n.alias=u(e.exported),n}))})},ImportDeclaration:function(e){var n=null,t=null,i=null;return e.specifiers.forEach((function(e){var r=new qn(d(e.local));switch(e.type){case"ImportDefaultSpecifier":(t=r).key="";break;case"ImportNamespaceSpecifier":(n=r).key="*";break;default:r.key=e.imported.name||syn.name,(i=i||[]).push(r)}})),new Je({start:f(e),end:c(e),all:n,default:t,properties:i,path:e.source.value})},ImportExpression:function(e){var n=f(e),t=d(e.source);return new Qe({start:n,end:c(e),expression:new Rn({start:n,end:t.start,name:"import"}),args:[t]})},VariableDeclaration:function(e){return new({const:Re,let:Le}[e.kind]||Be)({start:f(e),end:c(e),definitions:e.declarations.map(d)})},Literal:function(e){var n={start:f(e),end:c(e)};if(e.bigint)return n.value=e.bigint.toLowerCase()+"n",new Qn(n);var t=e.value;if(null===t)return new tt(n);var r=e.regex;if(r&&r.pattern)return n.value=new RegExp(r.pattern,r.flags),n.value.raw_source=r.pattern,new et(n);if(r)return n.value=e.regex&&e.raw?e.raw:t,new et(n);switch((0,i.Z)(t)){case"string":return n.value=t,new Xn(n);case"number":if(isNaN(t))return new it(n);var o,a=isFinite(t)?(n.value=(o=1/t<0)?-t:t,new Kn(n)):(o=t<0,new at(n));return o?new cn({start:n.start,end:n.end,operator:"-",expression:a}):a;case"boolean":return new(t?ct:ft)(n)}},TemplateLiteral:function(e){return new Gn({start:f(e),end:c(e),expressions:e.expressions.map(d),strings:e.quasis.map((function(e){return e.value.raw}))})},TaggedTemplateExpression:function(e){var n=d(e.quasi);return n.start=f(e),n.end=c(e),n.tag=d(e.tag),n},Identifier:function(e){for(var n,t=p.length-1;"ArrayPattern"==(n=p[--t]).type||"AssignmentPattern"==n.type&&n.left===p[t+1]||"ObjectPattern"==n.type||"Property"==n.type&&n.value===p[t+1]||"VariableDeclarator"==n.type&&n.id===p[t+1];);var i=Rn;switch(n.type){case"ArrowFunctionExpression":n.body!==p[t+1]&&(i=Fn);break;case"BreakStatement":case"ContinueStatement":i=Bn;break;case"CatchClause":i=Hn;break;case"ClassDeclaration":n.id===p[t+1]&&(i=Nn);break;case"ClassExpression":n.id===p[t+1]&&(i=In);break;case"FunctionDeclaration":i=n.id===p[t+1]?jn:Fn;break;case"FunctionExpression":i=n.id===p[t+1]?Pn:Fn;break;case"LabeledStatement":i=Yn;break;case"VariableDeclaration":i={const:zn,let:Cn}[n.kind]||Mn}return new i({start:f(e),end:c(e),name:e.name})},Super:function(e){return new Vn({start:f(e),end:c(e),name:"super"})},ThisExpression:function(e){return new Wn({start:f(e),end:c(e),name:"this"})},ParenthesizedExpression:function(e){var n=d(e.expression);return n.start.parens||(n.start.parens=[]),n.start.parens.push(f(e)),n.end.parens||(n.end.parens=[]),n.end.parens.push(c(e)),n},ChainExpression:function(e){return e=d(e.expression),e.terminal=!0,e}};function t(e){return function(n){var t=n.key instanceof T,i=t?_(n.key):n.private?{type:"PrivateIdentifier",name:n.key.slice(1)}:{type:"Literal",value:n.key};return{type:"MethodDefinition",kind:e,computed:t,key:i,static:n.static,value:_(n.value)}}}function r(e){return function(n){return{type:"ForOfStatement",await:e,left:_(n.init),right:_(n.object),body:_(n.body)}}}function o(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}function a(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof F))break;var i=t.body;if(!(i instanceof Xn))break;if(t.start.pos!==i.start.pos)break;e[n]=new $(i)}return e}function s(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function f(e){var n=e.loc,t=n&&n.start,i=e.range;return new S({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:s(e)})}function c(e){var n=e.loc,t=n&&n.end,i=e.range;return new S({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:s(e)})}function u(e){return""+e["Identifier"==e.type?"name":"value"]}function l(t,i,r){var o=["start: my_start_token(M)","end: my_end_token(M)"],a=["type: "+JSON.stringify(t)];r&&r.split(/\s*,\s*/).forEach((function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(i){case"@":o.push(r+": M."+t+".map(from_moz)"),a.push(t+": M."+r+".map(to_moz)");break;case">":o.push(r+": from_moz(M."+t+")"),a.push(t+": to_moz(M."+r+")");break;case"=":o.push(r+": M."+t),a.push(t+": M."+r);break;case"%":o.push(r+": from_moz(M."+t+").body"),a.push(t+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}})),n[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+i.TYPE+"({",o.join(",\n"),"    });","};"].join("\n"))(e,f,c,d),m(i,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",a.join(",\n"),"    };","};"].join("\n"))(_,g,b))}n.UpdateExpression=n.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?cn:un)({start:f(e),end:c(e),operator:e.operator,expression:d(e.argument)})},l("EmptyStatement",z),l("ExpressionStatement",F,"expression>body"),l("BlockStatement",I,"body@body"),l("IfStatement",Ce,"test>condition, consequent>body, alternate>alternative"),l("LabeledStatement",Y,"label>label, body>body"),l("BreakStatement",ze,"label>label"),l("ContinueStatement",qe,"label>label"),l("WithStatement",X,"object>expression, body>body"),l("SwitchStatement",Me,"discriminant>expression, cases@body"),l("ReturnStatement",De,"argument>value"),l("ThrowStatement",Oe,"argument>value"),l("WhileStatement",U,"test>condition, body>body"),l("DoWhileStatement",B,"test>condition, body>body"),l("ForStatement",V,"init>init, test>condition, update>step, body>body"),l("ForInStatement",Z,"left>init, right>object, body>body"),l("DebuggerStatement",O),l("VariableDeclarator",Ue,"id>name, init>value"),l("CatchClause",Ie,"param>argname, body%body"),l("BinaryExpression",ln,"operator=operator, left>left, right>right"),l("LogicalExpression",ln,"operator=operator, left>left, right>right"),l("AssignmentExpression",dn,"operator=operator, left>left, right>right"),l("AssignmentPattern",Xe,"left>name, right>value"),l("ConditionalExpression",pn,"test>condition, consequent>consequent, alternate>alternative"),l("NewExpression",en,"callee>expression, arguments@args, pure=pure"),l("CallExpression",Qe,"callee>expression, arguments@args, optional=optional, pure=pure"),l("SequenceExpression",nn,"expressions@expressions"),l("SpreadElement",sn,"argument>expression"),l("ObjectExpression",kn,"properties@properties"),l("AwaitExpression",hn,"argument>expression"),l("YieldExpression",vn,"argument>expression, delegate=nested"),m(Q,(function(e){return b("Program",e)})),m(de,(function(e){var n=e.argnames.map(_);return e.rest&&n.push({type:"RestElement",argument:_(e.rest)}),{type:"FunctionDeclaration",id:_(e.name),async:re(e),generator:oe(e),params:n,body:b("BlockStatement",e)}})),m(ee,(function(e){var n=e.argnames.map(_);return e.rest&&n.push({type:"RestElement",argument:_(e.rest)}),ie(e)?{type:"ArrowFunctionExpression",async:re(e),params:n,body:e.value?_(e.value):b("BlockStatement",e)}:{type:"FunctionExpression",id:_(e.name),async:re(e),generator:oe(e),params:n,body:b("BlockStatement",e)}})),m(be,(function(e){return{type:"ClassDeclaration",id:_(e.name),superClass:_(e.extends),body:{type:"ClassBody",body:e.properties.map(_)}}})),m(ye,(function(e){return{type:"ClassExpression",id:_(e.name),superClass:_(e.extends),body:{type:"ClassBody",body:e.properties.map(_)}}})),m(ke,t("get")),m(Ee,t("set")),m(Se,t("method")),m(xe,(function(e){var n=e.key instanceof T;return{type:"PropertyDefinition",computed:n,key:n?_(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:_(e.value)}})),m(J,r(!0)),m(G,r(!1)),m($,(function(e){return{type:"ExpressionStatement",expression:v(e,{type:"Literal",value:e.value})}})),m(Fe,(function(e){return{type:"SwitchCase",test:_(e.expression),consequent:e.body.map(_)}})),m(Ne,(function(e){return{type:"TryStatement",block:g(e),handler:_(e.bcatch),guardedHandlers:[],finalizer:_(e.bfinally)}})),m(Ie,(function(e){return{type:"CatchClause",param:_(e.argname),guard:null,body:g(e)}})),m(Ve,(function(e){return{type:"ExportNamedDeclaration",declaration:_(e.body)}})),m(We,(function(e){return{type:"ExportDefaultDeclaration",declaration:_(e.body)}})),m(Ze,(function(e){if("*"==e.keys[0])return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0]?null:{type:"Identifier",name:e.aliases[0]},source:{type:"Literal",value:e.path}};for(var n=[],t=0;t<e.aliases.length;t++)n.push({type:"ExportSpecifier",exported:{type:"Identifier",name:e.aliases[t]},local:{type:"Identifier",name:e.keys[t]}});return{type:"ExportNamedDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),m(Ge,(function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map((function(e){return{type:"ExportSpecifier",local:_(e),exported:{type:"Identifier",name:e.alias}}}))}})),m(Je,(function(e){var n=e.properties?e.properties.map((function(e){return{type:"ImportSpecifier",local:_(e),imported:{type:"Identifier",name:e.key}}})):[];return e.all&&n.unshift({type:"ImportNamespaceSpecifier",local:_(e.all)}),e.default&&n.unshift({type:"ImportDefaultSpecifier",local:_(e.default)}),{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),m(Ye,(function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(_)}})),m(rn,(function(e){var n=e instanceof an;n={type:"MemberExpression",object:_(e.expression),computed:n,optional:e.optional,property:n?_(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:n}:n})),m(fn,(function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof cn,argument:_(e.expression)}})),m(ln,(function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:_(e.left),operator:e.operator,right:_(e.right)}})),m(mn,(function(e){return{type:"ArrayExpression",elements:e.elements.map(_)}})),m(yn,(function(e){var n=e.elements.map(_);return e.rest&&n.push({type:"RestElement",argument:_(e.rest)}),{type:"ArrayPattern",elements:n}})),m(wn,(function(e){var n=e.key instanceof T;return{type:"Property",kind:"init",computed:n,key:n?_(e.key):{type:"Literal",value:e.key},value:_(e.value)}})),m(xn,(function(e){var n=e.properties.map(_);return e.rest&&n.push({type:"RestElement",argument:_(e.rest)}),{type:"ObjectPattern",properties:n}})),m(En,(function(e){var n,t=e.key instanceof T,i=t?_(e.key):{type:"Literal",value:e.key};return e instanceof Sn?n="init":e instanceof Dn?n="get":e instanceof An&&(n="set"),{type:"Property",kind:n,computed:t,method:e instanceof Tn,key:i,value:_(e.value)}})),m(On,(function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}})),m(Vn,(function(){return{type:"Super"}})),m(Wn,(function(){return{type:"ThisExpression"}})),m(Zn,(function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}})),m(et,(function(e){var n=e.value.toString().match(/[gimuy]*$/)[0],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}})),m(Qn,(function(e){return e=e.value,{type:"Literal",bigint:e.slice(0,-1),raw:e}})),m(st,o),m(Jn,o),m(tt,o),m(nt,(function(e){return{type:"Identifier",name:String(e.value)}})),m(Gn,(function(e){var n=e.strings.length-1,t={type:"TemplateLiteral",expressions:e.expressions.map(_),quasis:e.strings.map((function(e,t){return{type:"TemplateElement",tail:t==n,value:{raw:e}}}))};return e.tag?{type:"TaggedTemplateExpression",tag:_(e.tag),quasi:t}:t})),N.DEFMETHOD("to_mozilla_ast",I.prototype.to_mozilla_ast),ot.DEFMETHOD("to_mozilla_ast",h),T.DEFMETHOD("to_mozilla_ast",(function(){throw new Error("Cannot convert AST_"+this.TYPE)}));var p=null;function d(e){p.push(e);var t=null;if(e){if(!x(n,e.type))throw new Error("Unsupported type: "+e.type);t=n[e.type](e)}return p.pop(),t}function v(e,n){var t=e.start;e=e.end;return null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file&&(n.loc.source=t.file)),n}function m(e,n){e.DEFMETHOD("to_mozilla_ast",(function(){return v(this,n(this))}))}function _(e){return null!=e?e.to_mozilla_ast():null}function g(e){return{type:"BlockStatement",body:e.body.map(_)}}function b(e,n){var t=n.body.map(_);return n.body[0]instanceof F&&n.body[0].body instanceof Xn&&t.unshift(_(new z(n.body[0]))),{type:e,body:t}}T.from_mozilla_ast=function(e){var n=p;return p=[],e=d(e),p=n,e.walk(new ut((function(e){if(e instanceof Bn){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof K);i++)if(n instanceof Y&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,Ft("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}}))),e}}();var mi,_i,gi,bi=(mi=[],["null","true","false","Infinity","-Infinity","undefined"].forEach(yi),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach((function(e){Object.getOwnPropertyNames(e).map(yi),e.prototype&&(Object.getOwnPropertyNames(new e).map(yi),Object.getOwnPropertyNames(e.prototype).map(yi))})),b(mi));function yi(e){mi.push(e)}function wi(e,n){e instanceof pn?(wi(e.consequent,n),wi(e.alternative,n)):e instanceof nn?wi(e.tail_node(),n):e instanceof Xn&&n(e.value)}function xi(e){try{return JSON.parse(e)}catch(n){throw new Error("invalid input source map: "+e)}}function ki(e,n,t){t.forEach((function(t){n[t]&&("object"!=(0,i.Z)(n[t])&&(n[t]={}),e in n[t]||(n[t][e]=n[e]))}))}function Ei(e){e&&("props"in e?e.props instanceof w||(e.props=w.fromObject(e.props)):e.props=new w)}function Si(e){return{props:e.props.toObject()}}gi="undefined"==typeof r?(_i=atob,btoa):void 0===r.alloc?(_i=function(e){return new r(e,"base64").toString()},function(e){return new r(e).toString("base64")}):(_i=function(e){return r.from(e,"base64").toString()},function(e){return r.from(e).toString("base64")}),e.Dictionary=w,e.is_statement=q,e.List=v,e.minify=function(e,n){try{(n=f(n,{annotations:void 0,compress:{},enclose:!1,ie:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&T.enable_validation();var t,r=n.timings&&{start:Date.now()};void 0===n.rename&&(n.rename=n.compress&&n.mangle),void 0!==n.annotations&&ki("annotations",n,["compress","output"]),n.ie8&&(n.ie=n.ie||n.ie8),n.ie&&ki("ie",n,["compress","mangle","output"]),n.keep_fnames&&ki("keep_fnames",n,["compress","mangle"]),n.toplevel&&ki("toplevel",n,["compress","mangle"]),n.v8&&ki("v8",n,["mangle","output"]),n.webkit&&ki("webkit",n,["compress","mangle","output"]),n.mangle&&(n.mangle=f(n.mangle,{cache:n.nameCache&&(n.nameCache.vars||{}),eval:!1,ie:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),n.mangle.properties&&("object"!=(0,i.Z)(n.mangle.properties)&&(n.mangle.properties={}),n.mangle.properties.keep_quoted&&(t=n.mangle.properties.reserved,Array.isArray(t)||(t=[]),n.mangle.properties.reserved=t),!n.nameCache||"cache"in n.mangle.properties||(n.mangle.properties.cache=n.nameCache.props||{})),Ei(n.mangle.cache),Ei(n.mangle.properties.cache)),n.sourceMap&&(n.sourceMap=f(n.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,a=[];if(n.warnings&&T.log_function((function(e){a.push(e)}),"verbose"==n.warnings),r&&(r.parse=Date.now()),e instanceof Q)o=e;else{"string"==typeof e&&(e=[e]),n.parse=n.parse||{},n.parse.toplevel=null;var s,c=n.sourceMap&&n.sourceMap.content;for(p in(c="string"==typeof c&&"inline"!=c?xi(c):c)&&(n.sourceMap.orig=Object.create(null)),e)x(e,p)&&(n.parse.filename=p,n.parse.toplevel=o=Bt(e[p],n.parse),"inline"==c?(s=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;if(r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value),!r)break;if("sourceMappingURL"==r[1]){if(!(r=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(r[2])))break;return _i(r[2])}}T.warn("inline source map not found: {name}",{name:e})}(p,o))&&(n.sourceMap.orig[p]=xi(s)):c&&(n.sourceMap.orig[p]=c))}t&&(_=t,o.walk(new ut((function(e){e instanceof we||e instanceof En?e.start&&e.start.quote&&v(e.key):e instanceof an&&wi(e.property,v)})))),["enclose","wrap"].forEach((function(t){var i,r=n[t];r&&(i=o.print_to_string().slice(0,-1),o=o[t](r),e[o.start.file]=o.print_to_string().replace(i,""))})),n.validate&&o.validate_ast(),r&&(r.rename=Date.now()),n.rename&&(o.figure_out_scope(n.mangle),o.expand_names(n.mangle)),r&&(r.compress=Date.now()),n.compress&&(o=new fi(n.compress).compress(o),n.validate&&o.validate_ast()),r&&(r.scope=Date.now()),n.mangle&&o.figure_out_scope(n.mangle),r&&(r.mangle=Date.now()),n.mangle&&(o.compute_char_frequency(n.mangle),o.mangle_names(n.mangle)),r&&(r.properties=Date.now()),n.mangle&&n.mangle.properties&&function(e,n){n=f(n,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0);var t=Object.create(n.builtins?null:bi);Array.isArray(n.reserved)&&n.reserved.forEach((function(e){t[e]=!0}));var i,r=-1;n.cache?(i=n.cache.props).each((function(e){t[e]=!0})):i=new w;var o,a=n.regex,s=!1!==n.debug;s&&(o=!0===n.debug?"":n.debug);var c=Object.create(null),u=Object.create(t);function l(e){return!u[e]&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function p(e){return!t[e]&&(!a||a.test(e))&&(i.has(e)||c[e])}function d(e){l(e)&&(c[e]=!0),p(e)||(u[e]=!0)}function h(e){if(!p(e))return e;var n,t=i.get(e);if(!t){if(!s||l(n="_$"+e+"$"+o+"_")&&(t=n),!t)for(;!l(t=ii(++r)););/^#/.test(e)&&(t="#"+t),i.set(e,t)}return t}function v(e){e instanceof nn?v(e.expressions.tail_node()):e instanceof Xn?e.value=h(e.value):e instanceof pn&&(v(e.consequent),v(e.alternative))}e.walk(new ut((function(e){if(e instanceof ln)"in"==e.operator&&wi(e.left,d);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof on)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Rn))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;wi(e.args[1],d);break;case"hasOwnProperty":if(e.args.length<1)break;wi(e.args[0],d)}}else e instanceof we?"string"==typeof e.key&&d(e.key):e instanceof on?d(e.property):e instanceof En?"string"==typeof e.key&&d(e.key):e instanceof an&&wi(e.property,d)}))),e.walk(new ut((function(e){if(e instanceof ln)"in"==e.operator&&v(e.left);else if("Call"==e.TYPE){var t=e.expression;if(t instanceof on)switch(t.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((t=t.expression)instanceof Rn))break;if("Object"!=t.name)break;if(!t.definition().undeclared)break;v(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;v(e.args[0])}}else e instanceof we?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof on?e.property=h(e.property):e instanceof En?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof an&&(n.keep_quoted||v(e.property))})))}(o,n.mangle.properties),r&&(r.output=Date.now());var u={},l=f(n.output,{ast:!1,code:!0});if(l.ast&&(u.ast=o),l.code){if(n.sourceMap&&(l.source_map=vi(n.sourceMap),n.sourceMap.includeSources)){if(e instanceof Q)throw new Error("original source content unavailable");for(var p in e)x(e,p)&&l.source_map.setSourceContent(p,e[p])}delete l.ast,delete l.code;var d,h=ui(l);o.print(h),u.code=h.get(),n.sourceMap&&(u.map=l.source_map.toString(),(d=n.sourceMap.url)&&(u.code=u.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),u.code+="inline"==d?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+gi(u.map):"\n//# sourceMappingURL="+d))}return n.nameCache&&n.mangle&&(n.mangle.cache&&(n.nameCache.vars=Si(n.mangle.cache)),n.mangle.properties&&n.mangle.properties.cache&&(n.nameCache.props=Si(n.mangle.properties.cache))),r&&(r.end=Date.now(),u.timings={parse:.001*(r.rename-r.parse),rename:.001*(r.compress-r.rename),compress:.001*(r.scope-r.compress),scope:.001*(r.mangle-r.scope),mangle:.001*(r.properties-r.mangle),properties:.001*(r.output-r.properties),output:.001*(r.end-r.output),total:.001*(r.end-r.start)}),a.length&&(u.warnings=a),u}catch(t){return{error:t}}finally{T.log_function(),T.disable_validation()}function v(e){m(_,e)}var _},e.parse=Bt,e.push_uniq=m,e.TreeTransformer=lt,e.TreeWalker=ut}(o),n["Z"]=o}}]);