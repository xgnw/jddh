"use strict";(self["webpackChunkc_tool"]=self["webpackChunkc_tool"]||[]).push([[3264],{46976:function(t,e,n){n.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:"height:"+t.height},[t._t("default")],2)},i=[],a=n(62032),o=(n(9653),n(92222),n(57327),n(41539),n(26699),n(32023),n(34809));function u(t){var e=document.querySelector(t);if(null===e)return 0;var n=window.getComputedStyle(e),r=parseFloat(n["marginTop"])+parseFloat(n["marginBottom"]);return Math.ceil(e.offsetHeight+r)}var s={name:"heightResize",props:{append:{type:Array,default:function(){return[]}},reduce:{type:Number,default:0},remove:{type:Array,default:function(){return[]}},ignore:{type:Boolean,default:!1}},data:function(){return{height:"auto"}},methods:{reportWindowSize:function(){var t=this;setTimeout((function(){return t.resize()}),2)},resize:function(){var t,e=this,n=window.innerHeight,r=[".tool-select-block",".tool-category-menu-block",".ctool-bottom"],i=r.filter((function(t){return!e.remove.includes(t)})).concat(this.append),o=(0,a.Z)(i);try{for(o.s();!(t=o.n()).done;){var s=t.value;n-=u(s)}}catch(l){o.e(l)}finally{o.f()}this.reduce>0&&(n-=this.reduce),n>100&&(n-=5),this.ignore||(this.height=n+"px"),this.$emit("resize",n)}},destroyed:function(){window.removeEventListener(o.KU,this.reportWindowSize)},mounted:function(){window.addEventListener(o.KU,this.reportWindowSize),this.resize()}},l=s,c=n(1001),f=(0,c.Z)(l,r,i,!1,null,null,null),d=f.exports},33264:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("heightResize",{attrs:{append:[".page-option-block"]}},[n("div",{staticStyle:{border:"1px solid #dcdee2","border-radius":"4px",height:"100%"}},[n("diff-editor",{ref:"editor",attrs:{collapse:t.current.collapse,language:t.current.language},model:{value:t.current.diff,callback:function(e){t.$set(t.current,"diff",e)},expression:"current.diff"}})],1)]),n("option-block",{staticClass:"page-option-block"},[n("FormItem",[n("ButtonGroup",t._l(t.buttonLang,(function(e){return n("Button",{key:e,attrs:{type:t.current.language!==e?"primary":"warning"},on:{click:function(n){return t.setLanguage(e)}}},[t._v(t._s(e)+" ")])})),1)],1),n("FormItem",[n("Select",{attrs:{placeholder:t.$t("diffs_more")},on:{"on-change":function(e){t.setLanguage(e)}}},t._l(t.allLang,(function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),n("FormItem",[n("Button",{attrs:{type:"primary",size:"small"},on:{click:t.format}},[t._v(t._s(t.$t("diffs_beautify")))])],1),n("FormItem",[n("Checkbox",{model:{value:t.current.collapse,callback:function(e){t.$set(t.current,"collapse",e)},expression:"current.collapse"}},[t._v(t._s(t.$t("diffs_collapse")))])],1)],1)],1)},i=[],a=(n(26699),n(32023),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"diff-editor",style:"height:"+t.height+";width:"+t.width})}),o=[],u=n(2146),s={name:"diffEditor",props:{value:{type:Object},language:{type:String,default:""},collapse:{type:Boolean,default:!1},height:{type:String,default:"100%"},width:{type:String,default:"100%"}},watch:{value:{handler:function(t){null!==this.editor&&this.editor.customSetValue(t)},deep:!0},language:function(t){null!==this.editor&&this.editor.customSetEditorLanguage(t)},collapse:function(){this.reset()}},mounted:function(){this.reset()},data:function(){return{editor:null}},methods:{reset:function(){this.$refs.container.innerHTML="",this.initEditor()},initEditor:function(){var t=this;this.editor=(0,u.h2)(this.value,this.$refs.container,this.language,{collapseIdentical:!!this.collapse&&2}),this.editor.customChange((function(e,n){e===t.value.original&&n===t.value.modified||(t.value.original=e,t.value.modified=n,t.$emit("input",t.value))}))}}},l=s,c=n(1001),f=(0,c.Z)(l,a,o,!1,null,null,null),d=f.exports,p=n(96486),g=n.n(p),h=n(46976),m=n(17372),v=["text","html","js","css","json","python","java","php"],b={components:{diffEditor:d,heightResize:h.Z},computed:{allLang:function(){return u.pM},buttonLang:function(){var t=g().cloneDeep(v);return this.current.language&&!t.includes(this.current.language)&&t.push(this.current.language),t}},created:function(){this.$initToolData()},methods:{setLanguage:function(t){this.current.language=t},format:function(){try{this.current.diff.original=(0,m.W)(this.current.diff.original,this.current.language),this.current.diff.modified=(0,m.W)(this.current.diff.modified,this.current.language)}catch(t){this.$Message.error(t.message)}}},watch:{current:{handler:function(t){t.diff.original&&t.diff.modified&&this.$saveToolData(this.current)},deep:!0}},data:function(){return{current:{diff:{original:"",modified:""},language:"text",collapse:!1}}}},y=b,x=(0,c.Z)(y,r,i,!1,null,null,null),w=x.exports},2146:function(t,e,n){n.d(e,{Ue:function(){return c},h2:function(){return f},pM:function(){return l}});n(47941);var r=n(4631),i=n.n(r),a=(n(88657),n(89700),n(35688),n(9898),n(78293),n(95261),n(81699),n(32095),n(14568),n(55292),n(96876),n(16531),n(36629),n(29589),n(54086),n(36702),n(80853),n(5321),n(99762),n(94750),n(2426),n(20842),n(49047),n(53631),n(72360),n(59229),n(52027)),o=n.n(a);"diff_match_patch"in window||(window["diff_match_patch"]=o(),window["DIFF_DELETE"]=-1,window["DIFF_INSERT"]=1,window["DIFF_EQUAL"]=0);var u={text:"text/plain",json:"application/json",js:"application/javascript",html:"text/html",xml:"application/xml",css:"text/css",less:"text/x-less",scss:"text/x-scss",graphql:"graphql",java:"text/x-java",ruby:"text/x-ruby",markdown:"text/x-markdown",php:"text/x-php",python:"text/x-python",sql:"text/x-sql",yaml:"text/x-yaml",ts:"application/typescript",csharp:"text/x-csharp",go:"text/x-go",dart:"application/dart",vue:"text/x-vue",protobuf:"text/x-protobuf"},s=function(t){return t&&t in u?u[t]:"text/plain"},l=Object.keys(u),c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i()(t,Object.assign({lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,foldGutter:!0,smartIndent:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},n,{mode:s(e)}));return r["customSetEditorLanguage"]=function(t){r.setOption("mode",s(t))},r},f=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.original,o=t.modified,u=i().MergeView(e,Object.assign({mode:"application/javascript",value:a,orig:o,connect:"align",allowEditingOriginals:!0,lineNumbers:!0},r,{mode:s(n)}));return u["customSetEditorLanguage"]=function(t){u.edit.setOption("mode",s(t)),u.right.orig.setOption("mode",s(t))},u["customSetValue"]=function(t){var e=t.original,n=t.modified;u.edit.getValue()===e&&u.right.orig.getValue()===n||(u.edit.setValue(e),u.right.orig.setValue(n))},u["customChange"]=function(t){u.edit.on("change",(function(){t&&t(u.edit.getValue(),u.right.orig.getValue())})),u.right.orig.on("change",(function(){t&&t(u.edit.getValue(),u.right.orig.getValue())}))},u}},49711:function(t,e,n){n.d(e,{c0:function(){return u}});n(74916),n(15306),n(24603),n(28450),n(88386),n(39714),n(23123);var r=n(73945),i=n.n(r),a=n(72237),o=n.n(a),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[o()],parser:"html",tabWidth:"tab"in e?e.tab:4})},s=function(t){var e="";t=t.replace(/(\r\n|\n|\r|\t)/gm,""),t=t.replace(/\s+/g," "),t=t.replace(new RegExp("</HEAD","gi"),"</head"),t=t.replace(new RegExp("</head ","gi"),"</head");var n="</head>",r=-1!==t.indexOf(n);if(!0===r){var i=t.split(new RegExp(n,"i"));e=i[0],t=i[1]}else n="";return t=t.replace(/(\r\n|\n|\r|\t)/gm,""),t=t.replace(/\s+/g," "),e+n+"\n"+t};e["ZP"]={beautify:u,compress:s}},17372:function(t,e,n){n.d(e,{Z:function(){return at},W:function(){return it}});n(21703),n(92222),n(38862);var r=n(73945),i=n.n(r),a=n(28182),o=n.n(a),u=n(96912),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[o()],parser:"babel",tabWidth:"tab"in e?e.tab:4})},l=function(t){var e=u.Z.minify(t,{keep_fnames:!0,compress:!1,mangle:!1,output:{beautify:!1}});if(!("code"in e)||!e.code)throw new Error("compress error:"+JSON.stringify(e.error));return e.code},c={beautify:s,compress:l},f=n(25907),d=n(39070),p=n.n(d),g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[p()],parser:"typescript",tabWidth:"tab"in e?e.tab:4})},h={beautify:g},m=(n(74916),n(15306),n(45657)),v=n.n(m),b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[v()],parser:"css",tabWidth:"tab"in e?e.tab:4})},y=function(t){return t.replace(/\s+/g," ").replace(/{\s+/g,"{").replace(/}\s+/g,"}").replace(/;\s+/g,";").replace(/\/\*\s+/g,"/*").replace(/\*\/\s+/g,"*/")},x={beautify:b,compress:y},w=n(49711),_=n(43630),E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[_.Z],parser:"sql",language:"mysql",tabWidth:"tab"in e?e.tab:4})},k=function(t){return t.replace(/\s+/g," ").replace(/\s+\(/,"(").replace(/\s+\)/,")")},W={beautify:E,compress:k},j=(n(82481),n(41465)),S=n.n(j),L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S()(t,{indentation:" ".repeat("tab"in e?e.tab:4),collapseContent:!0,lineSeparator:"\n"})},$=function(t){return S()(t,{indentation:"",collapseContent:!0,lineSeparator:""})},C={beautify:L,compress:$},Z=n(14582),F=n.n(Z),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[F()],parser:"php",tabWidth:"tab"in e?e.tab:4})},q={beautify:O},z=n(70893),V=n.n(z),I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[V()],parser:"yaml",tabWidth:"tab"in e?e.tab:4})},B={beautify:I},D=n(46345),M=n.n(D),R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[M()],parser:"markdown",tabWidth:"tab"in e?e.tab:4})},T={beautify:R},A=n(80214),N=n.n(A),P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[N()],parser:"graphql",tabWidth:"tab"in e?e.tab:4})},H={beautify:P},U=n(72237),G=n.n(U),J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[G()],parser:"vue",tabWidth:"tab"in e?e.tab:4})},K={beautify:J},Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[v()],parser:"less",tabWidth:"tab"in e?e.tab:4})},X={beautify:Q},Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[v()],parser:"scss",tabWidth:"tab"in e?e.tab:4})},tt={beautify:Y},et=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().format(t,{plugins:[G()],parser:"angular",tabWidth:"tab"in e?e.tab:4})},nt={beautify:et},rt={js:c,json:f.ZP,ts:h,vue:K,graphql:H,markdown:T,css:x,less:X,scss:tt,yaml:B,html:w.ZP,angular:nt,xml:C,php:q,sql:W},it=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n?"compress":"beautify";if(!(e in rt)||!(i in rt[e]))throw new Error('lang:"'.concat(e,'" not support ').concat(i));return rt[e][i](t,r)},at=it},25907:function(t,e,n){n(38862),n(69600),n(74916),n(23123);var r=n(73945),i=n.n(r),a=n(28182),o=n.n(a),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.tab,r=void 0===n?4:n;return i().format(t,{parser:"json5",plugins:[o()],quoteProps:"preserve",trailingComma:"none",tabWidth:r,printWidth:1})},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(JSON.stringify(t),e)},l=function(t){for(var e=[],n=!1,r=0,i=(t=t.split("\n").join(" ")).length;r<i;r++){var a=t.charAt(r);n&&a===n?"\\"!==t.charAt(r-1)&&(n=!1):n||'"'!==a&&"'"!==a?n||" "!==a&&"\t"!==a||(a=""):n=a,e.push(a)}return e.join("")};e["ZP"]={beautify:u,compress:l,objectBeautify:s}}}]);